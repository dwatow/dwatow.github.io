<!DOCTYPE html>
<html amp lang="zh-cmn-Hans">
    <head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-106752702-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-106752702-1');
  </script>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <meta itemprop="name" content="Chris">
  <meta itemprop="image" content="https://avatars1.githubusercontent.com/u/1825852?v=3&s=460">
  <link href="https://fonts.googleapis.com/css?family=Ubuntu+Mono&display=swap" rel="stylesheet">
  <meta name="description" content="Â¶è®€ Jest Doc - å»ºç½®æ¸¬è©¦ç’°å¢ƒ æ–°ç³»åˆ—ï¼(æ„Ÿè¦ºå¾ˆåƒ Youtuber) æœ€è¿‘ï¼Œå…¶å¯¦å¾ 3 æœˆé–‹å§‹å°±å’Œç¥ Q è¶…äººã€å¥½æƒ³çš„å¤¥ä¼´å€‘ä¸€èµ·è®€ Jest æ–‡ä»¶ã€‚ ä¹Ÿæ­¡è¿åœ¨æ˜ŸæœŸå››æ™šä¸Šå’Œæˆ‘å€‘ä¾†èšæœƒå“¦ã€‚ é€™ç³»åˆ—å°±æ˜¯åœ¨ç£ä¿ƒè‡ªå·±è¦è£œä¸€ä¸‹é€²åº¦ï¼Œä¸¦ä¸”å¥½å¥½çš„æŠŠ Jest å­¸å¥½ã€‚ ä¹Ÿå¸Œæœ›å¯ä»¥é †è‘— Jest çš„æ–‡ä»¶ï¼Œè£œä¸€ä¸‹æ¸¬è©¦è§€å¿µåˆ°è£¡é¢ä¾†ã€‚ Â¶åœ¨ä¸Šå¤ä¸–ç•Œï¼Œéƒ½æ€éº¼æ¸¬è©¦ç¨‹å¼è¡Œç‚ºï¼Ÿ[1] é€šå¸¸ç”¨å“ªäº›æ‰‹æ³•ï¼Œå¦‚ä½•ç¢ºä¿ç¨‹å¼ç¢¼åŸ·è¡Œ">
<meta name="keywords" content="jest,unit testing">
<meta property="og:type" content="article">
<meta property="og:title" content="è®€ Jest Doc - å»ºç½®æ¸¬è©¦ç’°å¢ƒ">
<meta property="og:url" content="https:&#x2F;&#x2F;dwatow.github.io&#x2F;2020&#x2F;04-17-jest&#x2F;jest-doc-1&#x2F;index.html">
<meta property="og:site_name" content="ã€ŠChris æŠ€è¡“ç­†è¨˜ã€‹">
<meta property="og:description" content="Â¶è®€ Jest Doc - å»ºç½®æ¸¬è©¦ç’°å¢ƒ æ–°ç³»åˆ—ï¼(æ„Ÿè¦ºå¾ˆåƒ Youtuber) æœ€è¿‘ï¼Œå…¶å¯¦å¾ 3 æœˆé–‹å§‹å°±å’Œç¥ Q è¶…äººã€å¥½æƒ³çš„å¤¥ä¼´å€‘ä¸€èµ·è®€ Jest æ–‡ä»¶ã€‚ ä¹Ÿæ­¡è¿åœ¨æ˜ŸæœŸå››æ™šä¸Šå’Œæˆ‘å€‘ä¾†èšæœƒå“¦ã€‚ é€™ç³»åˆ—å°±æ˜¯åœ¨ç£ä¿ƒè‡ªå·±è¦è£œä¸€ä¸‹é€²åº¦ï¼Œä¸¦ä¸”å¥½å¥½çš„æŠŠ Jest å­¸å¥½ã€‚ ä¹Ÿå¸Œæœ›å¯ä»¥é †è‘— Jest çš„æ–‡ä»¶ï¼Œè£œä¸€ä¸‹æ¸¬è©¦è§€å¿µåˆ°è£¡é¢ä¾†ã€‚ Â¶åœ¨ä¸Šå¤ä¸–ç•Œï¼Œéƒ½æ€éº¼æ¸¬è©¦ç¨‹å¼è¡Œç‚ºï¼Ÿ[1] é€šå¸¸ç”¨å“ªäº›æ‰‹æ³•ï¼Œå¦‚ä½•ç¢ºä¿ç¨‹å¼ç¢¼åŸ·è¡Œ">
<meta property="og:locale" content="zh-tw">
<meta property="og:updated_time" content="2020-04-21T04:11:46.969Z">
<meta name="twitter:card" content="summary">
  <title>è®€ Jest Doc - å»ºç½®æ¸¬è©¦ç’°å¢ƒ - ã€ŠChris æŠ€è¡“ç­†è¨˜ã€‹</title>
  <link rel="stylesheet" href="//cdn.jsdelivr.net/highlight.js/9.10.0/styles/github-gist.min.css">
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/KaTeX/0.5.1/katex.min.css">
  <link rel="stylesheet" href="/css/style.css">
</head>

<body>
    <script src="/js/facebooksdk.js"></script>
    <div class="Shell">
        <aside class='SideBar'>
    <canvas id="ixbg" width="100%" height="100%"></canvas>
    <section class='avatar' style="background-image: linear-gradient(to bottom, #1e5799 0%, #f8f8f8 100%)">
    </section>
    <div class='av-pic' style="background-image: url(/assets/head.svg)"></div>
    <section class='menu'>
        <div>ã€ŠChris æŠ€è¡“ç­†è¨˜ã€‹</div>
        
            <div>è¨­è¨ˆ Ã— ç ”ç©¶ Ã— ç¨‹å¼</div>
        
        <ul>
          
            <a href="/" class="Btn">
              <li>Lastest</li>
            </a>
          
            <a href="/archives/" class="Btn">
              <li>Posts</li>
            </a>
          
            <a href="/about/" class="Btn">
              <li>Works</li>
            </a>
          
            <a href="/categories/" class="Btn">
              <li>Categories</li>
            </a>
          
            <a href="/tags/" class="Btn">
              <li>Tags</li>
            </a>
          
            <a href="/categories/å‰ç«¯æ–°æ‰‹æ‘/" class="Btn">
              <li>Novice F2E</li>
            </a>
          
        </ul>
    </section>
    <section class="media">
        
            
                <a href="https://github.com/dwatow" target="_blank">
                    <i class="fab fa-sm fa-github-alt"></i>
                </a>
            
        
            
                <a href="https://www.facebook.com/dwatow" target="_blank">
                    <i class="fab fa-sm fa-facebook-f"></i>
                </a>
            
        
            
                <a href="https://www.linkedin.com/in/chris-wang-604469107" target="_blank">
                    <i class="fab fa-sm fa-linkedin-in"></i>
                </a>
            
        
    </section>
</aside>

        <div class="container">
            <div data-pager-shell>
                <div>
  <article class='ContentView'>
    <header class='PageTitle'>
        <h1>è®€ Jest Doc - å»ºç½®æ¸¬è©¦ç’°å¢ƒ</h1>
    </header>
    <section>
    
  <div id="toc" class="toc-article">
    <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#è®€-Jest-Doc-å»ºç½®æ¸¬è©¦ç’°å¢ƒ"><span class="toc-text">è®€ Jest Doc - å»ºç½®æ¸¬è©¦ç’°å¢ƒ</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#åœ¨ä¸Šå¤ä¸–ç•Œï¼Œéƒ½æ€éº¼æ¸¬è©¦ç¨‹å¼è¡Œç‚ºï¼Ÿ"><span class="toc-text">åœ¨ä¸Šå¤ä¸–ç•Œï¼Œéƒ½æ€éº¼æ¸¬è©¦ç¨‹å¼è¡Œç‚ºï¼Ÿ[1]</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#å„ªç¼ºé»æ¯”è¼ƒ"><span class="toc-text">å„ªç¼ºé»æ¯”è¼ƒ</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Getting-Started"><span class="toc-text">Getting Started</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#å»ºç«‹ç’°å¢ƒ"><span class="toc-text">å»ºç«‹ç’°å¢ƒ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#å¯«ç¨‹å¼"><span class="toc-text">å¯«ç¨‹å¼</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#æ¸¬è©¦"><span class="toc-text">æ¸¬è©¦</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#ä½¿ç”¨"><span class="toc-text">ä½¿ç”¨</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Jest-çš„-config"><span class="toc-text">Jest çš„ config</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Babel"><span class="toc-text">Babel</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#ä¸‹å›è¦‹-Youtube-style-çµå°¾"><span class="toc-text">ä¸‹å›è¦‹ (Youtube style çµå°¾)</span></a></li></ol></li></ol>
  </div>


    <h1 id="è®€-Jest-Doc-å»ºç½®æ¸¬è©¦ç’°å¢ƒ"><a class="header-anchor" href="#è®€-Jest-Doc-å»ºç½®æ¸¬è©¦ç’°å¢ƒ">Â¶</a>è®€ Jest Doc - å»ºç½®æ¸¬è©¦ç’°å¢ƒ</h1>
<p>æ–°ç³»åˆ—ï¼(æ„Ÿè¦ºå¾ˆåƒ Youtuber)<br>
æœ€è¿‘ï¼Œå…¶å¯¦å¾ 3 æœˆé–‹å§‹å°±å’Œç¥ Q è¶…äººã€å¥½æƒ³çš„å¤¥ä¼´å€‘ä¸€èµ·è®€ Jest æ–‡ä»¶ã€‚<br>
ä¹Ÿæ­¡è¿åœ¨æ˜ŸæœŸå››æ™šä¸Šå’Œæˆ‘å€‘ä¾†èšæœƒå“¦ã€‚</p>
<p>é€™ç³»åˆ—å°±æ˜¯åœ¨ç£ä¿ƒè‡ªå·±è¦è£œä¸€ä¸‹é€²åº¦ï¼Œä¸¦ä¸”å¥½å¥½çš„æŠŠ Jest å­¸å¥½ã€‚<br>
ä¹Ÿå¸Œæœ›å¯ä»¥é †è‘— Jest çš„æ–‡ä»¶ï¼Œè£œä¸€ä¸‹æ¸¬è©¦è§€å¿µåˆ°è£¡é¢ä¾†ã€‚</p>
<h1 id="åœ¨ä¸Šå¤ä¸–ç•Œï¼Œéƒ½æ€éº¼æ¸¬è©¦ç¨‹å¼è¡Œç‚ºï¼Ÿ"><a class="header-anchor" href="#åœ¨ä¸Šå¤ä¸–ç•Œï¼Œéƒ½æ€éº¼æ¸¬è©¦ç¨‹å¼è¡Œç‚ºï¼Ÿ">Â¶</a>åœ¨ä¸Šå¤ä¸–ç•Œï¼Œéƒ½æ€éº¼æ¸¬è©¦ç¨‹å¼è¡Œç‚ºï¼Ÿ<sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup></h1>
<p>é€šå¸¸ç”¨å“ªäº›æ‰‹æ³•ï¼Œå¦‚ä½•ç¢ºä¿ç¨‹å¼ç¢¼åŸ·è¡Œå‘¢ï¼Ÿ</p>
<ol>
<li>ä½¿ç”¨ debugger</li>
<li>ä½¿ç”¨é·¹æ¶ç¨‹å¼ç¢¼ (<code>console.log</code> ä¹‹é¡çš„æ±è¥¿)</li>
<li>å–®å…ƒæ¸¬è©¦</li>
</ol>
<h2 id="å„ªç¼ºé»æ¯”è¼ƒ"><a class="header-anchor" href="#å„ªç¼ºé»æ¯”è¼ƒ">Â¶</a>å„ªç¼ºé»æ¯”è¼ƒ</h2>
<p><strong>ä½¿ç”¨ debugger</strong></p>
<p>ä»”ç´°çš„ä¸€æ­¥æ­¥é€é debugger åŸ·è¡Œæ˜¯æ–¹æ³•ï¼Œå¤ ä»”ç´°ã€‚<br>
ä½†å®ƒä¸æœƒä¸»å‹•çš„å‘Šè¨´ä½ ç¨‹å¼ç¢¼è©²æ³¨æ„çš„åœ°æ–¹ã€‚<br>
æœ€å¥½æ˜¯æ¯æ¬¡ä¿®æ”¹éƒ½å¾—è·‘ä¸€æ¬¡ debugger ä¾†æª¢æŸ¥ä¸€æ¬¡ï¼Œå¾ˆèŠ±æ™‚é–“ã€‚<br>
ä¸éœ€ç”¢ç”Ÿä¸å¿…è¦çš„ç¨‹å¼ç¢¼åœ¨ç”¢å“ç¨‹å¼ç¢¼ä¸­ã€‚</p>
<p><strong>ä½¿ç”¨é·¹æ¶ç¨‹å¼ç¢¼</strong></p>
<p>é·¹æ¶ç¨‹å¼ç¢¼ä¹Ÿä¸éŒ¯ï¼Œä½†æ˜¯å®ƒè®“ç¨‹å¼ç¢¼é†œæ‰äº†ã€‚<br>
ä¹Ÿè¨±æ­é…æ¢ä»¶ç·¨è¼¯æ˜¯å€‹ä¸éŒ¯çš„é»å­ï¼Œä½†æ˜¯åœ¨é–‹ç™¼ç‰ˆå¯«ä¹…äº†é·¹æ¶ï¼Œå°±æœƒåœ¨ä½ ä¸éœ€è¦è¨Šæ¯çš„æ™‚æ©Ÿå°å‡ºæ‰€æœ‰çš„é™¤éŒ¯è³‡è¨Šçµ¦ä½ ã€‚<br>
ä¸»å‹•æä¾›ç¨‹å¼ç¢¼çš„ç‹€æ…‹è³‡è¨Šï¼Œç¢ºä¿æ˜¯å¦æ­£å¸¸ã€‚</p>
<p><strong>å–®å…ƒæ¸¬è©¦</strong></p>
<p>ç”¨å–®å…ƒæ¸¬è©¦ï¼Œæœƒè‡ªå‹•å›å ±ç¨‹å¼ç¢¼ç‹€æ³ã€‚<br>
Jest çš„å–®å…ƒæ¸¬è©¦å¾ˆå®¹æ˜“å»ºç«‹ï¼Œè€Œä¸”åªè¦ä½ æœ‰å¯«ï¼Œå°±æœƒä¾†å¸¶ç¨‹å¼ç¢¼æ„ˆæ”¹å“è³ªæ„ˆé«˜çš„ä¿¡å¿ƒã€‚<br>
ç¼ºé»ï¼Œæ‡‰è©²å°±æ˜¯éœ€è¦èŠ±æ™‚é–“å­¸ç¿’ï¼Œé€šå¸¸å–®å…ƒæ¸¬è©¦æœ€é›£çš„äº‹ï¼Œå°±æ˜¯å¯«ç¬¬ä¸€å€‹æ¸¬è©¦ï¼</p>
<p>æ¥ä¸‹ä¾†ï¼Œå°±è®“æˆ‘å€‘å¾å»ºç½® Jest çš„ç’°å¢ƒé–‹å§‹å§ï¼</p>
<h1 id="Getting-Started"><a class="header-anchor" href="#Getting-Started">Â¶</a>Getting Started</h1>
<p>ç¬¬ä¸€å›ï¼Œæˆ‘å€‘é–‹å§‹ä¾†å»ºç«‹ç’°å¢ƒã€‚<br>
å»ºç«‹ç’°å¢ƒä¹Ÿæ˜¯é–‹ç™¼èƒ½åŠ›çš„ä¸€ç’°å‘€ï¼Œè¬äº‹èµ·é ­é›£ï¼Œé›£åœ¨ä¸€æ¬¡åªåšä¸€æ¬¡å°±ä¸å†ç”¨äº†ã€‚<br>
ä¹Ÿå°±æ˜¯èªªï¼Œæ­·ç¶“çš„æ¡ˆå­å¤ å¤šï¼Œå»ºç½®ç’°å¢ƒçš„æ­¥é©Ÿæ‰æœƒå¤ ç†Ÿæ‚‰ã€‚</p>
<p>è©±ä¸å¤šèªªï¼Œå°±é–‹å§‹å§</p>
<h2 id="å»ºç«‹ç’°å¢ƒ"><a class="header-anchor" href="#å»ºç«‹ç’°å¢ƒ">Â¶</a>å»ºç«‹ç’°å¢ƒ</h2>
<p>åœ¨æ ¹ç›®éŒ„å»ºç«‹ npm project<br>
å®‰è£é–‹ç™¼å·¥å…· jest</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm init -y</span><br><span class="line">npm install --save-dev jest</span><br></pre></td></tr></table></figure>
<h2 id="å¯«ç¨‹å¼"><a class="header-anchor" href="#å¯«ç¨‹å¼">Â¶</a>å¯«ç¨‹å¼</h2>
<p>å»ºç«‹èšæœƒæ—¥æœŸçš„è³‡æ–™å¤¾ï¼Œé€²å…¥</p>
<p>å»ºç«‹ç”¢å“ç¨‹å¼çš„æ¨¡çµ„</p>
<p><strong>sum.js</strong></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sum</span>(<span class="params">a, b</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> a + b;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">module</span>.exports = sum;</span><br></pre></td></tr></table></figure>
<p>ç”¢å“ç¨‹å¼é€²å…¥é»</p>
<p><strong>app.js</strong></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> sum = <span class="built_in">require</span>(<span class="string">'./sum'</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(sum(<span class="number">1</span>, <span class="number">2</span>));</span><br></pre></td></tr></table></figure>
<p>åŸ·è¡Œ</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">chris$</span><span class="bash"> node ./2020-03-12/app.js </span></span><br><span class="line">3</span><br></pre></td></tr></table></figure>
<h2 id="æ¸¬è©¦"><a class="header-anchor" href="#æ¸¬è©¦">Â¶</a>æ¸¬è©¦</h2>
<p><strong>sum.test.js</strong></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> sum = <span class="built_in">require</span>(<span class="string">'./sum'</span>);</span><br><span class="line"></span><br><span class="line">test(<span class="string">'adds 1 + 2 to equal 3'</span>, () =&gt; &#123;</span><br><span class="line">  expect(sum(<span class="number">1</span>, <span class="number">2</span>)).toBe(<span class="number">3</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>åŸ·è¡Œæ¸¬è©¦</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">chris$</span><span class="bash"> npx jest</span></span><br><span class="line"> PASS  2020-03-12/sum.test.js</span><br><span class="line">  âœ“ adds 1 + 2 to equal 3 (4ms)</span><br><span class="line"></span><br><span class="line">Test Suites: 1 passed, 1 total</span><br><span class="line">Tests:       1 passed, 1 total</span><br><span class="line">Snapshots:   0 total</span><br><span class="line">Time:        2.284s</span><br><span class="line">Ran all test suites.</span><br></pre></td></tr></table></figure>
<h1 id="ä½¿ç”¨"><a class="header-anchor" href="#ä½¿ç”¨">Â¶</a>ä½¿ç”¨</h1>
<p>å¯ä»¥ç›´æ¥ç”¨ cli åŸ·è¡Œã€‚(<a href="https://jestjs.io/docs/en/cli" target="_blank" rel="noopener">çœ‹æ›´å¤š</a>)</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">jest my-test --notify --config=config.json</span><br></pre></td></tr></table></figure>
<ul>
<li>my-test: æŒ‡å®šè‡ªå·±çš„æª”æ¡ˆ</li>
<li><code>--notify</code>: çµ¦ä¸€å€‹æ¨æ’­</li>
<li><code>--config=config.json</code>: æŒ‡å®š config æª” (config.json)</li>
</ul>
<h2 id="Jest-çš„-config"><a class="header-anchor" href="#Jest-çš„-config">Â¶</a>Jest çš„ config</h2>
<p>å«å‡º config</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">jest init</span><br></pre></td></tr></table></figure>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">chris$</span><span class="bash"> npx jest --init</span></span><br><span class="line"></span><br><span class="line">The following questions will help Jest to create a suitable configuration for your project</span><br><span class="line"></span><br><span class="line">âœ” Would you like to use Jest when running "test" script in "package.json"? â€¦ yes</span><br><span class="line">âœ” Choose the test environment that will be used for testing â€º node</span><br><span class="line">âœ” Do you want Jest to add coverage reports? â€¦ yes</span><br><span class="line">âœ” Automatically clear mock calls and instances between every test? â€¦ yes</span><br><span class="line"></span><br><span class="line">âœï¸  Modified /Users/chris/code/UnitTestByJest/package.json</span><br><span class="line"></span><br><span class="line">ğŸ“  Configuration file created at /Users/chris/code/UnitTestByJest/jest.config.js</span><br></pre></td></tr></table></figure>
<p>é€™æ¨£å°±ç”¢ç”Ÿäº† jest.config.js</p>
<h1 id="Babel"><a class="header-anchor" href="#Babel">Â¶</a>Babel</h1>
<p>åœ¨ä½¿ç”¨ä¹‹å‰ï¼Œå…ˆæŠŠç¨‹å¼ç¢¼æ”¹æˆ ES6 çš„èªæ³•</p>
<p><strong>sum.js</strong></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> sum = <span class="function">(<span class="params">a, b</span>) =&gt;</span> a + b;</span><br><span class="line"><span class="built_in">module</span>.exports = sum;</span><br></pre></td></tr></table></figure>
<p><strong>sum.test.js</strong></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> sum <span class="keyword">from</span> <span class="string">"./sum"</span>;</span><br><span class="line"></span><br><span class="line">test(<span class="string">'adds 1 + 2 to equal 3'</span>, () =&gt; &#123;</span><br><span class="line">  expect(sum(<span class="number">1</span>, <span class="number">2</span>)).toBe(<span class="number">3</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>è·‘æ¸¬è©¦ï¼Œè©¦çœ‹çœ‹æ˜¯ä¸æ˜¯æœƒå‡ºéŒ¯ã€‚</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">chris$</span><span class="bash"> npx jest</span></span><br><span class="line"> FAIL  2020-03-12/sum.test.js</span><br><span class="line">  â— Test suite failed to run</span><br><span class="line"></span><br><span class="line">    Jest encountered an unexpected token</span><br><span class="line"></span><br><span class="line">    This usually means that you are trying to import a file which Jest cannot parse, e.g. it's not plain JavaScript.</span><br><span class="line"></span><br><span class="line">    By default, if Jest sees a Babel config, it will use that to transform your files, ignoring "node_modules".</span><br><span class="line"></span><br><span class="line">    Here's what you can do:</span><br><span class="line">     â€¢ To have some of your "node_modules" files transformed, you can specify a custom "transformIgnorePatterns" in your config.</span><br><span class="line">     â€¢ If you need a custom transformation specify a "transform" option in your config.</span><br><span class="line">     â€¢ If you simply want to mock your non-JS modules (e.g. binary assets) you can stub them out with the "moduleNameMapper" config option.</span><br><span class="line"></span><br><span class="line">    You'll find more details and examples of these config options in the docs:</span><br><span class="line">    https://jestjs.io/docs/en/configuration.html</span><br><span class="line"></span><br><span class="line">    Details:</span><br><span class="line"></span><br><span class="line">    /Users/chris/code/UnitTestByJest/2020-03-12/sum.test.js:1</span><br><span class="line">    (&#123;"Object.&lt;anonymous&gt;":function(module,exports,require,__dirname,__filename,global,jest)&#123;import sum from "./sum";</span><br><span class="line">                                                                                             ^^^^^^</span><br><span class="line"></span><br><span class="line">    SyntaxError: Unexpected token import</span><br><span class="line"></span><br><span class="line">      at Runtime.createScriptFromCode (node_modules/jest-runtime/build/index.js:1059:14)</span><br><span class="line"></span><br><span class="line">Test Suites: 1 failed, 1 total</span><br><span class="line">Tests:       0 total</span><br><span class="line">Snapshots:   0 total</span><br><span class="line">Time:        0.846s, estimated 2s</span><br><span class="line">Ran all test suites.</span><br></pre></td></tr></table></figure>
<p>åœ¨æ­¤ï¼Œç¢ºå®šéœ€è¦ Babel ï¼Œå°±å¯ä»¥å®‰è£</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">chris$</span><span class="bash"> npm install -D babel-jest @babel/core @babel/preset-env</span></span><br><span class="line">+ babel-jest@25.1.0</span><br><span class="line">+ @babel/core@7.8.7</span><br><span class="line">+ @babel/preset-env@7.8.7</span><br><span class="line">added 90 packages from 16 contributors, updated 2 packages and audited 1208611 packages in 19.43s</span><br><span class="line"></span><br><span class="line">24 packages are looking for funding</span><br><span class="line">  run `npm fund` for details</span><br><span class="line"></span><br><span class="line">found 0 vulnerabilities</span><br></pre></td></tr></table></figure>
<p>æ–°å¢ babel.config.js</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  presets: [</span><br><span class="line">    [</span><br><span class="line">      <span class="string">'@babel/preset-env'</span>,</span><br><span class="line">      &#123;</span><br><span class="line">        targets: &#123;</span><br><span class="line">          node: <span class="string">'current'</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;,</span><br><span class="line">    ],</span><br><span class="line">  ],</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>å†è·‘çœ‹çœ‹</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">chris$</span><span class="bash"> npx jest</span></span><br><span class="line"> PASS  2020-03-12/sum.test.js</span><br><span class="line">  âœ“ adds 1 + 2 to equal 3 (8ms)</span><br><span class="line"></span><br><span class="line">Test Suites: 1 passed, 1 total</span><br><span class="line">Tests:       1 passed, 1 total</span><br><span class="line">Snapshots:   0 total</span><br><span class="line">Time:        1.359s</span><br><span class="line">Ran all test suites.</span><br></pre></td></tr></table></figure>
<p>æˆåŠŸå›‰~</p>
<h2 id="ä¸‹å›è¦‹-Youtube-style-çµå°¾"><a class="header-anchor" href="#ä¸‹å›è¦‹-Youtube-style-çµå°¾">Â¶</a>ä¸‹å›è¦‹ (Youtube style çµå°¾)</h2>
<p>å–œæ­¡çš„è©±æ­¡è¿è¨‚é–±ã€æŒ‰è®šã€åˆ†äº«ã€‚<br>
æœ‰ä»»ä½•å•é¡Œä¹Ÿæ­¡è¿åœ¨ä¸‹æ–¹ç•™è¨€è¨è«–ã€‚</p>
<p>å¦‚æœæƒ³åƒåŠ èšæœƒçš„è©±ï¼Œå¯ä»¥ç§è¨Šçµ¦æˆ‘å“¦~<br>
æˆ‘å€‘ä¸‹ä¸€ç¯‡è¦‹</p>
<hr class="footnotes-sep">
<section class="footnotes">
<ol class="footnotes-list">
<li id="fn1" class="footnote-item"><p><a href="https://dwatow.gitbook.io/cppunit-cookbook-in-traditional-chinese/simple_test_case" target="_blank" rel="noopener">Simple Test Case - CppUnit é£Ÿè­œ</a> <a href="#fnref1" class="footnote-backref">â†©ï¸</a></p>
</li>
</ol>
</section>

    
    </section>
    
        <div class="fb-like" data-share="true" data-width="450" data-show-faces="true"></div>
        <section class='ArticleMeta'>
            <div>
                ç™¼è¡¨æ–¼&nbsp;
                <time datetime="2020-04-17T03:23:21.000Z" itemprop="datePublished">
              2020-04-17
            </time>
            </div>
            
                <div>
                    tags:
                    
  <li class="meta-text">
  { <a href="/tags/jest/">jest</a> }
  </li>

  <li class="meta-text">
  { <a href="/tags/unit-testing/">unit testing</a> }
  </li>


                </div>
            
        </section>
    
    
        <section id="list_related_posts">
          <h2>åŒç³»åˆ—æ–‡ç« é‚„æœ‰...</h2>
          <ul class="related-posts"><li class="related-posts-item"><a class="related-posts-link" href="/2020/04-18-jest/jest-doc-2/">è®€ Jest Doc - æ–·è¨€åº«</a><div class="related-posts-item-abstract">Â¶è®€ Jest Doc - æ–·è¨€åº«
ä¸Šä¸€å›ï¼Œè™•ç†äº†ç’°å¢ƒå»ºç½®ï¼Œé‚„æ²’æœ‰è¾¦æ³•åŸ·è¡Œ jest çš„æœ‹å‹å€‘ï¼Œå¯ä»¥çœ‹çœ‹ä¸Šä¸€é€±çš„å…§å®¹å“¦
é€™ä¸€å›ï¼Œæˆ‘å€‘è¦ä¾†çœ‹çœ‹å¦‚ä½•åˆ¤æ–·æ¸¬è©¦å°éŒ¯ã€‚
Â¶æ¸¬è©¦ </div></li><li class="related-posts-item"><a class="related-posts-link" href="/2020/04-24-jest/jest-doc-5/">è®€ Jest Doc - æ¸¬è©¦æ›¿èº«</a><div class="related-posts-item-abstract">Â¶æ¸¬è©¦æ›¿èº«
æˆ²åŠ‡æ¼”å“¡çš„æ›¿èº«, åœ¨è‹±æ–‡è£¡å« body double æˆ– stunt double[1]
å¾…æ¸¬ç‰©èˆ‡ç›¸ä¾å…ƒä»¶[2]

SUTï¼šSystem Under Tes</div></li><li class="related-posts-item"><a class="related-posts-link" href="/2020/04-21-jest/jest-doc-4/">è®€ Jest Doc - å–®å…ƒæ¸¬è©¦çš„çµæ§‹ã€åŸ·è¡Œé †åºèˆ‡åè©è§£é‡‹</a><div class="related-posts-item-abstract">Â¶è®€ Jest Doc - å–®å…ƒæ¸¬è©¦çš„çµæ§‹ã€åŸ·è¡Œé †åºèˆ‡åè©è§£é‡‹
ä¸Šä¸€ç¯‡ï¼ŒèŠäº†é—œæ–¼éåŒæ­¥å•é¡Œã€‚
é€™ä¸€ç¯‡ï¼Œæˆ‘å€‘è¦æ›´äº†è§£ Jest çš„ç”Ÿå‘½é€±æœŸ (å…¶å¯¦å°±æ˜¯åŸ·è¡Œé †åº)ã€‚
å»£ç¾©çš„</div></li><li class="related-posts-item"><a class="related-posts-link" href="/2020/04-20-jest/jest-doc-3/">è®€ Jest Doc - éåŒæ­¥æ¸¬è©¦</a><div class="related-posts-item-abstract">Â¶è®€ Jest Doc - éåŒæ­¥æ¸¬è©¦
ä¸Šä¸€å›ï¼Œæˆ‘å€‘çœ‹äº†å„å¼å„æ¨£çš„åŸºæœ¬çš„æ–·è¨€åº«ï¼Œå¯ä»¥è®“æˆ‘å€‘æ¸¬è©¦ç°¡å–®å‹åˆ¥(Number/String/Boolean)ï¼Œæ¸¬è©¦éé›¶å€¼(und</div></li><li class="related-posts-item"><a class="related-posts-link" href="/2019/11-26-vuejs/jest-for-vue-router/">Jest for Vue with Vue RouterÂ æ¼”ç·´</a><div class="related-posts-item-abstract">Â¶Jest for Vue with Vue RouterÂ æ¼”ç·´
é€™æ¬¡æ¸¬è©¦ï¼Œè¦æ¸¬è©¦çš„æ˜¯æ¨¡ä»¿ä½¿ç”¨è€…æ“ä½œã€‚
éš¨è‘—ç¶²å€çš„è®ŠåŒ–ï¼Œç•«é¢ä¹Ÿè¦è®ŠåŒ–åˆ°æŒ‡å®šçš„ Component
é€™æ¬¡çš„</div></li><li class="related-posts-item"><a class="related-posts-link" href="/2019/08-14-angularjs/angular-jest/">AngularJS + Jest å¯¦æˆ°</a><div class="related-posts-item-abstract">Â¶AngularJS + Jest å¯¦æˆ°

å¯¦åšå°ˆæ¡ˆ: https://github.com/dwatow/AngularJS-demo/tree/jest-demo
</div></li></ul>
        </section>
        <section>
          <div id="gitalk-container"></div>
        </section>
    
</article>

  <link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css">
<script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>
<script type="text/javascript">
    var gitalk = new Gitalk({
        clientID: '415f51e137fa564654af',
        clientSecret: 'e2912ef418f3ce73af7d465a5ab93bbf374a2228',
        id: window.location.pathname,
        repo: 'dwatow.github.io',
        owner: 'dwatow',
        admin: 'dwatow',
        distractionFreeMode: 'true'
    })
    gitalk.render('gitalk-container')
</script>

</div>

                <footer>
    <div>Â© 2017 - 2020 Chris </div>
    <div>
    Powered by Hexo
    </div>
</footer>

            </div>
        </div>
    </div>
    <script defer src="https://use.fontawesome.com/releases/v5.0.9/js/all.js" integrity="sha384-8iPTk2s/jMVj81dnzb/iFR2sdA7u06vHJyyLlAd4snFpCl/SnyUjRrbdJsw1pGIl" crossorigin="anonymous"></script>
    <script src="/js/ixbg/ixbg.js"></script>
    <script src="/js/scrollTop.js"></script>
</body>
</html>
