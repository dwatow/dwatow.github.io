<!DOCTYPE html>
<html lang="zh-cmn-Hans">
    <head><link rel=manifest href=/manifest.json>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script
    async
    src="https://www.googletagmanager.com/gtag/js?id=UA-106752702-1"
  ></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() {
      dataLayer.push(arguments);
    }
    gtag("js", new Date());
    gtag("config", "UA-106752702-1");
  </script>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="X-UA-Compatible" content="ie=edge" />
  <meta itemprop="name" content="Chris's Blog" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta
    itemprop="image"
    content="https://avatars1.githubusercontent.com/u/1825852?v=3&s=460"
  />
  <link rel="canonical" href="https://dwatow.github.io/2011/05-13-blogger/8596674430394514674/"/>
  <link rel="preconnect" href="https://fonts.gstatic.com" />
  <link
    href="https://fonts.googleapis.com/css2?family=Josefin+Sans:ital,wght@0,100;0,200;0,300;0,400;0,600;0,700;1,100;1,200;1,300;1,400;1,500;1,600;1,700&display=swap"
    rel="stylesheet"
  />
  <meta name="description" content="¶K&amp;R2心得&#x2F;&#x2F;小筆記 原文連結: https:&#x2F;&#x2F;darkblack01.blogspot.com&#x2F;2011&#x2F;05&#x2F;k.html 移植時的最後更新日期: 2015-12-23T14:16:57.749+08:00 因為K&amp;R2到後面真的是太難了！XDDD（我想K&amp;R會不會想「我發明充滿美的C語言，因為 C++的影響變成了這種醜醜又難用的樣子」而不開心？）所以，來寫個小筆">
<meta property="og:type" content="article">
<meta property="og:title" content="K&amp;R2心得&#x2F;&#x2F;小筆記">
<meta property="og:url" content="https://dwatow.github.io/2011/05-13-blogger/8596674430394514674/index.html">
<meta property="og:site_name" content="《Chris 技術筆記》">
<meta property="og:description" content="¶K&amp;R2心得&#x2F;&#x2F;小筆記 原文連結: https:&#x2F;&#x2F;darkblack01.blogspot.com&#x2F;2011&#x2F;05&#x2F;k.html 移植時的最後更新日期: 2015-12-23T14:16:57.749+08:00 因為K&amp;R2到後面真的是太難了！XDDD（我想K&amp;R會不會想「我發明充滿美的C語言，因為 C++的影響變成了這種醜醜又難用的樣子」而不開心？）所以，來寫個小筆">
<meta property="og:locale" content="zh_TW">
<meta property="article:published_time" content="2011-05-12T19:52:00.000Z">
<meta property="article:modified_time" content="2022-03-05T00:42:54.132Z">
<meta property="article:author" content="Chris">
<meta property="article:tag" content="C_and_Cpp">
<meta property="article:tag" content="KnR2">
<meta name="twitter:card" content="summary">
  <title>
    K&amp;R2心得//小筆記 - 《Chris 技術筆記》
  </title>
  <meta
    name="viewport"
    content="width=device-width,minimum-scale=1,initial-scale=1"
  />
  <script
    defer
    src="https://cdn.bootcdn.net/ajax/libs/raphael/2.3.0/raphael.min.js"
  ></script>
  
<link rel="stylesheet" href="//cdn.jsdelivr.net/highlight.js/9.10.0/styles/github-gist.min.css">
 
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/KaTeX/0.5.1/katex.min.css">

  
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 5.4.2"></head>

<body>
    <div class="Shell">
        <aside class='SideBar'>
    <canvas id="ixbg" width="100%" height="100%"></canvas>
    <section class='avatar' style="background-image: linear-gradient(to bottom, #1e5799 0%, #f8f8f8 100%)">
    </section>
    <div class='av-pic' style="background-image: url(/assets/head.svg)"></div>
    <section class='menu'>
        <div>《Chris 技術筆記》</div>
        
            <div>設計 × 研究 × 程式</div>
        
        <ul>
          
            <a href="/" class="Btn">
              <li>Lastest</li>
            </a>
          
            <a href="/archives/" class="Btn">
              <li>Posts</li>
            </a>
          
            <a href="/about/" class="Btn">
              <li>Works</li>
            </a>
          
            <a href="/categories/" class="Btn">
              <li>Categories</li>
            </a>
          
            <a href="/tags/" class="Btn">
              <li>Tags</li>
            </a>
          
            <a href="/categories/前端新手村/" class="Btn">
              <li>Novice F2E</li>
            </a>
          
        </ul>
    </section>
    <section class="media">
        
            
                <a href="https://github.com/dwatow" target="_blank">
                    <i class="fab fa-sm fa-github-alt"></i>
                </a>
            
        
            
                <a href="https://www.facebook.com/dwatow" target="_blank">
                    <i class="fab fa-sm fa-facebook-f"></i>
                </a>
            
        
            
                <a href="https://www.linkedin.com/in/chris-wang-604469107" target="_blank">
                    <i class="fab fa-sm fa-linkedin-in"></i>
                </a>
            
        
    </section>
</aside>

        <div class="container">
            <div data-pager-shell>
                <div>
  <article class='ContentView'>
    <header class='PageTitle'>
        <h1>K&amp;R2心得//小筆記</h1>
    </header>
    <section>
    
  <div id="toc" class="toc-article">
    <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#K-R2%E5%BF%83%E5%BE%97-%E5%B0%8F%E7%AD%86%E8%A8%98"><span class="toc-text">K&amp;R2心得&#x2F;&#x2F;小筆記</span></a></li></ol>
  </div>


    <h1 id="K-R2心得-小筆記"><a class="header-anchor" href="#K-R2心得-小筆記">¶</a>K&amp;R2心得//小筆記</h1>
<p>原文連結: <a target="_blank" rel="noopener" href="https://darkblack01.blogspot.com/2011/05/k.html">https://darkblack01.blogspot.com/2011/05/k.html</a><br>
移植時的最後更新日期: 2015-12-23T14:16:57.749+08:00</p>
<p>因為K&amp;R2到後面真的是太難了！XDDD<br />（我想K&amp;R會不會想「我發明充滿美的C語言，因為 C++的影響變成了這種醜醜又難用的樣子」而不開心？）<br /><br />所以，來寫個小筆記吧！<br /><br /><a name='more'></a><br /><br /><strong><span style="font-size: 24px;">union</span></strong><br />宣告一個記憶體空間，存放不同的type在同一個記憶體空間（一次當作一種type）<br />時而int，時而char，時而double或long，使用者可以自行自訂<br />起始位址都是同一個，與structure類似。<br /><br /><strong><span style="font-size: 24px;">structure</span></strong><br />宣告一個記憶體空間，存放不同的type在連續記憶體空間<br />包含任何能宣告的方式（包含自己的指標）<br />起始位址相鄰，與陣列相類似<br /><br /><strong><span style="font-size: 24px;">陣列</span></strong><br />宣告一個記憶體空間，存放相同的type在連續的記憶體空間（一次宣告一種type）<br />這些type在程式開始時存在，不可以增減（若要增減，則要使用動態記憶體宣告）<br /><br /><br /><br /><br /><strong><span style="font-size: 24px;">typedef</span></strong><br />將後面宣告的變數抄寫到相對應的定義字上<br /><br />//typedef只是定義了type的別名（參考），並不會增加新的資料型態<br /><span style="color: red;">typedef unsigned char PIXEL[30]</span><br />…<br />//後面這樣宣告變數<br /><span style="color: blue;">PIXEL colorR;</span><br />//等同於這樣（把字抄上去）<br /><span style="color: red;">typedef unsigned char <span style="color: blue;">colorR<span style="color: red;">[30]</span></span>;</span><br />再將typedef刪掉，放置在變數宣告的地方，就是同義動作<br /><span style="color: red;"><s>typedef</s> unsigned char <span style="color: blue;">colorR</span></span><span style="color: red;"><span style="color: blue;"><span style="color: red;">[30]</span></span>;</span><br /><br /><span style="color: red;">unsigned char </span><span style="color: red;"><span style="color: blue;">colorR</span></span><span style="color: red;"><span style="color: blue;"><span style="color: red;">[30]</span></span>;</span><br /><br /><br />和 #define 的用法很像<br /><br /><span style="color: red;">#define ABC ORZ</span><br />意思是只要出現ABC就把這個字用ORZ替換掉（把字抄下來）<br /><br /><span style="color: blue;">int ABC[30] ;</span><br />等於<br /><span style="color: blue;">int <span style="color: red;">ORZ</span>[30];</span><br /><br /><br /><span style="font-size: 24px;">修飾字</span><br /><br /><strong><span style="font-size: 24px;">const</span></strong><br /> 的真正意義是「唯讀」<br /><br /><br /><br />在此，typedef和const合體加上宣告指標，就成為可怕令人搞混的鬼東西了！<br />以下有整理一下！請詳讀：<br /><br /><br /><span style="font-size: 20px;"><strong>//唯讀指標</strong></span><br /><span class="Apple-tab-span" style="white-space: pre;"> </span><span style="color: blue;">int </span>*const icp = &amp;i2;   <span style="color: #a2a2a2;">//常數指標 const pointer</span><br /><span style="color: #a2a2a2;">//                     icp = iptr;   //ItP可以改值，不可以改址</span><br /><span class="Apple-tab-span" style="white-space: pre;"> </span>               *icp = 3;<br /><br /><br /><span style="color: blue;">typedef </span>string *sp; <span style="color: #a2a2a2;">//指標  Printer</span><br /><br /><br />   string s1;<br /><br />   string s2;<br />   string *sptr = 0;<br /><br /><span style="color: #a2a2a2;">   //唯讀指標（指標變唯讀）</span><br />   sp <span style="color: blue;">const </span>SpCP = &amp;s1;<br />           *SpCP = “changed”;  <span style="color: #a2a2a2;">//OK</span><br /><span style="color: #a2a2a2;">//            SpCP = sptr;  //NG 可以改值，不可以改址（ItP）</span><br /><br />   <span style="color: #a2a2a2;">//唯讀指標（唯讀的指標）</span><br />   <span style="color: blue;">const </span>sp CSpP = &amp;s2;<br />            *CSpP = “changed”;  <span style="color: #a2a2a2;">//OK</span><br /><span style="color: #a2a2a2;">//             CSpP = sptr;  //NG 可以改值，不可以改址（ItP）</span><br /><span style="color: #a2a2a2;"><br /><br /></span><br /><span style="color: #a2a2a2;"><br /></span><br /><span style="font-size: 20px;"><strong>//唯讀存取</strong></span><br /><span class="Apple-tab-span" style="white-space: pre;"><span style="color: #a2a2a2;"> </span></span><span style="color: blue;">const </span>int *cip = &amp;i1;  <span style="color: #a2a2a2;">//pointer to const</span><br /><span style="color: #a2a2a2;">//<span class="Apple-tab-span" style="white-space: pre;"> </span>              *cip = 3;    //PtC 不可以改值，可以改址</span><span class="Apple-tab-span" style="white-space: pre;"> </span><br />                       cip = iptr;<br /><br /><br /><span style="color: blue;">typedef </span><span style="color: blue;">const </span>string *csp;  <span style="color: #a2a2a2;">//唯讀存取的指標Pointer to const</span><br /><br /><span style="color: #a2a2a2;"><span class="Apple-tab-span" style="white-space: pre;"> </span></span><span style="color: #a2a2a2;">//唯讀存取</span><br /><span style="color: #a2a2a2;"></span><br /><div style="color: black;"><span style="color: #a2a2a2;"><span class="Apple-tab-span" style="white-space: pre;"> </span>csp CSP = &amp;s1;</span><br /><div style="color: black;"><span style="color: #a2a2a2;"><span style="color: #a2a2a2;">//<span style="color: black;"><span class="Apple-tab-span" style="white-space: pre;"> </span></span><span style="color: black;">    </span> *CSP = “changed”;  //NG</span></span><br /><div style="color: black;"><span style="color: #a2a2a2;"><span class="Apple-tab-span" style="white-space: pre;"> </span>      CSP = sptr; <span style="color: #a2a2a2;">          //OK 不可以改值，可以改址（ItP）</span></span><br /><div style="color: black;"><span style="color: #a2a2a2;"><br /></span></div></div></div></div></p>

    
    </section>
    
        <div class="fb-like" data-share="true" data-width="450" data-show-faces="true"></div>
        <section class='ArticleMeta'>
            <div>
                發表於&nbsp;
                <time datetime="2011-05-12T19:52:00.000Z" itemprop="datePublished">
              2011-05-13
            </time>
            </div>
            
                <div>
                    tags:
                    
  <li class="meta-text">
  { <a href="/tags/C-and-Cpp/">C_and_Cpp</a> }
  </li>

  <li class="meta-text">
  { <a href="/tags/KnR2/">KnR2</a> }
  </li>


                </div>
            
        </section>
    
</article>

  <section id="comment">
  <script src="https://utteranc.es/client.js" repo="dwatow/dwatow.github.io" issue-term="title" label="utteranc"
    theme="github-light" crossorigin="anonymous" async>
  </script>
</section>
</div>

                <footer>
    <div>© 2017 - 2025 Chris </div>
    <div>
    Powered by Hexo
    </div>
</footer>

            </div>
        </div>
    </div>
    <script defer src="https://use.fontawesome.com/releases/v5.0.9/js/all.js" integrity="sha384-8iPTk2s/jMVj81dnzb/iFR2sdA7u06vHJyyLlAd4snFpCl/SnyUjRrbdJsw1pGIl" crossorigin="anonymous"></script>
    
<script src="/js/ixbg/ixbg.js"></script>

    
<script src="/js/scrollTop.js"></script>

<script>if ('serviceWorker' in navigator) {
  navigator.serviceWorker.register('/sw.js?t=1748049331006')
    .then(function () {console.log('ServiceWorker Register Successfully.')})
    .catch(function (e) {console.error(e)});
}
</script><script>if ('serviceWorker' in navigator) {
  navigator.serviceWorker.register('/sw.js?t=1748049331034')
    .then(function () {console.log('ServiceWorker Register Successfully.')})
    .catch(function (e) {console.error(e)});
}
</script></body>
</html>
