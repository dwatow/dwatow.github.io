<!DOCTYPE html>
<html lang="zh-cmn-Hans">
    <head><link rel=manifest href=/manifest.json>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script
    async
    src="https://www.googletagmanager.com/gtag/js?id=UA-106752702-1"
  ></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() {
      dataLayer.push(arguments);
    }
    gtag("js", new Date());
    gtag("config", "UA-106752702-1");
  </script>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="X-UA-Compatible" content="ie=edge" />
  <meta itemprop="name" content="Chris's Blog" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta
    itemprop="image"
    content="https://avatars1.githubusercontent.com/u/1825852?v=3&s=460"
  />
  <link rel="canonical" href="https://dwatow.github.io/2013/05-24-blogger/2845958026444792520/"/>
  <link rel="preconnect" href="https://fonts.gstatic.com" />
  <link
    href="https://fonts.googleapis.com/css2?family=Josefin+Sans:ital,wght@0,100;0,200;0,300;0,400;0,600;0,700;1,100;1,200;1,300;1,400;1,500;1,600;1,700&display=swap"
    rel="stylesheet"
  />
  <meta name="description" content="¶Code Complete II《軟體建構之道 2》#15 讀書心得與整理 原文連結: https:&#x2F;&#x2F;darkblack01.blogspot.com&#x2F;2013&#x2F;05&#x2F;code-complete-ii-215.html 移植時的最後更新日期: 2013-07-16T09:56:00.604+08:00 第十五章 使用條列式Using Conditionals15.1 if陳述式if State">
<meta property="og:type" content="article">
<meta property="og:title" content="Code Complete II《軟體建構之道 2》#15 讀書心得與整理">
<meta property="og:url" content="https://dwatow.github.io/2013/05-24-blogger/2845958026444792520/index.html">
<meta property="og:site_name" content="《Chris 技術筆記》">
<meta property="og:description" content="¶Code Complete II《軟體建構之道 2》#15 讀書心得與整理 原文連結: https:&#x2F;&#x2F;darkblack01.blogspot.com&#x2F;2013&#x2F;05&#x2F;code-complete-ii-215.html 移植時的最後更新日期: 2013-07-16T09:56:00.604+08:00 第十五章 使用條列式Using Conditionals15.1 if陳述式if State">
<meta property="og:locale" content="zh_TW">
<meta property="article:published_time" content="2013-05-23T22:34:00.003Z">
<meta property="article:modified_time" content="2022-03-05T00:42:54.129Z">
<meta property="article:author" content="Chris">
<meta property="article:tag" content="Code Complete 2">
<meta name="twitter:card" content="summary">
  <title>
    Code Complete II《軟體建構之道 2》#15 讀書心得與整理 - 《Chris 技術筆記》
  </title>
  <meta
    name="viewport"
    content="width=device-width,minimum-scale=1,initial-scale=1"
  />
  <script
    defer
    src="https://cdn.bootcdn.net/ajax/libs/raphael/2.3.0/raphael.min.js"
  ></script>
  
<link rel="stylesheet" href="//cdn.jsdelivr.net/highlight.js/9.10.0/styles/github-gist.min.css">
 
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/KaTeX/0.5.1/katex.min.css">

  
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 5.4.2"></head>

<body>
    <div class="Shell">
        <aside class='SideBar'>
    <canvas id="ixbg" width="100%" height="100%"></canvas>
    <section class='avatar' style="background-image: linear-gradient(to bottom, #1e5799 0%, #f8f8f8 100%)">
    </section>
    <div class='av-pic' style="background-image: url(/assets/head.svg)"></div>
    <section class='menu'>
        <div>《Chris 技術筆記》</div>
        
            <div>設計 × 研究 × 程式</div>
        
        <ul>
          
            <a href="/" class="Btn">
              <li>Lastest</li>
            </a>
          
            <a href="/archives/" class="Btn">
              <li>Posts</li>
            </a>
          
            <a href="/about/" class="Btn">
              <li>Works</li>
            </a>
          
            <a href="/categories/" class="Btn">
              <li>Categories</li>
            </a>
          
            <a href="/tags/" class="Btn">
              <li>Tags</li>
            </a>
          
            <a href="/categories/前端新手村/" class="Btn">
              <li>Novice F2E</li>
            </a>
          
        </ul>
    </section>
    <section class="media">
        
            
                <a href="https://github.com/dwatow" target="_blank">
                    <i class="fab fa-sm fa-github-alt"></i>
                </a>
            
        
            
                <a href="https://www.facebook.com/dwatow" target="_blank">
                    <i class="fab fa-sm fa-facebook-f"></i>
                </a>
            
        
            
                <a href="https://www.linkedin.com/in/chris-wang-604469107" target="_blank">
                    <i class="fab fa-sm fa-linkedin-in"></i>
                </a>
            
        
    </section>
</aside>

        <div class="container">
            <div data-pager-shell>
                <div>
  <article class='ContentView'>
    <header class='PageTitle'>
        <h1>Code Complete II《軟體建構之道 2》#15 讀書心得與整理</h1>
    </header>
    <section>
    
  <div id="toc" class="toc-article">
    <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Code-Complete-II%E3%80%8A%E8%BB%9F%E9%AB%94%E5%BB%BA%E6%A7%8B%E4%B9%8B%E9%81%93-2%E3%80%8B-15-%E8%AE%80%E6%9B%B8%E5%BF%83%E5%BE%97%E8%88%87%E6%95%B4%E7%90%86"><span class="toc-text">Code Complete II《軟體建構之道 2》#15 讀書心得與整理</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link"><span class="toc-text">第十五章 使用條列式
Using Conditionals</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link"><span class="toc-text">15.1 if陳述式
if Statements</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link"><span class="toc-text">簡單if-then陳述式(if &amp; if-else)
Plain if-then Statements</span></a></li><li class="toc-item toc-level-4"><a class="toc-link"><span class="toc-text">連續if-then-else陳述式(if-else if)
Chains of if-then-else Statement</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link"><span class="toc-text">15.2 case陳述式
case Statement</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link"><span class="toc-text">選擇有效的case排序
Choosing the Most Effective Order of Case</span></a></li><li class="toc-item toc-level-4"><a class="toc-link"><span class="toc-text">使用case陳述式的秘訣
Tips for Using case Statements</span></a></li></ol></li></ol></li></ol></li></ol>
  </div>


    <h1 id="Code-Complete-II《軟體建構之道-2》-15-讀書心得與整理"><a class="header-anchor" href="#Code-Complete-II《軟體建構之道-2》-15-讀書心得與整理">¶</a>Code Complete II《軟體建構之道 2》#15 讀書心得與整理</h1>
<p>原文連結: <a target="_blank" rel="noopener" href="https://darkblack01.blogspot.com/2013/05/code-complete-ii-215.html">https://darkblack01.blogspot.com/2013/05/code-complete-ii-215.html</a><br>
移植時的最後更新日期: 2013-07-16T09:56:00.604+08:00</p>
<h2><span style="font-size: x-large;">第十五章 使用條列式<br />Using Conditionals</span></h2><h3><span style="font-size: large;">15.1 if陳述式<br />if Statements</span></h3><br /><h4>簡單if-then陳述式(if &amp; if-else)<br />Plain if-then Statements</h4><pre class="prettyprint"><code class="language-cpp">if (Expression)<br />&#123;<br />    //Statement<br />&#125;<br />else<br />&#123;<br />    //Statement<br />&#125;</code></pre><ul><b>先寫一般路徑的程式，再寫非一般的情況 </b><ul><pre class="prettyprint"><code class="language-cpp">if(運算式)<br />    一般路徑<br />else<br />    非一般路徑</code></pre></ul><b>慎用等號</b><br /><ol><li>用'&gt;'取代'&gt;='</li><li>用'&lt;'取代'&lt;='</li><li><span style="color: #3d85c6;">用'&gt;'和'&lt;'的範圍取代'=='</span></li></ol><ul>比較不會出現Off by one的錯誤</ul><ul><pre class="prettyprint"><code class="language-cpp">if(b == B)</code></pre>改成 <pre class="prettyprint"><code class="language-cpp">if(b &gt; A &amp;&amp; b &lt; c)</code></pre>比較好</ul><b>正常的情況放在if這一句，而不是else這一句</b><br /><ul><pre class="prettyprint"><code class="language-cpp">if(判斷A)&#123;<br />    例外A----------------x<br />&#125;else&#123;<br />    正常A----------------o<br />    if (判斷B)&#123;<br />        正常B------------o<br />        if (判斷C)&#123;<br />            例外C--------x<br />        else<br />            正常C--------o<br />    &#125;else<br />        例外B------------x<br />&#125;</code></pre>改成下面這樣比較好 <pre class="prettyprint"><code class="language-cpp">if(判斷A)&#123;<br />    正常A----------------o<br />    if (判斷B)&#123;<br />        正常B------------o<br />        if (判斷C)&#123;<br />            正常C--------o<br />        else<br />            例外C--------x<br />    &#125;else<br />        例外B------------x<br />&#125;else&#123;<br />    例外A----------------x<br />&#125;</code></pre></ul><b>有意義的陳述式放在if後面</b><br /><ul><pre class="prettyprint"><code class="language-cpp">if(someTest)<br />    ;<br />else<br />    doSomething();</code></pre>不如這樣寫來得好 <pre class="prettyprint"><code class="language-cpp">if(!someTest)<br />    doSomething();</code></pre></ul><b>寫if陳述式時，一併思考else陳述式</b><br /><ul>Sample code <pre class="prettyprint"><code class="language-cpp">if(!someTest)<br />    doSomething();<br />else<br />    //else doSomethingElse() is out of define<br />    //You can add assert(0) or not<br /></code></pre></ul><b>測試else的邏輯正確性</b><br /><ul>如果可以測試else務必測試</ul><b>檢查if和else的相反運算式</b><br /><ul>小心搞反了if的邏輯</ul></ul><br /><h4>連續if-then-else陳述式(if-else if)<br />Chains of if-then-else Statement</h4><pre class="prettyprint"><code class="language-cpp">if (Expression)<br />&#123;<br />    //Statement<br />&#125;<br />else if (Expression)<br />&#123;<br />    //Statement<br />&#125;<br />else<br />&#123;<br />    //Statement<br />&#125;</code></pre><ul><b>用回傳布林值的函數或運算式簡化複雜測試</b><ul>增加可讀性 <pre class="prettyprint"><code class="language-cpp">//C++ Example of an if-then-else Chain That Uses Boolan function Calls<br />      if ( IsControl( input Character ) ) &#123;<br />    characterType = Chatactertype_ControlCharacter;<br />&#125;else if ( IsPunctuation ( inputCharacter ) ) &#123;<br />    characterType = ChatacterType_Punctuation;<br />&#125;else if ( IsDigit ( inputCharacter ) ) &#123;<br />    characterType = ChatacterType_Digit;<br />&#125;else if ( IsLetter ( inputCharacter  ) ) &#123;<br />    characterType = ChatacterType_Letter;<br />&#125;</code></pre></ul><b>把最常見案例放在前面</b><br /><ul>增加可讀性，減少判斷的次數，提高效率 <pre class="prettyprint"><code class="language-cpp">if ( ... ) &#123;<br />    //最常見<br />&#125;else if ( ... ) &#123;<br />    //次常見<br />&#125;else if ( ... ) &#123;<br />    //不常見<br />&#125;</code></pre></ul><b>確定已包含所有案例</b><ul>else用來產生不應該發生的錯誤訊息 <pre class="prettyprint"><code class="language-cpp">//一個只有三種情況的範例，其它情況為「不該發生的情況」<br />if ( 是否為情況一 ) &#123;<br />    //情況一<br />&#125;else if ( 是否為情況二 ) &#123;<br />    //情況二<br />&#125;else if ( 是否為情況三 ) &#123;<br />    //情況三<br />&#125;else&#123;<br />    //不該發生的情況<br />    //用assert(0) hight-light<br />&#125;</code></pre></ul><b>如果你的語言支援，把if-else改成其它的語法</b><br /><ul>優點：更好撰寫、提昇可讀性</ul></ul><br /><br /><h3><span style="font-size: large;">15.2 case陳述式<br />case Statement</span></h3><pre class="prettyprint"><code class="language-cpp">switch (Expression)<br />&#123;<br />    case 1:<br />        //Statement<br />        break;<br />    case 2:<br />        //Statement<br />        break;<br />    default:<br />        //Statement<br />&#125;</code></pre><h4>選擇有效的case排序<br />Choosing the Most Effective Order of Case</h4><ol><li><b>依字母或數字順序(A~Z, 0~9)</b></li><li><b>先置入正常，再置入例外(正常~例外)</b></li><li><b>先置入常見，再置入不常見(常見~不常見)</b></li></ol><br /><h4>使用case陳述式的秘訣<br />Tips for Using case Statements</h4><ul><b>簡化每個案例動作 </b><ol><li>簡短程式碼</li><li>呼叫常式</li></ol><b>不要為了使用case而刻意創造「特殊的判斷方式」（phony variables） </b><ul>判斷無法快速擴充，當要擴充時必須重新寫整段，並且測試。等於重新設計整段程式碼。</ul><b>只使用default案例偵測唯一案例</b><br /><ul>正確的使用default的話，新增案例，只是小事一樁<br />不正確的使用default的話，要把default案例裡的code移走之類的... </ul><b>使用default偵測錯誤 </b><ul>default的用法： 將「根本不該發生」的情況放在default，在除錯時，這一個方式非常有用。 </ul><ul>不使用default偵測錯誤，隱喻了每一個案例都是正確的。請務必檢查輸入的值是否正確。</ul><b>在C++和Java中避免case程式碼最後接著下一個case </b><ul>程式會繼續往下一個案例執行，直到最後一個案例或者遇到break;或return<br />使用break; 或者 return xxx;來做case的結尾</ul><b>在C++中，case程式允許緊接著下一個caes預必加註解 </b><ul>如果，在你的設計，就是要讓這個案例執行完，接著下一個案例執行，或者這兩個案例有共同的程式段，必須這麼做。請加註解說明，以免接手的程式設計師以為這是你犯的錯誤。</ul></ul>

    
    </section>
    
        <div class="fb-like" data-share="true" data-width="450" data-show-faces="true"></div>
        <section class='ArticleMeta'>
            <div>
                發表於&nbsp;
                <time datetime="2013-05-23T22:34:00.003Z" itemprop="datePublished">
              2013-05-24
            </time>
            </div>
            
                <div>
                    tags:
                    
  <li class="meta-text">
  { <a href="/tags/Code-Complete-2/">Code Complete 2</a> }
  </li>


                </div>
            
        </section>
    
</article>

  <section id="comment">
  <script src="https://utteranc.es/client.js" repo="dwatow/dwatow.github.io" issue-term="title" label="utteranc"
    theme="github-light" crossorigin="anonymous" async>
  </script>
</section>
</div>

                <footer>
    <div>© 2017 - 2025 Chris </div>
    <div>
    Powered by Hexo
    </div>
</footer>

            </div>
        </div>
    </div>
    <script defer src="https://use.fontawesome.com/releases/v5.0.9/js/all.js" integrity="sha384-8iPTk2s/jMVj81dnzb/iFR2sdA7u06vHJyyLlAd4snFpCl/SnyUjRrbdJsw1pGIl" crossorigin="anonymous"></script>
    
<script src="/js/ixbg/ixbg.js"></script>

    
<script src="/js/scrollTop.js"></script>

<script>if ('serviceWorker' in navigator) {
  navigator.serviceWorker.register('/sw.js?t=1745204819342')
    .then(function () {console.log('ServiceWorker Register Successfully.')})
    .catch(function (e) {console.error(e)});
}
</script><script>if ('serviceWorker' in navigator) {
  navigator.serviceWorker.register('/sw.js?t=1745204819443')
    .then(function () {console.log('ServiceWorker Register Successfully.')})
    .catch(function (e) {console.error(e)});
}
</script></body>
</html>
