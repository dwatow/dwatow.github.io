<!DOCTYPE html>
<html lang="zh-cmn-Hans">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <meta name="keywords" content="" />
  <meta name="title" content="《Chris 技術筆記》">
  <meta name="author" content="Chris">
  <meta name="copyright" content="《Chris 技術筆記》2018">
  <meta name="description" content="從C++到Javascript，邁向網頁前端之路。">
  <meta itemprop="name" content="Chris">
  <meta itemprop="image" content="https://avatars1.githubusercontent.com/u/1825852?v=3&s=460">
  <meta property="og:title" content="《Chris 技術筆記》">
  <meta property="og:url" content="dwatow.github.io">
  <meta property="og:image" content="https://avatars1.githubusercontent.com/u/1825852?v=3&s=460">
  <meta property="og:description" content="從C++到Javascript，邁向網頁前端之路">

  <title>
    
    《Chris 技術筆記》
  </title>
    
    
      <!--link rel="stylesheet" href="//cdn.jsdelivr.net/highlight.js/9.10.0/styles/github-gist.min.css"-->
    <link rel="stylesheet" href="//cdn.jsdelivr.net/highlight.js/9.10.0/styles/github-gist.min.css">
    <link rel="stylesheet" href="/css/style.css">
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-106752702-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-106752702-1');
    </script>

</head>

<body>
<div class="Shell">
    <aside class='SideBar'>
    <canvas id="ixbg" width="100%" height="100%"></canvas>
    <section class='avatar' style="background-image: url(null)">
        <div class='av-pic' style="background-image: url(/assets/head.svg)">
        </div>
    </section>
    <section class='menu'>
        <div>《Chris 技術筆記》</div>
        
            <div>設計 × 研究 × 程式</div>
        
        <ul>
          
            <a href="/archives/" class="Btn">
              <li>Time Axis</li>
            </a>
          
            <a href="/tags/" class="Btn">
              <li>Tags</li>
            </a>
          
            <a href="/categories/" class="Btn">
              <li>Categories</li>
            </a>
          
            <a href="/about/" class="Btn">
              <li>About</li>
            </a>
          
        </ul>
    </section>
    <section class="media">
        
            
                <a href="https://github.com/dwatow">
                    <img src="/assets/github.svg" />
                </a>
            
        
            
                <a href="https://www.facebook.com/dwatow">
                    <img src="/assets/facebook.svg" />
                </a>
            
        
    </section>
</aside>

    <div class="container">
        <div data-pager-shell>
            <ul class="Index">
  
  
    <li>
      <article class='ListView'>
    <header class="title">
      
        <h1>
          <a href="/2018/01-02-iron-man-2008/iron-man-2008-day23/">前端新手村 細說 Timing function</a>
        </h1>
      
      <div class='ListMeta'>
  <time datetime="2018-01-01T23:53:59.000Z" itemprop="datePublished">
    2018-01-02
  </time>
  
  | 
  <ul>
    
  <li class="meta-text">
  { <a href="/tags/2008鐵人賽/">2008鐵人賽</a> }
  </li>

  <li class="meta-text">
  { <a href="/tags/CSS/">CSS</a> }
  </li>

  <li class="meta-text">
  { <a href="/tags/Transition/">Transition</a> }
  </li>


  </ul>
  
  
  / 
  <ul>
    
  <li class="meta-text">
  { <a href="/categories/前端新手村/">前端新手村</a> }
  </li>


  </ul>
  
</div>

    </header>
    <div>
      
        <blockquote>
<p>「當你迷惘的時候，就回到原點想一想」-中華一番 蘭飛鴻</p>
</blockquote>
<h2>前言</h2>
<p>網頁前端新手村系列文章，宗旨並不在技術本身的教導，重點放在技術與技術之間的脈胳關係。讓零碎的網頁前端技術的關鍵字，成為比較有系統性的視野。</p>
<p>讓一開始接觸網頁前端的新手們，有一個比較友善的系統來架構你的學習，至於技術本身的深入探討，就留給其它的高手們吧。</p>
<h1>細說 Timing function</h1>
<p>動畫並不是只是讓元素在畫面動起來，若可以符合觀賞者的直覺與物理特性相同的動畫行為，可以達到更好的效果。</p>
<p>Timing function 提供元素在畫面上變化的控制方式，可以在畫面變化的同時，實現符合動畫的基本法則<sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup>。</p>
<h2>讀函數圖</h2>
<p><img src="https://i.imgur.com/L1piHHs.png" alt=""></p>
<p>水平軸: 資料t, 輸入的時間百分比<br>
垂直軸: 資料x, 輸出的位置</p>
<p>步驟:</p>
<ol>
<li>在 t(水平軸)，先等距的畫出一些點(t0~t10)，代表「渡過固定的時間變化量」。(幾個隨意，重點是等距)</li>
<li>從 x(垂直軸)上的點到函數曲線 (curve) 之間，畫出垂直線，在函數曲線上的點稱為「c0~c10」 。</li>
<li>將每個 c 點到 x (垂直軸)，畫出水平線，可以得到許多在垂直軸上的點(x0~x10)，代表「出現在畫面上的距離變化量」</li>
</ol>
<p>從垂直軸上的點，可以看得出</p>
<ul>
<li>點很疏，就是速度快(過了相同的時間，距離變化大)。</li>
<li>點很密，就是速度慢(過了相同的時間，距離不太變化)。</li>
</ul>
<p>而 timing function 在定義上，必須是數學的 Pure function <sup class="footnote-ref"><a href="#fn2" id="fnref2">[2]</a></sup>。</p>
<p>定義域是[0, 1]的實數，值域是[-∞, +∞]的實數。</p>
<p>函數本身，即是輸入與輸出的對應關係</p>
<blockquote>
<p>Pure function 意指相同的輸入，永遠會得到相同的輸出，而且沒有任何顯著的副作用。</p>
</blockquote>
<h2>linear 線性函數</h2>
<p>使用時，設定值為 <code>linear</code><br>
輸入等於輸出的一種對應關係。</p>
<p>在數學上，可用零階貝茲曲線表示。<sup class="footnote-ref"><a href="#fn3" id="fnref3">[3]</a></sup></p>
<h2>Cubic Bézier 二次貝茲曲線</h2>
<p>二階貝茲曲線<sup class="footnote-ref"><a href="#fn3" id="fnref3:1">[3]</a></sup>，利用兩個控制點，決定一個曲線。</p>
<p><img src="https://upload.wikimedia.org/wikipedia/commons/d/db/B%C3%A9zier_3_big.gif" alt=""></p>
<p>有興趣的人可以到 <a href="http://cubic-bezier.com/" target="_blank" rel="external">cubic-bezier.com</a> 來拉一下，玩玩看。<br>
但是這個工具有它的極限，但是用 Chrome 的開發者工具 keyin，沒有極限。</p>
<p><img src="https://i.imgur.com/OfGJFrS.png" alt=""><br>
<img src="https://i.imgur.com/C0rm439.png" alt=""></p>
<p>使用時，設定值為 <code>cubic-bezier(P1x, P1y, P2x, P2y)</code> <sup class="footnote-ref"><a href="#fn4" id="fnref4">[4]</a></sup></p>
<p>特例 (在 CSS 中有列舉出來，可以接直使用)</p>
<ul>
<li><code>ease</code> = <code>cubic-bezier(0.25, 0.1, 0.25, 1)</code>.</li>
<li><code>ease-in</code> = <code>cubic-bezier(0.42, 0, 1, 1)</code>.</li>
<li><code>ease-out</code> = <code>cubic-bezier(0, 0, 0.58, 1)</code>.</li>
<li><code>ease-in-out</code> = <code>cubic-bezier(0.42, 0, 0.58, 1)</code>.</li>
</ul>
<p><img src="https://i.imgur.com/DeeTDXc.png" alt=""></p>
<h2>Step 線性定格</h2>
<p>線性定格(亂翻譯的，若有知道正確中譯者，麻煩在留言告訴我，感謝)</p>
<p>值入值: steps 數字 和 step position</p>
<ul>
<li>steps: 非零正整數</li>
<li>position: <code>start</code> 或 <code>end</code></li>
</ul>
<p>step position 的意思</p>
<ol>
<li>「第一步切換下一步的時機」，換句話說，第一步是 <code>start</code> 就下一步，還是 <code>end</code> 才下一步。</li>
<li><code>start</code> 定義域的整數無條件進位成值域， <code>end</code> 定義域的整數無條件捨去成值域。</li>
</ol>
<p>將輸入值的時間，切割成幾個間隔，平均分佈顯示的每個間隔的位置</p>
<p><img src="https://i.imgur.com/13XVSja.png" alt=""></p>
<p>舉例</p>
<figure class="highlight css"><table><tr><td class="code"><pre><div class="line"><span class="selector-tag">transition-timing-function</span>: <span class="selector-tag">steps</span>(1, <span class="selector-tag">start</span>);</div><div class="line"><span class="selector-tag">transition-timing-function</span>: <span class="selector-tag">steps</span>(1, <span class="selector-tag">end</span>);</div><div class="line"><span class="selector-tag">transition-timing-function</span>: <span class="selector-tag">steps</span>(3, <span class="selector-tag">start</span>);</div><div class="line"><span class="selector-tag">transition-timing-function</span>: <span class="selector-tag">steps</span>(3, <span class="selector-tag">end</span>);</div></pre></td></tr></table></figure>
<p>特例 (在 CSS 中有列舉出來，可以接直使用)</p>
<ul>
<li><code>step-start</code> = <code>steps(1, start)</code></li>
<li><code>step-middle</code> Chrome 給的特例值 (試都沒有什麼作用)</li>
<li><code>step-end</code> = <code>steps(1, end)</code></li>
</ul>
<h2>Frames timing functions</h2>
<p>Chrome &amp; Firefox 怎麼試都不行，還是附上語法，也許有一天會動。</p>
<p>語法</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">frames(大於1的正整數)</div></pre></td></tr></table></figure>
<p>例子</p>
<figure class="highlight css"><table><tr><td class="code"><pre><div class="line"><span class="selector-tag">transition-timing-function</span>: <span class="selector-tag">frames</span>(3);</div></pre></td></tr></table></figure>
<h1>參考資料</h1>
<hr class="footnotes-sep">
<section class="footnotes">
<ol class="footnotes-list">
<li id="fn1" class="footnote-item"><p><a href="https://zh.wikipedia.org/wiki/%E5%8B%95%E7%95%AB%E7%9A%8412%E9%A0%85%E5%9F%BA%E6%9C%AC%E6%B3%95%E5%89%87" target="_blank" rel="external"> 動畫的12項基本法則 - wiki</a> <a href="#fnref1" class="footnote-backref">↩</a></p>
</li>
<li id="fn2" class="footnote-item"><p><a href="https://jigsawye.gitbooks.io/mostly-adequate-guide/content/ch3.html" target="_blank" rel="external"> 第 3 章：Pure Function－單純的幸福</a> <a href="#fnref2" class="footnote-backref">↩</a></p>
</li>
<li id="fn3" class="footnote-item"><p><a href="https://en.wikipedia.org/wiki/B%C3%A9zier_curve" target="_blank" rel="external">Bézier curve - wiki</a> <a href="#fnref3" class="footnote-backref">↩</a> <a href="#fnref3:1" class="footnote-backref">↩</a></p>
</li>
<li id="fn4" class="footnote-item"><p><a href="https://drafts.csswg.org/css-timing/" target="_blank" rel="external"> CSS Timing Functions Level 1</a> <a href="#fnref4" class="footnote-backref">↩</a></p>
</li>
</ol>
</section>

      
    </div>
</article>

    </li>
  
    <li>
      <article class='ListView'>
    <header class="title">
      
        <h1>
          <a href="/2018/01-01-iron-man-2008/iron-man-2008-day22/">前端新手村 Transition</a>
        </h1>
      
      <div class='ListMeta'>
  <time datetime="2018-01-01T01:42:05.000Z" itemprop="datePublished">
    2018-01-01
  </time>
  
  | 
  <ul>
    
  <li class="meta-text">
  { <a href="/tags/2008鐵人賽/">2008鐵人賽</a> }
  </li>

  <li class="meta-text">
  { <a href="/tags/CSS/">CSS</a> }
  </li>

  <li class="meta-text">
  { <a href="/tags/Transition/">Transition</a> }
  </li>


  </ul>
  
  
  / 
  <ul>
    
  <li class="meta-text">
  { <a href="/categories/前端新手村/">前端新手村</a> }
  </li>


  </ul>
  
</div>

    </header>
    <div>
      
        <blockquote>
<p>「當你迷惘的時候，就回到原點想一想」-中華一番 蘭飛鴻</p>
</blockquote>
<h2>前言</h2>
<p>網頁前端新手村系列文章，宗旨並不在技術本身的教導，重點放在技術與技術之間的脈胳關係。讓零碎的網頁前端技術的關鍵字，成為比較有系統性的視野。</p>
<p>讓一開始接觸網頁前端的新手們，有一個比較友善的系統來架構你的學習，至於技術本身的深入探討，就留給其它的高手們吧。</p>
<h1>Transition</h1>
<p>由互動行為而改變 CSS (不管是用 js 抽換 class ，還是使用 <code>:checked</code> 或 <code>:target</code>)，畫面會瞬間變成修改後的樣子。<br>
如果想要中間變化的過程，隨時間顯示在畫面上，transition 是一個簡單又直覺的選擇。</p>
<p>transition 可以計算數值，從舊的到新的變化過程。只有可動畫化的屬性<sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup>，才可以用在 transition。<br>
transition 還有一個「隨時可以中斷」的特性。若在 running transition 時，css 改變了，就會馬上改變，而不會等完成 transition 之後才套用。</p>
<p><strong>語法</strong></p>
<p>(縮寫)</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">transition: 屬性 持續時間 delay時間 變化函數</div></pre></td></tr></table></figure>
<p>因為 transition 要有轉變對象，開始時間、持續時間、結束時間，所以至少要寫下面這樣</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">transition: 屬性 持續時間</div></pre></td></tr></table></figure>
<p>delay時間 變化函數 都是使用預設值。</p>
<h2><code>transition-property</code> 屬性</h2>
<p>值: 指定轉換的 CSS 屬性名稱 或 <code>none</code><br>
預設值: <code>all</code></p>
<p>設定 <code>none</code> 就什麼都不轉換。</p>
<h2><code>transition-duration</code> 持續時間</h2>
<p>值: 時間 (正實數)<br>
預設值: <code>0s</code></p>
<p>若設定 <code>0s</code> 則表示過場變化瞬間完成，若設定負數表示不渲染。</p>
<h2><code>transition-timing-function</code> 變化函數</h2>
<p>值: timing function 名稱<br>
預設值: <code>ease</code></p>
<p>要過場的屬性值在時間變化中，有不同的變化速度。<br>
將時間轉成百分比，再將位置經過不同的插值規則運算<sup class="footnote-ref"><a href="#fn2" id="fnref2">[2]</a></sup>出來。</p>
<h2><code>transition-delay</code> delay時間</h2>
<p>值: 時間(實數)<br>
預設值: <code>0s</code></p>
<p>這個屬性控制兩件事</p>
<ol>
<li>transition 執行時間</li>
<li>transition 顯示時間</li>
</ol>
<p>設定值為正數( n)時，執行時間和顯示時間都會延遲<br>
設定值為負數(-n)時，只有顯示時間延遲，執行時間延遲。所以會有「起始動畫到 n 秒」的效果</p>
<p><strong>來看個例子</strong><br>
體驗一下 transition</p>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<figure class="highlight css"><table><tr><td class="code"><pre><div class="line"><span class="selector-class">.box</span> &#123;</div><div class="line">  <span class="attribute">height</span>: <span class="number">100px</span>;</div><div class="line">  <span class="attribute">width</span>: <span class="number">100px</span>;</div><div class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid black;</div><div class="line">  <span class="attribute">background-color</span>: <span class="number">#f00</span>;</div><div class="line">  <span class="attribute">margin-left</span>: <span class="number">0</span>;</div><div class="line">  <span class="attribute">transition</span>: all <span class="number">1s</span> -.<span class="number">3s</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"></div><div class="line"><span class="selector-class">.box</span><span class="selector-pseudo">:hover</span> &#123;</div><div class="line">  <span class="attribute">background-color</span>: <span class="number">#00f</span>;</div><div class="line">  <span class="attribute">margin-left</span>: <span class="number">50px</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><img src="https://i.imgur.com/oGolSuh.gif" alt="Imgur"></p>
<h2>常見的雷</h2>
<p><strong>例子1: 元素要以淡出的方式消失在畫面上!!!</strong></p>
<p>一般來說，讓元素不出現在畫面上，都是給 <code>display:none</code> 但是，這就是 transition 的雷點。</p>
<p>複習一下文章開頭的一句</p>
<blockquote>
<p>transition 可以計算數值，從舊的到新的變化過程。</p>
</blockquote>
<p><code>diaplay: none</code> 到 <code>display: block</code> 要怎麼運算？<br>
所以，在此要使用 <code>opacity: 0</code> 看到數值了吧？！ <code>opacity: 0</code> 到 <code>opacity: 1</code> 是可以運算的。</p>
<p>不過，在此做三種消失看看<br>
<code>display: none;</code><br>
馬上消失，快速切換 <code>:hover</code> 和 無 hover 的 CSS 造成的閃爍<br>
<img src="https://i.imgur.com/kW1SdXi.gif" alt=""><br>
<code>visibility: hidden;</code><br>
在 transition 到達最後狀態時，才有 <code>visibility: hidden</code> 的效果<br>
而恢復時，離開了最後狀態，就失去 <code>visibility: hidden</code> 的效果<br>
<img src="https://i.imgur.com/Z0tjU1x.gif" alt=""><br>
<code>opacity: 0;</code><br>
將 <code>opacity: 1</code> 的數值計算到 <code>opacity: 0</code> ，達到淡出的效果<br>
<img src="https://i.imgur.com/D895Iqo.gif" alt=""></p>
<p><strong>例子2: hover 和恢復原狀，兩個 transition</strong></p>
<p>有時希望做倒帶的 transition，就要寫兩個 <code>transition</code><br>
但是往往會搞不清楚要寫在哪才是正確的。<br>
在此寫了一個 hover 花1秒，恢復花5秒的 transition</p>
<p>先來看看原始碼</p>
<figure class="highlight css"><table><tr><td class="code"><pre><div class="line"><span class="selector-class">.box</span> &#123;</div><div class="line">  <span class="attribute">height</span>: <span class="number">100px</span>;</div><div class="line">  <span class="attribute">width</span>: <span class="number">100px</span>;</div><div class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid black;</div><div class="line"></div><div class="line">  <span class="attribute">background-color</span>: <span class="number">#f00</span>;</div><div class="line">  <span class="attribute">border-radius</span>: <span class="number">50%</span>;</div><div class="line">  <span class="attribute">margin-left</span>: <span class="number">0</span>;</div><div class="line">  <span class="attribute">background-color</span>: <span class="number">#eef</span>;</div><div class="line">  <span class="attribute">transform</span>: <span class="built_in">rotate</span>(30000000000deg);</div><div class="line"></div><div class="line">  <span class="attribute">transition</span>: all <span class="number">5s</span> <span class="number">0s</span>;</div><div class="line"></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-class">.box</span><span class="selector-pseudo">:hover</span> &#123;</div><div class="line">  <span class="attribute">border-radius</span>: <span class="number">0%</span>;</div><div class="line">  <span class="attribute">margin-left</span>: <span class="number">50px</span>;</div><div class="line">  <span class="attribute">background-color</span>: <span class="number">#fee</span>;</div><div class="line">  <span class="attribute">transform</span>: <span class="built_in">rotate</span>(0deg);</div><div class="line"></div><div class="line">  <span class="attribute">transition</span>: all <span class="number">1s</span> <span class="number">0s</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"margin-top"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<p><img src="https://i.imgur.com/FLmsenZ.gif" alt=""><br>
上圖標示 hover 的作用區間，恢復的作用區間。(用顏色標示)</p>
<p>也就是說，元素只有在一開始是沒有 hover ，一旦要成為 hover 就是游標懸停時開始，所以 1秒變成方形的 <code>transition</code> 要寫在 <code>:hover</code> 上面；相反的，當游標離開元素，就要套用5秒變成圓形的 CSS。</p>
<p><strong>例子2: display: none -&gt; display: block</strong></p>
<p>先說結果: 沒有 transition</p>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">"c1"</span> <span class="attr">type</span>=<span class="string">"checkbox"</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<figure class="highlight css"><table><tr><td class="code"><pre><div class="line"><span class="selector-id">#c1</span><span class="selector-pseudo">:checked</span> ~ <span class="selector-class">.box</span> &#123;</div><div class="line">  <span class="attribute">margin-left</span>: <span class="number">0px</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-class">.box</span> &#123;</div><div class="line">  <span class="attribute">height</span>: <span class="number">100px</span>;</div><div class="line">  <span class="attribute">width</span>: <span class="number">100px</span>;</div><div class="line">  <span class="attribute">background-color</span>: <span class="number">#0a0</span>;</div><div class="line">  <span class="attribute">margin-left</span>: <span class="number">50px</span>;</div><div class="line">  <span class="attribute">transition</span>: <span class="number">1s</span> -.<span class="number">3s</span> linear;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>結果是這樣<br>
<img src="https://i.imgur.com/oF8c0zU.gif" alt=""></p>
<p>若我們要在一開始消失，後來出現。<br>
在 CSS 加上 <code>display: none</code> -&gt; <code>display: block</code> 的切換</p>
<figure class="highlight css"><table><tr><td class="code"><pre><div class="line"><span class="selector-id">#c1</span><span class="selector-pseudo">:checked</span> ~ <span class="selector-class">.box</span> &#123;</div><div class="line">  <span class="comment">/* 和上面的一樣 */</span></div><div class="line">  <span class="attribute">display</span>: block;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-class">.box</span> &#123;</div><div class="line">  <span class="comment">/* 和上面的一樣 */</span></div><div class="line">  <span class="attribute">display</span>: none;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>結果是這樣<br>
<img src="https://i.imgur.com/Ap2lDMk.gif" alt=""></p>
<p>那怎麼辦呢？<br>
<code>display: none</code> 改成 <code>visibility: hidden;</code><br>
<code>display: block</code> 改成 <code>visibility: visible;</code><br>
就可以保留中間的動畫，又可以讓 box 在一開始消失囉~<br>
若你想要的是淡出，又不知道怎麼做，再留言告訴我吧~^^</p>
<h1>參考資料</h1>
<hr class="footnotes-sep">
<section class="footnotes">
<ol class="footnotes-list">
<li id="fn1" class="footnote-item"><p><a href="https://www.w3.org/TR/2017/WD-css-transitions-1-20171130/#animatable-css" target="_blank" rel="external">9.1. Properties from CSS - w3.org</a> <a href="#fnref1" class="footnote-backref">↩</a></p>
</li>
<li id="fn2" class="footnote-item"><p><a href="https://drafts.csswg.org/css-timing/" target="_blank" rel="external">CSS Timing Functions Level 1</a> <a href="#fnref2" class="footnote-backref">↩</a></p>
</li>
</ol>
</section>

      
    </div>
</article>

    </li>
  
    <li>
      <article class='ListView'>
    <header class="title">
      
        <h1>
          <a href="/2017/12-31-iron-man-2008/iron-man-2008-day21/">前端新手村 Media Query</a>
        </h1>
      
      <div class='ListMeta'>
  <time datetime="2017-12-30T23:18:37.000Z" itemprop="datePublished">
    2017-12-31
  </time>
  
  | 
  <ul>
    
  <li class="meta-text">
  { <a href="/tags/2008鐵人賽/">2008鐵人賽</a> }
  </li>

  <li class="meta-text">
  { <a href="/tags/CSS/">CSS</a> }
  </li>

  <li class="meta-text">
  { <a href="/tags/Media-Query/">Media Query</a> }
  </li>


  </ul>
  
  
  / 
  <ul>
    
  <li class="meta-text">
  { <a href="/categories/前端新手村/">前端新手村</a> }
  </li>


  </ul>
  
</div>

    </header>
    <div>
      
        <blockquote>
<p>「當你迷惘的時候，就回到原點想一想」-中華一番 蘭飛鴻</p>
</blockquote>
<h2>前言</h2>
<p>網頁前端新手村系列文章，宗旨並不在技術本身的教導，重點放在技術與技術之間的脈胳關係。讓零碎的網頁前端技術的關鍵字，成為比較有系統性的視野。</p>
<p>讓一開始接觸網頁前端的新手們，有一個比較友善的系統來架構你的學習，至於技術本身的深入探討，就留給其它的高手們吧。</p>
<h1>Media Query<sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup></h1>
<p>它是由一個 <a href="https://www.w3.org/TR/CSS22/media.html#media-groups" target="_blank" rel="external">media type</a> <sup class="footnote-ref"><a href="#fn2" id="fnref2">[2]</a></sup>  和 media feature 的條件式組成。條件式的結果，不是 true 就是 false</p>
<h2>有幾個地方可以使用</h2>
<p>在 html 插入 css 時加條件。</p>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">media</span>=<span class="string">"screen and (color)"</span> <span class="attr">href</span>=<span class="string">"example.css"</span> /&gt;</span></div></pre></td></tr></table></figure>
<p>在 css 插入 css 時加條件。</p>
<figure class="highlight css"><table><tr><td class="code"><pre><div class="line">@<span class="keyword">import</span> url(color.css) screen and (color);</div></pre></td></tr></table></figure>
<p>在使用 css 時加條件</p>
<figure class="highlight css"><table><tr><td class="code"><pre><div class="line">@<span class="keyword">media</span> all and (min-width:<span class="number">500px</span>) &#123; ... &#125;</div><div class="line">@<span class="keyword">media</span> (min-width:<span class="number">500px</span>) &#123; ... &#125;</div></pre></td></tr></table></figure>
<p>media type 是 <code>all</code> 時，可以省略。</p>
<figure class="highlight css"><table><tr><td class="code"><pre><div class="line">@<span class="keyword">media</span> (orientation: portrait) &#123; ... &#125;</div><div class="line">@<span class="keyword">media</span> all and (orientation: portrait) &#123; ... &#125;</div></pre></td></tr></table></figure>
<p><code>@media</code> 的條件可以用 <code>,</code> 和 <code>and</code> 組成。</p>
<ul>
<li><code>,</code> 和 CSS 的 Combinators 一樣</li>
<li><code>and</code> 就是「邏輯 AND」</li>
</ul>
<figure class="highlight css"><table><tr><td class="code"><pre><div class="line">@<span class="keyword">media</span> screen and (color), projection and (color) &#123; ... &#125;</div></pre></td></tr></table></figure>
<p>如果沒有給 media type 和 條件式，結果 always true</p>
<figure class="highlight css"><table><tr><td class="code"><pre><div class="line">@<span class="keyword">media</span> all &#123; ... &#125;</div><div class="line">@<span class="keyword">media</span> &#123; ... &#125;</div></pre></td></tr></table></figure>
<p>在寫 media query 一開始，可以用 <code>not</code> 做「邏輯 NOT」</p>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">media</span>=<span class="string">"not screen and (color)"</span> <span class="attr">href</span>=<span class="string">"example.css"</span> /&gt;</span></div></pre></td></tr></table></figure>
<figure class="highlight css"><table><tr><td class="code"><pre><div class="line">@<span class="keyword">media</span> not screen and (color) &#123; ... &#125;</div></pre></td></tr></table></figure>
<p>對於比較舊的 CSS 可以用 <code>only</code> <s>給 IE</s></p>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">media</span>=<span class="string">"only screen and (color)"</span> <span class="attr">href</span>=<span class="string">"example.css"</span> /&gt;</span></div></pre></td></tr></table></figure>
<p>可以在 <code>@import</code> 時加上 media query 的條件</p>
<figure class="highlight css"><table><tr><td class="code"><pre><div class="line">@<span class="keyword">import</span> url(example.css) screen and (color), projection and (color);</div></pre></td></tr></table></figure>
<p>使用時要注意 media type 和 media feature 的單位是否匹配，若不適用會使結果變成 false</p>
<h2>Media features</h2>
<p>雖然 media query 在撰寫時，有一種在寫 css 的感覺。但是們還是有一些要注意的地方</p>
<ul>
<li>的內容是「輸出設備的要求」。</li>
<li>不可以使用 <code>&gt;</code> 和 <code>&lt;</code> 取代常出現的 <code>max-</code> 和 <code>min-</code> 前綴字。</li>
<li>常使用 <code>max-</code> 和 <code>min-</code> 前綴字的屬性也可以單獨使用</li>
<li>可以只有屬性，也可以指定值(0可以不給單位)</li>
<li>使用 <code>max-</code> 和 <code>min-</code> 的前綴字時，一定要給值才有作用</li>
<li>不可以使用 <code>calc()</code>，只能在一個屬性後面給一個簡單的值。</li>
</ul>
<h3>有這些 Media features 可以使用</h3>
<table>
<thead>
<tr>
<th>media feature</th>
<th>value</th>
<th>Applies to which media type</th>
<th>prefixes</th>
</tr>
</thead>
<tbody>
<tr>
<td>width</td>
<td>length</td>
<td>visual, tactile</td>
<td>yes</td>
</tr>
<tr>
<td>height</td>
<td>length</td>
<td>visual, tactile</td>
<td>yes</td>
</tr>
<tr>
<td>device-width</td>
<td>length</td>
<td>visual, tactile</td>
<td>yes</td>
</tr>
<tr>
<td>device-height</td>
<td>length</td>
<td>visual, tactile</td>
<td>yes</td>
</tr>
<tr>
<td>orientation</td>
<td>“portrait”, “landscape”</td>
<td>bitmap</td>
<td>no</td>
</tr>
<tr>
<td>aspect-ratio</td>
<td>“ratio”</td>
<td>bitmap</td>
<td>yes</td>
</tr>
<tr>
<td>device-aspect-ratio</td>
<td>“ratio”</td>
<td>bitmap</td>
<td>yes</td>
</tr>
<tr>
<td>color</td>
<td>integer</td>
<td>visual</td>
<td>yes</td>
</tr>
<tr>
<td>color-index</td>
<td>integer</td>
<td>visual</td>
<td>yes</td>
</tr>
<tr>
<td>monochrome</td>
<td>integer</td>
<td>visual</td>
<td>yes</td>
</tr>
<tr>
<td>resolution</td>
<td>resolution</td>
<td>bitmap</td>
<td>yes</td>
</tr>
<tr>
<td>scan</td>
<td>“progressive”, “interlace”</td>
<td>tv</td>
<td>no</td>
</tr>
<tr>
<td>grid</td>
<td>integer(1 or 0)</td>
<td>visual, tactile</td>
<td>no</td>
</tr>
</tbody>
</table>
<ul>
<li>width/height: 可視區大小</li>
<li>device-width/device-height: 單一螢幕大小</li>
<li>orientation: 橫向/縱向顯示
<ul>
<li><code>@media all and (orientation:portrait) { … }</code></li>
<li><code>@media all and (orientation:landscape) { … }</code></li>
</ul>
</li>
<li>aspect-ratio: width/height 視窗寬高比</li>
<li>device-aspect-ratio: device-width/device-height 設備寬高比
<ul>
<li><code>@media screen and (device-aspect-ratio: 16/9) { … }</code></li>
<li><code>@media screen and (device-aspect-ratio: 32/18) { … }</code></li>
<li><code>@media screen and (device-aspect-ratio: 1280/720) { … }</code></li>
<li><code>@media screen and (device-aspect-ratio: 2560/1440) { … }</code></li>
</ul>
</li>
<li>color: 在彩色顯示器中，值代表每個顏色至少幾bit
<ul>
<li><code>@media all and (color) { … }</code><br>
<code>@media all and (min-color: 1) { … }</code></li>
</ul>
</li>
<li>color-index: 自訂調色盤(顏色查表法)大小
<ul>
<li><code>@media all and (color-index) { … }</code></li>
<li><code>@media all and (min-color-index: 1) { … }</code></li>
<li><code>&lt;?xml-stylesheet media=&quot;all and (min-color-index: 256)&quot; href=&quot;http://www.example.com/…&quot; ?&gt;</code></li>
</ul>
</li>
<li>monochrome: 在單色顯示器中，值代表每個像素幾bit
<ul>
<li><code>@media all and (monochrome) { … }</code> 黑白畫面</li>
<li><code>@media all and (min-monochrome: 2) { … }</code></li>
<li><code>&lt;link rel=&quot;stylesheet&quot; media=&quot;print and (color)&quot; href=&quot;http://…&quot; /&gt;</code><br>
<code>&lt;link rel=&quot;stylesheet&quot; media=&quot;print and (monochrome)&quot; href=&quot;http://…&quot; /&gt;</code></li>
</ul>
</li>
<li>resolution: pixel 密度(dpi 或 dpcm)
<ul>
<li><code>@media print and (min-resolution: 300dpi) { … }</code></li>
<li><code>@media print and (min-resolution: 118dpcm) { … }</code></li>
</ul>
</li>
<li>scan: 顯示器掃描線的方式，其值等同於 1080i 和 1080p 的字尾英文意思
<ul>
<li><code>@media tv and (scan: progressive) { … }</code></li>
</ul>
</li>
<li>grid: 像是 terminal 或者是固定寬度字體的顯示方式
<ul>
<li><code>@media handheld and (grid) and (max-width: 15em) { … }</code></li>
<li><code>@media handheld and (grid) and (device-max-height: 7em) { … }</code></li>
</ul>
</li>
</ul>
<h2>常見的應用</h2>
<p><strong>例子1: RWD (以 bootstrap 為例)</strong></p>
<p>桌機版<br>
<img src="https://i.imgur.com/YvyIxrR.png" alt=""></p>
<p>手機版<br>
<img src="https://i.imgur.com/mbadJh9.png" alt=""></p>
<p>來看看這個 `.col-sm-8</p>
<figure class="highlight css"><table><tr><td class="code"><pre><div class="line"><span class="selector-class">.col</span>,  <span class="comment">/*...*/</span><span class="selector-class">.col-sm-8</span> <span class="comment">/*...*/</span> &#123;</div><div class="line">    <span class="attribute">position</span>: relative;</div><div class="line">    <span class="attribute">width</span>: <span class="number">100%</span>;</div><div class="line">    <span class="attribute">min-height</span>: <span class="number">1px</span>;</div><div class="line">    <span class="attribute">padding-right</span>: <span class="number">15px</span>;</div><div class="line">    <span class="attribute">padding-left</span>: <span class="number">15px</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight css"><table><tr><td class="code"><pre><div class="line">@<span class="keyword">media</span> (min-width: <span class="number">576px</span>) &#123;</div><div class="line"><span class="comment">/* ... */</span></div><div class="line">    <span class="selector-class">.col-sm-8</span> &#123;</div><div class="line">        <span class="attribute">-webkit-box-flex</span>: <span class="number">0</span>;</div><div class="line">        <span class="attribute">-ms-flex</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">66.666667%</span>;</div><div class="line">        <span class="attribute">flex</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">66.666667%</span>;</div><div class="line">        <span class="attribute">max-width</span>: <span class="number">66.666667%</span>;</div><div class="line">    &#125;</div><div class="line"><span class="comment">/* ... */</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><code>.col-sm-8</code> 預設是寬度 100%，<br>
是在任何的 media 中可視區 576px 以上，最大寬度改成 66.666667%;</p>
<p><strong>例子2: 瀏覽與預覽列印</strong></p>
<p>找一個頁面來看看</p>
<p><img src="https://i.imgur.com/6eR8ghR.png" alt=""></p>
<p>進入列印的預覽</p>
<p><img src="https://i.imgur.com/ckySHZ8.png" alt=""></p>
<p>發現不同了嗎？</p>
<p>來看看 CSS 發現側邊欄 <code>#mw-navigation</code> 和其它的 selector 在列印中有設定隱藏。</p>
<figure class="highlight css"><table><tr><td class="code"><pre><div class="line">@<span class="keyword">media</span> print &#123;</div><div class="line">    <span class="selector-class">.noprint</span>,</div><div class="line">    <span class="selector-class">.catlinks</span>,</div><div class="line">    <span class="selector-class">.magnify</span>,</div><div class="line">    <span class="selector-class">.mw-cite-backlink</span>,</div><div class="line">    <span class="selector-class">.mw-jump</span>,</div><div class="line">    <span class="selector-class">.mw-editsection</span>,</div><div class="line">    <span class="selector-class">.mw-editsection-like</span>,</div><div class="line">    <span class="selector-class">.mw-hidden-catlinks</span>,</div><div class="line">    <span class="selector-class">.mw-indicators</span>,</div><div class="line">    <span class="selector-class">.mw-redirectedfrom</span>,</div><div class="line">    <span class="selector-class">.patrollink</span>,</div><div class="line">    <span class="selector-class">.usermessage</span>,</div><div class="line">    <span class="selector-id">#column-one</span>,</div><div class="line">    <span class="selector-id">#footer-places</span>,</div><div class="line">    <span class="selector-id">#jump-to-nav</span>,</div><div class="line">    <span class="selector-id">#mw-navigation</span>,</div><div class="line">    <span class="selector-id">#siteNotice</span>,</div><div class="line">    <span class="selector-id">#f-poweredbyico</span>,</div><div class="line">    <span class="selector-id">#f-copyrightico</span>,</div><div class="line">    <span class="selector-tag">li</span><span class="selector-id">#about</span>,</div><div class="line">    <span class="selector-tag">li</span><span class="selector-id">#disclaimer</span>,</div><div class="line">    <span class="selector-tag">li</span><span class="selector-id">#mobileview</span>,</div><div class="line">    <span class="selector-tag">li</span><span class="selector-id">#privacy</span> &#123;</div><div class="line">        <span class="attribute">display</span>: none</div><div class="line">    &#125;</div><div class="line">    <span class="comment">/* ... */</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1>參考資料</h1>
<hr class="footnotes-sep">
<section class="footnotes">
<ol class="footnotes-list">
<li id="fn1" class="footnote-item"><p><a href="https://www.w3.org/TR/2012/REC-css3-mediaqueries-20120619/" target="_blank" rel="external">Media Queries - w3.org</a> <a href="#fnref1" class="footnote-backref">↩</a></p>
</li>
<li id="fn2" class="footnote-item"><p><a href="https://www.w3.org/TR/CSS22/media.html#media-groups" target="_blank" rel="external">7 Media types - w3.org</a> <a href="#fnref2" class="footnote-backref">↩</a></p>
</li>
</ol>
</section>

      
    </div>
</article>

    </li>
  
    <li>
      <article class='ListView'>
    <header class="title">
      
        <h1>
          <a href="/2017/12-30-iron-man-2008/iron-man-2008-day20/">前端新手村 flex grow &amp; shrink 演算法</a>
        </h1>
      
      <div class='ListMeta'>
  <time datetime="2017-12-29T23:13:55.000Z" itemprop="datePublished">
    2017-12-30
  </time>
  
  | 
  <ul>
    
  <li class="meta-text">
  { <a href="/tags/2008鐵人賽/">2008鐵人賽</a> }
  </li>

  <li class="meta-text">
  { <a href="/tags/Flex/">Flex</a> }
  </li>

  <li class="meta-text">
  { <a href="/tags/flex-grow/">flex-grow</a> }
  </li>

  <li class="meta-text">
  { <a href="/tags/flex-shrink/">flex-shrink</a> }
  </li>


  </ul>
  
  
  / 
  <ul>
    
  <li class="meta-text">
  { <a href="/categories/前端新手村/">前端新手村</a> }
  </li>


  </ul>
  
</div>

    </header>
    <div>
      
        <blockquote>
<p>「當你迷惘的時候，就回到原點想一想」-中華一番 蘭飛鴻</p>
</blockquote>
<h2>前言</h2>
<p>網頁前端新手村系列文章，宗旨並不在技術本身的教導，重點放在技術與技術之間的脈胳關係。讓零碎的網頁前端技術的關鍵字，成為比較有系統性的視野。</p>
<p>讓一開始接觸網頁前端的新手們，有一個比較友善的系統來架構你的學習，至於技術本身的深入探討，就留給其它的高手們吧。</p>
<h1>flex grow &amp; shrink 演算法</h1>
<blockquote>
<p>此演算法，是和邦友 <a href="https://ithelp.ithome.com.tw/users/20107334/profile" target="_blank" rel="external">OTree</a> 一起研究，我只是寫 JavaScript 驗證。</p>
</blockquote>
<p>新手若覺得這種學術路線不適合你，那這一篇就跳過吧！我還是想寫一下。</p>
<p>來說說伸縮與壓縮的尺寸計算方式<br>
直接用例子來試算一下。<sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup></p>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"outter"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"div1"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"div2"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<figure class="highlight css"><table><tr><td class="code"><pre><div class="line"><span class="selector-class">.outter</span> &#123;</div><div class="line">  <span class="attribute">outline </span>: solid <span class="number">1px</span> black;</div><div class="line">  <span class="attribute">display</span>: flex;</div><div class="line"></div><div class="line">  .div1 &#123;</div><div class="line">    <span class="selector-tag">height</span><span class="selector-pseudo">:100px</span>;</div><div class="line">    <span class="selector-tag">background</span> : <span class="selector-tag">red</span>;</div><div class="line">    <span class="selector-tag">flex-grow</span><span class="selector-pseudo">:5</span>;</div><div class="line">    <span class="selector-tag">flex-shrink</span><span class="selector-pseudo">:5</span>;</div><div class="line">    <span class="selector-tag">flex-basis</span><span class="selector-pseudo">:400px</span>;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="selector-class">.div2</span> &#123;</div><div class="line">    <span class="attribute">height</span>:<span class="number">100px</span>;</div><div class="line">    <span class="attribute">background </span>: blue;</div><div class="line">    <span class="attribute">flex-grow</span>:<span class="number">1</span>;</div><div class="line">    <span class="attribute">flex-shrink</span>:<span class="number">1</span>;</div><div class="line">    flex-basis:200px; //預借空間</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><strong>渲染結果</strong></p>
<p><img src="https://i.imgur.com/FpQeB3q.png" alt=""></p>
<p><strong>描述問題</strong></p>
<p>元素 $i$ (每個元素) 在 flex container 中，因為伸展和壓縮，需要重新計算寬度。</p>
<p>運算式的名詞定義</p>
<p><img src="https://i.imgur.com/nK4Baef.png" alt=""></p>
<h2><code>flex-grow</code></h2>
<p>運算式如下</p>
<p><img src="https://i.imgur.com/P6dZATs.png" alt=""></p>
<p>由公式可以看出(真的可以看出嗎？)</p>
<p>最後的寬度，是由預借空間加上「伸展量」<br>
伸展量是該元素佔有剩餘空間的比例。<br>
(描述這個，跟本就是數學運算式要轉成國小應用問題的能力)</p>
<h2><code>flex-shrink</code> &amp; <code>flex-basis</code></h2>
<p>運算式如下</p>
<p><img src="https://i.imgur.com/wnMAhMG.png" alt=""></p>
<p>由公式可以看出(真的可以看出嗎？)</p>
<p>最後的寬度，是由預借空間加上「壓縮量」(負數)<br>
壓縮量是該元素的預借空間佔有剩餘空間的比例。</p>
<h1>參考資料</h1>
<hr class="footnotes-sep">
<section class="footnotes">
<ol class="footnotes-list">
<li id="fn1" class="footnote-item"><p><a href="https://codepen.io/dwatow/pen/Nwmojy" target="_blank" rel="external">flex-basis excerise</a> <a href="#fnref1" class="footnote-backref">↩</a></p>
</li>
</ol>
</section>

      
    </div>
</article>

    </li>
  
    <li>
      <article class='ListView'>
    <header class="title">
      
        <h1>
          <a href="/2017/12-29-iron-man-2008/iron-man-2008-day19/">前端新手村 flex (下)</a>
        </h1>
      
      <div class='ListMeta'>
  <time datetime="2017-12-28T23:38:50.000Z" itemprop="datePublished">
    2017-12-29
  </time>
  
  | 
  <ul>
    
  <li class="meta-text">
  { <a href="/tags/2008鐵人賽/">2008鐵人賽</a> }
  </li>

  <li class="meta-text">
  { <a href="/tags/CSS/">CSS</a> }
  </li>

  <li class="meta-text">
  { <a href="/tags/Flex/">Flex</a> }
  </li>


  </ul>
  
  
  / 
  <ul>
    
  <li class="meta-text">
  { <a href="/categories/前端新手村/">前端新手村</a> }
  </li>


  </ul>
  
</div>

    </header>
    <div>
      
        <blockquote>
<p>「當你迷惘的時候，就回到原點想一想」-中華一番 蘭飛鴻</p>
</blockquote>
<h2>前言</h2>
<p>網頁前端新手村系列文章，宗旨並不在技術本身的教導，重點放在技術與技術之間的脈胳關係。讓零碎的網頁前端技術的關鍵字，成為比較有系統性的視野。</p>
<p>讓一開始接觸網頁前端的新手們，有一個比較友善的系統來架構你的學習，至於技術本身的深入探討，就留給其它的高手們吧。</p>
<h1>flex (下)</h1>
<p>今天來說說，<code>flex</code> 比較讓人不好懂的部份。</p>
<h2>Flexibility<sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup></h2>
<p><code>flex</code> 的定義裡盡可能的讓 flex item 的高寬填滿容器</p>
<p><code>flex</code> 的 CSS 屬性，用來定義 flex item 如何填滿容器。如何伸長分配剩餘空間，如何擠壓自己防止 flex item 超出容器</p>
<h2><code>flex</code> 縮寫語法</h2>
<p>語法</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">flex: 延伸 壓縮 預借空間</div></pre></td></tr></table></figure>
<p><code>flex</code> 裡的三個值，依序如下</p>
<ol>
<li>延伸 <code>flex-grow</code></li>
<li>壓縮 <code>flex-shrink</code></li>
<li>預借空間 <code>flex-basis</code></li>
</ol>
<p>預設值 <code>flex: 0 1 auto;</code></p>
<blockquote>
<p>為了符合過去常常見的大部份的情況，所以將縮寫預設值不同於單一屬性預設值。</p>
</blockquote>
<ul>
<li><code>flex: initial</code> = <code>flex: 0 1 auto</code></li>
<li><code>flex: auto</code> = <code>flex: 1 1 auto</code></li>
<li><code>flex: none</code> = <code>flex: 0 0 auto;</code></li>
<li><code>flex: n</code> = <code>flex n 1 0</code> 純以比例決定 flex item 大小</li>
</ul>
<p>flex 可以搭配 <code>min-width</code> 和 <code>min-height</code> 改變壓縮時的幅度。</p>
<blockquote>
<p>建議優先使用 <code>flex</code> 而不建議只用各別的 <code>flex-grow</code>、<code>flex-shrink</code>、<code>flex-basis</code>，因為縮寫預設值較符合一般使用情境</p>
</blockquote>
<h2><code>flex-grow</code></h2>
<p>定義 flex grow factor 伸延因數</p>
<ul>
<li>預設值: 1</li>
<li>值: 負數無效</li>
</ul>
<p>當容器的「分配空間」是<strong>正數</strong>時，就使用 <code>flex-grow</code></p>
<h2><code>flex-shrink</code></h2>
<p>定義 flex grow factor 壓縮因數</p>
<ul>
<li>預設值: 1</li>
<li>負數無效</li>
</ul>
<p>當容器的「分配空間」是<strong>負數</strong>時，就使用 <code>flex-grow</code></p>
<blockquote>
<p>縮小時，<code>flex-shrink</code> × <code>flex-basis</code><br>
依物品能夠縮小的比例。<br>
目的在於「較大物品明顯減少之前，小物品不會縮到0」</p>
</blockquote>
<h2><code>flex-basis</code></h2>
<ul>
<li>預設值: auto</li>
</ul>
<p>決定容器的「分配空間」之前，每一個 flex-item 要先佔有的尺寸，換句話說，是 flex-item 對「分配空間」的「預借空間」</p>
<ul>
<li>設定 <code>auto</code> 時，會去找該元素的主要尺寸設定值(<code>height</code>/<code>width</code>)做為基礎，若它們也都是 <code>auto</code> 就用內容尺寸。</li>
<li>設定 <code>0</code> 直接看圖比較實在<br>
<img src="https://i.imgur.com/LlQkutI.png" alt="">
<ul>
<li>上面是設定 <code>0</code>，設定 0，包含內容都當作是剩餘空間。</li>
<li>下面是設定 <code>auto</code>，flex-item 尺寸內容尺寸為準，留白才算剩餘空間。</li>
</ul>
</li>
</ul>
<h2>flex 使用 margin <sup class="footnote-ref"><a href="#fn2" id="fnref2">[2]</a></sup></h2>
<ul>
<li>要避免在 flex item 的 <code>margin</code> 和 <code>padding</code> 使用百分比，會跨瀏覽器的問題</li>
</ul>
<p>一般在 <code>flex item</code> 的 <code>margin</code> 的排法，寫在<a href="https://www.w3.org/TR/2017/CR-css-flexbox-1-20171019/#layout-algorithm" target="_blank" rel="external">排版演算法</a>，但是當 <code>margin: auto</code> ，flex 希望比較像是 <code>block</code> 的排版，所以有下列幾點要注意:</p>
<ul>
<li>計算 <code>flex-basis</code> 時，<code>margin</code> 會直接當作 0</li>
<li>在 <code>justify-content</code> 和 <code>align-self</code> 計算之前，會先分配正數的剩餘空間給該方向的 <code>margin: auto</code></li>
<li>若擠滿容器，主軸方向的 <code>margin: auto</code> 會忽略，不會超過 flex container。</li>
</ul>
<p>不管你是不是看得懂這一段在寫什麼。<br>
總之，用 flex item 要注意你是不是用了 <code>margin: auto</code>。<br>
flex item 都使用 <code>flex</code> 處理剩餘空間了，就不應該又使用 <code>margin: auto</code> 來分配剩餘空間</p>
<h1>參考資料</h1>
<hr class="footnotes-sep">
<section class="footnotes">
<ol class="footnotes-list">
<li id="fn1" class="footnote-item"><p><a href="https://www.w3.org/TR/2017/CR-css-flexbox-1-20171019/#flex-property" target="_blank" rel="external"> 7.1. The flex Shorthand - w3.org</a> <a href="#fnref1" class="footnote-backref">↩</a></p>
</li>
<li id="fn2" class="footnote-item"><p><a href="https://www.w3.org/TR/2017/CR-css-flexbox-1-20171019/#auto-margins" target="_blank" rel="external"> 8.1. Aligning with auto margins - w3.org</a> <a href="#fnref2" class="footnote-backref">↩</a></p>
</li>
</ol>
</section>

      
    </div>
</article>

    </li>
  
    <li>
      <article class='ListView'>
    <header class="title">
      
        <h1>
          <a href="/2017/12-28-iron-man-2008/iron-man-2008-day18/">前端新手村 flex (上)</a>
        </h1>
      
      <div class='ListMeta'>
  <time datetime="2017-12-27T23:25:29.000Z" itemprop="datePublished">
    2017-12-28
  </time>
  
  | 
  <ul>
    
  <li class="meta-text">
  { <a href="/tags/2008鐵人賽/">2008鐵人賽</a> }
  </li>

  <li class="meta-text">
  { <a href="/tags/CSS/">CSS</a> }
  </li>

  <li class="meta-text">
  { <a href="/tags/Flex/">Flex</a> }
  </li>


  </ul>
  
  
  / 
  <ul>
    
  <li class="meta-text">
  { <a href="/categories/前端新手村/">前端新手村</a> }
  </li>


  </ul>
  
</div>

    </header>
    <div>
      
        <blockquote>
<p>「當你迷惘的時候，就回到原點想一想」-中華一番 蘭飛鴻</p>
</blockquote>
<h2>前言</h2>
<p>網頁前端新手村系列文章，宗旨並不在技術本身的教導，重點放在技術與技術之間的脈胳關係。讓零碎的網頁前端技術的關鍵字，成為比較有系統性的視野。</p>
<p>讓一開始接觸網頁前端的新手們，有一個比較友善的系統來架構你的學習，至於技術本身的深入探討，就留給其它的高手們吧。</p>
<h1>flex (上)</h1>
<h2>歷史</h2>
<p>跟著我的步調，先來看看 flex 對於內容排版，有什麼基本的功能吧！</p>
<p>以《眾妙之門》這本簡中翻譯書的內容對照出版日，來看看 flex 為什麼是現在這個名字[^1]。</p>
<table>
<thead>
<tr>
<th>年份</th>
<th>display</th>
<th>屬性名稱</th>
</tr>
</thead>
<tbody>
<tr>
<td>2009年以前</td>
<td><code>display:box;</code></td>
<td><code>box-{*}</code></td>
</tr>
<tr>
<td>2011年的左右</td>
<td><code>display:flexbox;</code></td>
<td><code>flex()</code></td>
</tr>
<tr>
<td>2012-2013年</td>
<td><code>display:flex</code></td>
<td><code>flex-{*}</code></td>
</tr>
</tbody>
</table>
<p>在繁中的一些早期就有出的書(ex: 《HTML5 完美風暴》)，也可以看得出這些語法的版本改變，講的都是同一件事，就是 flex box<br>
在現在(2017年底)講的版本，相對穩定許多。(硬要酸一下)</p>
<p>在 CSS2.1 中，定義了四種排版方式。</p>
<ol>
<li>block 排版，為文章排版而設計。</li>
<li>inline 排版，為文字排版而設計。</li>
<li>table 排版，為了將資料攤成表格。</li>
<li>position 排版，為了依位置而不是依內容關係排版而設計</li>
</ol>
<p>在此介紹第五種排版方式</p>
<ol start="5">
<li>flex 排版，為了複雜排版畫面而設計。</li>
</ol>
<h2>flex 術語</h2>
<ul>
<li><strong>flex container</strong> 使用 <code>flex</code> 或 <code>inline-flex</code> 的容器，內容以 flex formatting context 方式排列。</li>
<li><strong>flex items</strong> 在 flex container 裡的元素們(整行的元素)</li>
<li><strong>flex directions</strong> 在 flex container 裡的排列方向</li>
</ul>
<h2>flex container</h2>
<p>在容器使用</p>
<figure class="highlight css"><table><tr><td class="code"><pre><div class="line"><span class="selector-tag">display</span>: <span class="selector-tag">flex</span>;</div><div class="line"><span class="selector-tag">display</span>: <span class="selector-tag">inline-flex</span>;</div></pre></td></tr></table></figure>
<p>容器裡的元素排列會以 <code>flex</code> 的排列方式進行。</p>
<ul>
<li>排列方式會像 <code>inline</code> 可以橫向並且一行一行的排列，也像 <code>block</code> 這樣控制每個元素</li>
<li><code>::first-letter</code> 、 <code>::first-line</code>、<code>float</code> 以及 <code>clear</code> 和 <code>vertical-align</code> 沒有作用。</li>
<li><code>margin</code> 不會 margins collapsing</li>
<li><code>margin</code> 和 <code>padding</code> 不要用在元素上，目前未定案</li>
<li><code>margin: auto</code> 特別規定在 <a href="https://www.w3.org/TR/2017/CR-css-flexbox-1-20171019/#auto-margins" target="_blank" rel="external">8.1. Aligning with auto margins - w3.org</a></li>
</ul>
<h2>在 flex 容器排元素</h2>
<p>理解方式，就像是理解 <code>inline</code> 排版的方式。<br>
一邊看語法，一邊用 <code>inline</code> 的圖複習一下</p>
<ul>
<li><strong>justify</strong> 指的是每一行的頭尾對齊<sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup> (主軸方向)
<ul>
<li><code>justify-content</code> 文章的行頭尾對齊</li>
</ul>
</li>
</ul>
<p><img src="https://i.imgur.com/oyl3mjs.png" alt=""></p>
<ul>
<li><strong>align</strong> 指的是「以行為單位」的對齊(副軸方向)
<ul>
<li><code>align-content</code> 行與行副軸空間分配(副軸頭尾對齊)</li>
<li><code>align-items</code> 整排元素(整行)的對齊(上下調整)</li>
<li><code>align-self</code> 個別元素的對齊(上下調整)</li>
</ul>
</li>
</ul>
<p><img src="https://i.imgur.com/boIyUpF.png" alt=""></p>
<h2><code>flex-flow</code></h2>
<p>縮寫語法</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">flex-flow: &lt;flex-direction&gt;  &lt;flex-wrap&gt;</div><div class="line">flex-flow: &lt;flex-wrap&gt;</div><div class="line">flex-flow: &lt;flex-direction&gt;</div></pre></td></tr></table></figure>
<h3><code>flex-direction</code></h3>
<p>設定在容器</p>
<p>調整文字排列方向，預設 <code>row</code></p>
<ul>
<li><code>col</code> 上→下排
<ul>
<li><code>col-reverse</code> 下→上</li>
</ul>
</li>
<li><code>row</code> 左→右排
<ul>
<li><code>row-reverse</code> 右→左</li>
</ul>
</li>
</ul>
<h3><code>flex-wrap</code></h3>
<p>設定在容器</p>
<p>自動換行，預設 <code>nowrap</code></p>
<ul>
<li><code>nowrap</code> 可以選擇不換行</li>
<li><code>wrap</code> 滿了換到下一行</li>
<li><code>wrap-reverse</code> 滿了換到上一行</li>
</ul>
<h2><code>order</code></h2>
<p>設定在元素</p>
<p>改變元素順序，預設 0</p>
<ul>
<li>正數靠右排</li>
<li>負數靠左排</li>
</ul>
<h2>學習管道</h2>
<ul>
<li><a href="https://css-tricks.com/snippets/css/a-guide-to-flexbox/" target="_blank" rel="external">CSS-Tricks flex box</a></li>
<li><a href="http://flexboxfroggy.com/" target="_blank" rel="external">小青蛙練習</a></li>
</ul>
<h1>參考資料</h1>
<hr class="footnotes-sep">
<section class="footnotes">
<ol class="footnotes-list">
<li id="fn1" class="footnote-item"><p><a href="https://helpx.adobe.com/indesign/using/aligning-text.html" target="_blank" rel="external"> Align or justify text - InDesign User Guide</a> <a href="#fnref1" class="footnote-backref">↩</a></p>
</li>
</ol>
</section>

      
    </div>
</article>

    </li>
  
    <li>
      <article class='ListView'>
    <header class="title">
      
        <h1>
          <a href="/2017/12-27-iron-man-2008/iron-man-2008-day17/">前端新手村 Position 定位</a>
        </h1>
      
      <div class='ListMeta'>
  <time datetime="2017-12-27T00:00:06.000Z" itemprop="datePublished">
    2017-12-27
  </time>
  
  | 
  <ul>
    
  <li class="meta-text">
  { <a href="/tags/2008鐵人賽/">2008鐵人賽</a> }
  </li>

  <li class="meta-text">
  { <a href="/tags/CSS/">CSS</a> }
  </li>

  <li class="meta-text">
  { <a href="/tags/Position/">Position</a> }
  </li>


  </ul>
  
  
  / 
  <ul>
    
  <li class="meta-text">
  { <a href="/categories/前端新手村/">前端新手村</a> }
  </li>


  </ul>
  
</div>

    </header>
    <div>
      
        <blockquote>
<p>「當你迷惘的時候，就回到原點想一想」-中華一番 蘭飛鴻</p>
</blockquote>
<h2>前言</h2>
<p>網頁前端新手村系列文章，宗旨並不在技術本身的教導，重點放在技術與技術之間的脈胳關係。讓零碎的網頁前端技術的關鍵字，成為比較有系統性的視野。</p>
<p>讓一開始接觸網頁前端的新手們，有一個比較友善的系統來架構你的學習，至於技術本身的深入探討，就留給其它的高手們吧。</p>
<h1><code>Position</code> 定位</h1>
<p>呼！花了五天介紹 CSS 的 Selector!!介紹完 Selector 之後，來介紹常用的 <code>position</code> 吧！</p>
<p>在 CSS 中，有三種可控制的方式，放置 box <sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup></p>
<ol>
<li>Normal flow 自然排列<sup class="footnote-ref"><a href="#fn2" id="fnref2">[2]</a></sup></li>
<li><code>float</code> 排列<sup class="footnote-ref"><a href="#fn3" id="fnref3">[3]</a></sup></li>
<li><code>position</code> 定位</li>
</ol>
<p>語法</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">position: 定位方法</div><div class="line">top: 數字</div><div class="line">bottom: 數字</div><div class="line">left: 數字</div><div class="line">right: 數字</div></pre></td></tr></table></figure>
<ul>
<li>上下左右的設定用得上再使用</li>
<li>定位並不會造成單位變化，所以可以這樣換算 <code>left</code> = -<code>right</code>, <code>top</code> = -<code>bottom</code></li>
</ul>
<h2>Static 無定位</h2>
<p>原本畫面上的 box 會依照 Normal flow 排列。</p>
<ul>
<li><code>position: staic</code> 是每個 HTML element 的預設值。</li>
<li><code>position</code> 設定成這個值時, <code>top</code>, <code>left</code>, <code>bottom</code>, <code>right</code> 將不會有任何作用。</li>
</ul>
<h2>Relative 相對定位<sup class="footnote-ref"><a href="#fn4" id="fnref4">[4]</a></sup></h2>
<p>原本畫面上的 box 會依照 Normal flow 排列。</p>
<p>假設有個叫 box 的HTML element 設定 <code>position: relative</code>  會有什麼影響</p>
<ul>
<li>在 normal flow 佔有的空間，依然佔有。</li>
<li>不會影響其它 normal flow 的 HTML Element</li>
<li>偏移量是相對於在 normal flow 的位置</li>
<li>會導致元素重疊</li>
<li>在 table 有些跨欄偏移的應用 (有明確的定義，不過在此不細講)</li>
</ul>
<h2>Absolute 絕對定位<sup class="footnote-ref"><a href="#fn4" id="fnref4:1">[4]</a></sup></h2>
<p>原本畫面上的 box 會依照 Normal flow 排列。</p>
<p>假設有個叫 box 的HTML element 設定 <code>position: absolute</code> 會有什麼影響</p>
<ul>
<li>跳脫 normal flow 排列規則，不佔有任何空間。</li>
<li>不會影響其它 normal flow 的 HTML Element</li>
<li>偏移量是相對於有「非 <code>position: static</code> 」的位置</li>
<li>box 以內有 normal flow 和 <code>position: absolute</code> 的都與 box 相關</li>
<li>會導致元素重疊</li>
</ul>
<h2>Fixed 可視區的絕對定位<sup class="footnote-ref"><a href="#fn4" id="fnref4:2">[4]</a></sup></h2>
<p>可視區的絕對定位，唸起來很呦口。我也不知道怎麼翻才好。</p>
<p>這是一種類似絕對定位的定位方式。唯一的區別在於偏移量參考點</p>
<ul>
<li>absolute 參考容器(的容器)中，使用「非 static 定位」的容器</li>
<li>偏移量是相對於可視區 (viewport)</li>
<li>每個可視區都會重複 fixed 定位的內容</li>
</ul>
<p>在內容捲動時，被 <code>fixed</code> 的元素會固定不移動。類似固定背景的效果</p>
<blockquote>
<p>有 Media Query 時，有用到 paged 類型，要注意重複的情況。<br>
每個頁面固定放置簽名，是個很有效的做法。</p>
</blockquote>
<h2>Sticky 滾動黏滯定位<sup class="footnote-ref"><a href="#fn4" id="fnref4:3">[4]</a></sup></h2>
<p>在介紹 sticky 之前，先說說一個實例</p>
<p>在此這個頁面，在內容向上捲動時，希望 menu 離開頁面時，會固定在最上面，一直到 menu 上面的部份再出現時，menu 再跟著頁面往下捲動。(如下圖)</p>
<p><img src="https://i.imgur.com/r99VCN2.gif" alt=""></p>
<p>但是<br>
理想與現實之間<br>
是有的差距的(如下圖)!!!</p>
<p>常見的實作bug，有「內容跳動」的情況。<br>
當 menu 要變成 <code>fixed</code> 時，由於從佔 normal flow 空間改成不佔空間的定位方式。跳動的現象，就是後面的元素因為 normal flow 的排列往前排造成的。</p>
<p><img src="https://i.imgur.com/LM7iO1b.gif" alt=""></p>
<p><strong>過去的做法</strong></p>
<p>用 JavaScript 加上/移除 CSS 的方式。<sup class="footnote-ref"><a href="#fn5" id="fnref5">[5]</a></sup></p>
<figure class="highlight css"><table><tr><td class="code"><pre><div class="line"><span class="selector-pseudo">:root</span> &#123;</div><div class="line"> <span class="attribute">--menu-height</span>: <span class="number">100px</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-class">.fixMenu</span> &#123;</div><div class="line">    <span class="attribute">position</span>: fixed;</div><div class="line">    <span class="attribute">top</span>: <span class="number">0</span>;</div><div class="line">    <span class="attribute">left</span>: <span class="number">0</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-class">.fixMenu</span> + * &#123;</div><div class="line">    <span class="attribute">padding-top</span>: <span class="built_in">var</span>(--menu-height)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><strong>用純 CSS 的做法</strong></p>
<p>只需要將 menu 加上這個 css，它就會在可視區 <code>top: 0</code> 和 <code>left: 0</code> 的範圍內，隨內容滾動，在範圍以外，固定在邊界。</p>
<figure class="highlight css"><table><tr><td class="code"><pre><div class="line"><span class="selector-class">.stickyMenu</span> &#123;</div><div class="line">    <span class="attribute">position</span>: sticky;</div><div class="line">    <span class="attribute">top</span>: <span class="number">0</span>;</div><div class="line">    <span class="attribute">left</span>: <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>看似很符合需求，<code>sticky</code> 卻不只是可以這樣。</p>
<blockquote>
<p>名詞解釋: sticky-constraint rectangle<br>
容器或 viewport，裡面的<code>div</code>之類的區塊中，其中一個包含著設定 <code>position: sticky</code> 的元素。</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container"</span>&gt;</span></div><div class="line"> <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"sticky-constraintrectangle"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"sticky-element"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"> <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<p><code>sticky</code> 是一種類似 <code>relative</code> 的定位方式，偏移量是參考有 scroll 的容器或者是 可視區 (viewport)。</p>
<ul>
<li>保留原有 normal flow 所佔用的空間</li>
<li><code>sticky</code> 元素的活動範圍界於 sticky-constraint rectangle 四邊裡面與容器四邊裡面，若之間的空間小於<code>sticky</code> 元素，則<code>sticky</code> 元素被捲出容器四邊</li>
<li>偏移量，捲動到離各邊多少，單位使用百分比，其 100% 是該方向容器的尺寸</li>
<li>element 滾到上下邊界時， margin 會 margins collapse</li>
</ul>
<p><strong>千言萬語，先看例子就知道</strong></p>
<ol>
<li><code>sticky</code> 定位效果與捲動容器邊界之間的關係。</li>
<li><code>sticky</code> 定位效果與自身容器(sticky-constraint rectangle)之間的關係。</li>
<li>上述兩點裡的容器，影響優先權如何</li>
</ol>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container"</span>&gt;</span></div><div class="line"> Lorem Ipsum</div><div class="line">"Neque porro quisquam est qui dolorem ipsum quia dolor sit amet, consectetur, adipisci velit..."</div><div class="line"> <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"sticky-constraintrectangle"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"sticky-element"</span>&gt;</span>"There is no one who loves pain itself, who seeks after it and wants to have it, simply because it is pain..."<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"> <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam vel tellus ornare, vehicula nulla non, luctus mauris. Etiam venenatis massa vitae eros vestibulum, elementum feugiat lectus rhoncus. Integer tincidunt justo id laoreet facilisis. Praesent tristique malesuada ipsum, id tincidunt felis mattis eu. Aliquam interdum id tortor nec varius. Etiam hendrerit, dolor nec luctus rhoncus, magna magna sagittis sem, a faucibus ex erat sed metus. Praesent pretium lacinia nisl nec elementum. Morbi varius finibus turpis ac facilisis.</div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<figure class="highlight css"><table><tr><td class="code"><pre><div class="line"><span class="selector-class">.sticky-element</span> &#123;</div><div class="line"> <span class="attribute">position</span>: sticky;</div><div class="line"> <span class="attribute">top</span>: <span class="number">0</span>;</div><div class="line"> <span class="attribute">left</span>: <span class="number">0</span>;</div><div class="line"> <span class="attribute">color</span>: red;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-class">.sticky-constraintrectangle</span> &#123;</div><div class="line"> <span class="attribute">height</span>: <span class="number">50px</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-class">.container</span> &#123;</div><div class="line"> <span class="attribute">height</span>: <span class="number">100px</span>;</div><div class="line"> <span class="attribute">overflow</span>: auto;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2>常見用法</h2>
<p>例子1: 容器設 <code>relative</code> 給後代元素做 <code>absolute</code> 的偏移參考</p>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container"</span>&gt;</span></div><div class="line"> <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"> <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"> <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"> <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"> <span class="comment">&lt;!--   很多的 box    --&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<figure class="highlight css"><table><tr><td class="code"><pre><div class="line"><span class="selector-class">.container</span> &#123;</div><div class="line">  <span class="attribute">position</span>: relative;</div><div class="line">&#125;</div><div class="line"><span class="selector-class">.container</span> <span class="selector-class">.box</span> &#123;</div><div class="line">  <span class="attribute">position</span>: absolute;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>例子2: box 置中<br>
新手常遇到的問題，是置中很難處理。<br>
其實絕對定位可以完美的將 box 置中</p>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container"</span>&gt;</span></div><div class="line"> <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"centerbox"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<figure class="highlight css"><table><tr><td class="code"><pre><div class="line">* &#123;</div><div class="line"> <span class="attribute">margin</span>: <span class="number">0</span>;</div><div class="line"> <span class="attribute">padding</span>: <span class="number">0</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-class">.container</span> &#123;</div><div class="line"> <span class="attribute">width</span>: <span class="number">100vw</span>;</div><div class="line"> <span class="attribute">height</span>: <span class="number">100vh</span>;</div><div class="line"> <span class="attribute">outline</span>: <span class="number">1px</span> solid;</div><div class="line"></div><div class="line"> <span class="attribute">position</span>: relative;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-class">.centerbox</span> &#123;</div><div class="line"> <span class="attribute">position</span>: absolute;</div><div class="line"> <span class="attribute">top</span>: <span class="number">0</span>;</div><div class="line"> <span class="attribute">bottom</span>: <span class="number">0</span>;</div><div class="line"> <span class="attribute">left</span>: <span class="number">0</span>;</div><div class="line"> <span class="attribute">right</span>: <span class="number">0</span>;</div><div class="line"> <span class="attribute">margin</span>: auto;</div><div class="line"></div><div class="line"> <span class="attribute">height</span>: <span class="number">100px</span>;</div><div class="line"> <span class="attribute">width</span>: <span class="number">100px</span>;</div><div class="line"> <span class="attribute">background-color</span>: <span class="number">#f00</span>;</div><div class="line"> <span class="attribute">border</span>: <span class="number">1px</span> solid red;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>因為 <code>fixed</code> 和 <code>absolute</code> 要符上這個公式<sup class="footnote-ref"><a href="#fn6" id="fnref6">[6]</a></sup></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">&apos;left&apos; + &apos;margin-left&apos; + &apos;border-left-width&apos; + &apos;padding-left&apos; + &apos;width&apos; + &apos;padding-right&apos; + &apos;border-right-width&apos; + &apos;margin-right&apos; + &apos;right&apos; = width of containing block</div></pre></td></tr></table></figure>
<h2>圖層</h2>
<p>由於 <code>position</code> 會造成 HTML element 互疊，甚至是內容遮蔽，所以在此必須使用 <code>z-index</code> 調整前景與背景的關係。</p>
<p>在未使用 <code>z-index</code> 時，HTML element 的層級順序，同層是由 html 檔排列順序(由上而下)，下面的 html 會渲染在前景。</p>
<p><strong>看個例子</strong></p>
<p><img src="https://i.imgur.com/ehFFhTz.png" alt=""></p>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"blue"</span>&gt;</span></div><div class="line"> <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"gray"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"> <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"green"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"red"</span>&gt;</span></div><div class="line"> <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"orange"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<figure class="highlight css"><table><tr><td class="code"><pre><div class="line"><span class="selector-tag">div</span> &#123;</div><div class="line"> <span class="attribute">height</span>: <span class="number">100px</span>;</div><div class="line"> <span class="attribute">width</span>: <span class="number">100px</span>;</div><div class="line"> <span class="attribute">border</span>: solid;</div><div class="line"> <span class="attribute">position</span>: absolute;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-class">.blue</span>   &#123; <span class="attribute">top</span>: <span class="number">10px</span>;             <span class="attribute">background-color</span>: blue;   &#125;</div><div class="line"><span class="selector-class">.gray</span>   &#123; <span class="attribute">top</span>: <span class="number">20px</span>;             <span class="attribute">background-color</span>: gray;   &#125;</div><div class="line"><span class="selector-class">.green</span>  &#123; <span class="attribute">top</span>: <span class="number">30px</span>;             <span class="attribute">background-color</span>: green;  &#125;</div><div class="line"><span class="selector-class">.red</span>    &#123; <span class="attribute">top</span>: <span class="number">40px</span>; <span class="attribute">left</span>: <span class="number">50px</span>; <span class="attribute">background-color</span>: red;    &#125;</div><div class="line"><span class="selector-class">.orange</span> &#123; <span class="attribute">top</span>: <span class="number">50px</span>; <span class="attribute">left</span>: <span class="number">50px</span>; <span class="attribute">background-color</span>: orange; &#125;</div></pre></td></tr></table></figure>
<h1>參考資料</h1>
<hr class="footnotes-sep">
<section class="footnotes">
<ol class="footnotes-list">
<li id="fn1" class="footnote-item"><p><a href="https://www.w3.org/TR/2016/WD-css-position-3-20160517/#rel-pos" target="_blank" rel="external">6. Positioning schemes - w3.org</a> <a href="#fnref1" class="footnote-backref">↩</a></p>
</li>
<li id="fn2" class="footnote-item"><p><a href="https://ithelp.ithome.com.tw/articles/10191740" target="_blank" rel="external">前端新手村 Block 和 Inline 排版</a> <a href="#fnref2" class="footnote-backref">↩</a></p>
</li>
<li id="fn3" class="footnote-item"><p><a href="https://ithelp.ithome.com.tw/articles/10192087" target="_blank" rel="external">前端新手村 橫向排列 &amp; 實現純手工 RWD</a> <a href="#fnref3" class="footnote-backref">↩</a></p>
</li>
<li id="fn4" class="footnote-item"><p><a href="https://www.w3.org/TR/2016/WD-css-position-3-20160517/#position-property" target="_blank" rel="external">6.5. Choosing a positioning scheme: position property - w3.org</a> <a href="#fnref4" class="footnote-backref">↩</a> <a href="#fnref4:1" class="footnote-backref">↩</a> <a href="#fnref4:2" class="footnote-backref">↩</a> <a href="#fnref4:3" class="footnote-backref">↩</a></p>
</li>
<li id="fn5" class="footnote-item"><p><a href="https://www.facebook.com/LiveCoding.tw/videos/1669445373356989/" target="_blank" rel="external">來聊聊一些個人切版的經驗與個人切版技巧吧！ - LiveCoding.tw</a> <a href="#fnref5" class="footnote-backref">↩</a></p>
</li>
<li id="fn6" class="footnote-item"><p><a href="https://www.w3.org/TR/2016/WD-css-position-3-20160517/#size-and-position-details" target="_blank" rel="external">8. Sizing and positioning details - w3.org<br>
</a> <a href="#fnref6" class="footnote-backref">↩</a></p>
</li>
</ol>
</section>

      
    </div>
</article>

    </li>
  
    <li>
      <article class='ListView'>
    <header class="title">
      
        <h1>
          <a href="/2017/12-26-iron-man-2008/iron-man-2008-day16/">前端新手村 CSS Cascade 串接</a>
        </h1>
      
      <div class='ListMeta'>
  <time datetime="2017-12-25T23:43:34.000Z" itemprop="datePublished">
    2017-12-26
  </time>
  
  | 
  <ul>
    
  <li class="meta-text">
  { <a href="/tags/2008鐵人賽/">2008鐵人賽</a> }
  </li>

  <li class="meta-text">
  { <a href="/tags/CSS/">CSS</a> }
  </li>

  <li class="meta-text">
  { <a href="/tags/Specificity/">Specificity</a> }
  </li>

  <li class="meta-text">
  { <a href="/tags/Rulest-Order/">Rulest Order</a> }
  </li>


  </ul>
  
  
  / 
  <ul>
    
  <li class="meta-text">
  { <a href="/categories/前端新手村/">前端新手村</a> }
  </li>


  </ul>
  
</div>

    </header>
    <div>
      
        <blockquote>
<p>「當你迷惘的時候，就回到原點想一想」-中華一番 蘭飛鴻</p>
</blockquote>
<h2>前言</h2>
<p>網頁前端新手村系列文章，宗旨並不在技術本身的教導，重點放在技術與技術之間的脈胳關係。讓零碎的網頁前端技術的關鍵字，成為比較有系統性的視野。</p>
<p>讓一開始接觸網頁前端的新手們，有一個比較友善的系統來架構你的學習，至於技術本身的深入探討，就留給其它的高手們吧。</p>
<h1>CSS Cascade<sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup></h1>
<p>Cascade 中文翻譯成「串接」。</p>
<p>Cascade 動作是由 Specificity 和 Ruleset order 作用，決定要套用的 CSS。</p>
<h2>Specificity<sup class="footnote-ref"><a href="#fn2" id="fnref2">[2]</a></sup></h2>
<p>Specificity 在中文翻譯成「特定度」。</p>
<p>千言萬語，透過<a href="http://cssspecificity.com/" target="_blank" rel="external">一個頁面</a>可以說盡。<br>
看不懂沒關係，只要繼續看下去。</p>
<h3>定義 Specificity</h3>
<p>首先，我們想知道 specificity 是多少，要計算 <code>a</code>, <code>b</code>, <code>c</code>, <code>d</code> 四個數字<br>
所以，目的在搞懂這四個數字怎麼計算，就可以掌握 specificity</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">(a, b, c, d)</div></pre></td></tr></table></figure>
<ul>
<li>a
<ul>
<li><code>style</code>，直接寫在 HTML element 的 <code>style</code> attribute，a = 1</li>
</ul>
</li>
<li>b
<ul>
<li>b = 出現 <code>id</code> 選取器的次數</li>
</ul>
</li>
<li>c
<ul>
<li>c = 出現 <code>class</code> 類別選取器的次數</li>
<li>c = 出現 <code>[attribute=value]</code> 屬性選取器的次數</li>
<li>c = 出現 <code>:pseudoclasses</code> 偽類選取器的次數</li>
</ul>
</li>
<li>d
<ul>
<li>d = 出現 <code>:sudoelements</code> 偽元素選取器的次數</li>
<li>d = 出現 <code>tagname</code> 類型(HTML標籤)選取器的次數</li>
</ul>
</li>
</ul>
<h3>計算 Specificity</h3>
<ol>
<li>a, b, c, d 彼此不換算。(很重要)</li>
<li>a, b, c, d 各別只會相加</li>
<li>結果是四個數字</li>
<li>特例
<ol>
<li>value後面加 <code>!important</code> 直接在 a 前的第五位 +1</li>
<li><code>*</code> 選取器，不佔任何分數 +0</li>
</ol>
</li>
</ol>
<p>看個例子</p>
<figure class="highlight css"><table><tr><td class="code"><pre><div class="line"><span class="selector-id">#nav-global</span> &gt; <span class="selector-tag">ul</span> &gt; <span class="selector-tag">li</span> &gt; <span class="selector-tag">a</span><span class="selector-class">.nav-link</span> <span class="comment">/* 0, 1, 1, 3 */</span></div></pre></td></tr></table></figure>
<ul>
<li>a = 0: 沒有寫在 HTML 的 <code>style</code></li>
<li>b = 1: <code>#nav-blobal</code></li>
<li>c = 1: <code>.nav-link</code></li>
<li>d = 3: <code>ul</code>, <code>li</code>, <code>a</code></li>
</ul>
<h2>Rulest order</h2>
<p>Rulest order 翻譯成 規則集順序。</p>
<p>千言萬語，只要開「開發者模式」就可以看結果。</p>
<p><img src="https://i.imgur.com/EcCbRuB.png" alt=""></p>
<p>以結果來說圖中的 <code>margin-top</code>被覆寫。</p>
<h3>定義 Rulest order</h3>
<p>若出現兩個 Specificity 強度相同的 Ruleset ，晚宣告有較高的優先權。</p>
<blockquote>
<p>是要改套件樣式，要掌握這個訣竅</p>
</blockquote>
<p>看個例子</p>
<figure class="highlight css"><table><tr><td class="code"><pre><div class="line"><span class="selector-id">#nav-global</span> &gt; <span class="selector-tag">ul</span> &gt; <span class="selector-tag">li</span> &gt; <span class="selector-tag">a</span><span class="selector-class">.nav-link</span> &#123;</div><div class="line">    <span class="attribute">color</span>: blue;</div><div class="line">&#125;</div><div class="line"><span class="selector-id">#nav-global</span> &gt; <span class="selector-tag">ul</span> &gt; <span class="selector-tag">li</span> &gt; <span class="selector-tag">a</span><span class="selector-class">.nav-link</span> &#123;</div><div class="line">    <span class="attribute">color</span>: red;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>最後的字型顏色，是紅色的。</p>
<h1>參考資料</h1>
<hr class="footnotes-sep">
<section class="footnotes">
<ol class="footnotes-list">
<li id="fn1" class="footnote-item"><p>《重構 CSS》 <a href="#fnref1" class="footnote-backref">↩</a></p>
</li>
<li id="fn2" class="footnote-item"><p><a href="https://www.w3.org/TR/css3-selectors/#specificity" target="_blank" rel="external">9. Calculating a selector’s specificity - w3.org<br>
</a> <a href="#fnref2" class="footnote-backref">↩</a></p>
</li>
</ol>
</section>

      
    </div>
</article>

    </li>
  
    <li>
      <article class='ListView'>
    <header class="title">
      
        <h1>
          <a href="/2017/12-25-iron-man-2008/iron-man-2008-day15/">前端新手村 偽元素</a>
        </h1>
      
      <div class='ListMeta'>
  <time datetime="2017-12-25T05:26:48.000Z" itemprop="datePublished">
    2017-12-25
  </time>
  
  | 
  <ul>
    
  <li class="meta-text">
  { <a href="/tags/2008鐵人賽/">2008鐵人賽</a> }
  </li>

  <li class="meta-text">
  { <a href="/tags/Selector/">Selector</a> }
  </li>

  <li class="meta-text">
  { <a href="/tags/Pseudo-elements/">Pseudo-elements</a> }
  </li>


  </ul>
  
  
  / 
  <ul>
    
  <li class="meta-text">
  { <a href="/categories/前端新手村/">前端新手村</a> }
  </li>


  </ul>
  
</div>

    </header>
    <div>
      
        <blockquote>
<p>「當你迷惘的時候，就回到原點想一想」-中華一番 蘭飛鴻</p>
</blockquote>
<h2>前言</h2>
<p>網頁前端新手村系列文章，宗旨並不在技術本身的教導，重點放在技術與技術之間的脈胳關係。讓零碎的網頁前端技術的關鍵字，成為比較有系統性的視野。</p>
<p>讓一開始接觸網頁前端的新手們，有一個比較友善的系統來架構你的學習，至於技術本身的深入探討，就留給其它的高手們吧。</p>
<h1>偽元素</h1>
<p>偽類 不是 偽元素。<br>
偽元素，是元素!!!會出現在 DOM 樹上，偽類不會出現在 DOM 樹上。</p>
<ul>
<li>作用在 HTML element 裡的「內容」選擇器</li>
<li>使用 <code>::first-line</code>或<code>::first-letter</code>可以描述(選到的)內容的特定位置</li>
<li>使用 <code>::after</code> 或 <code>::before</code> 是「建立頭/尾內容」的偽元素</li>
</ul>
<p>語法</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">Selector::偽元素</div></pre></td></tr></table></figure>
<ul>
<li>使用2個<code>:</code>是CSS3的規定，1個<code>:</code>也可以用的原因是對CSS1&amp;2的相向下容性</li>
<li>一個 Selector 只能有一個偽元素</li>
</ul>
<blockquote>
<p>未來的版本會出現多重偽元素!!</p>
</blockquote>
<h2>第一行 <code>::first-line</code></h2>
<ul>
<li>作用在第一行內容</li>
<li>第一行的 <code>inline-table</code>, <code>inline-block</code> CSS會失效</li>
<li>作用在 <code>block</code> 或 <code>table</code> 元素裡的 <code>inline</code> 內容(才有分行)。</li>
<li>會依寬度而影響被選到的對象(斷行就沒選到了)</li>
<li>第一行出現 <code>&lt;br&gt;</code> 那就是 <code>&lt;br&gt;</code> 之前的才算被選到</li>
<li>選出來的第一行特性接近 <code>inline</code> 元素</li>
</ul>
<p>看個例子</p>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">DIV</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">P</span>&gt;</span>First paragraph<span class="tag">&lt;/<span class="name">P</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">P</span>&gt;</span>Second paragraph<span class="tag">&lt;/<span class="name">P</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">DIV</span>&gt;</span></div></pre></td></tr></table></figure>
<p>其實瀏覽器會這麼讀它</p>
<blockquote>
<p>注意<br>
此例有把偽元素的作用範圍、順序精確的(以虛擬標籤的方式)標示在原始碼上。</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">DIV</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">P</span>&gt;</span><span class="tag">&lt;<span class="name">DIV::first-line</span>&gt;</span><span class="tag">&lt;<span class="name">P::first-line</span>&gt;</span>First paragraph<span class="tag">&lt;/<span class="name">P::first-line</span>&gt;</span><span class="tag">&lt;/<span class="name">DIV::first-line</span>&gt;</span><span class="tag">&lt;/<span class="name">P</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">P</span>&gt;</span><span class="tag">&lt;<span class="name">P::first-line</span>&gt;</span>Second paragraph<span class="tag">&lt;/<span class="name">P::first-line</span>&gt;</span><span class="tag">&lt;/<span class="name">P</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">DIV</span>&gt;</span></div></pre></td></tr></table></figure>
<h2>第一個字 <code>::first-letter</code></h2>
<ul>
<li>作用在一個字(母)</li>
<li>第一個字的 <code>inline-table</code>, <code>inline-block</code> CSS會失效</li>
<li>作用在 <code>block</code> 或 <code>table</code> 元素裡的 <code>inline</code> 內容(才有分行)。</li>
<li>第一個字的位置是圖，則沒有任何字被選上</li>
<li>標點符號起始的文章，標點符號會與字母一起被選取
<ul>
<li>ex1: <img src="https://i.imgur.com/t9nk5TS.png" alt=""></li>
<li>ex2: <img src="https://i.imgur.com/9Fswp9g.png" alt=""></li>
</ul>
</li>
<li>第一個字出現 <code>&lt;br&gt;</code> 那就是沒有任何字母被選上</li>
<li>選出來的第一個字特性接近 <code>inline</code> 元素</li>
</ul>
<p><strong>看個例子</strong></p>
<figure class="highlight css"><table><tr><td class="code"><pre><div class="line"><span class="selector-tag">p</span> &#123; <span class="attribute">color</span>: red; <span class="attribute">font-size</span>: <span class="number">12pt</span> &#125;</div><div class="line"><span class="selector-tag">p</span><span class="selector-pseudo">::first-letter</span> &#123; <span class="attribute">color</span>: green; <span class="attribute">font-size</span>: <span class="number">200%</span> &#125;</div><div class="line"><span class="selector-tag">p</span><span class="selector-pseudo">::first-line</span> &#123; <span class="attribute">color</span>: blue &#125;</div></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">P</span>&gt;</span>Some text that ends up on two lines<span class="tag">&lt;/<span class="name">P</span>&gt;</span></div></pre></td></tr></table></figure>
<p>其實瀏覽器會這麼讀它</p>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">P</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">P::first-line</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">P::first-letter</span>&gt;</span></div><div class="line">            S</div><div class="line">        <span class="tag">&lt;/<span class="name">P::first-letter</span>&gt;</span></div><div class="line">        ome text that</div><div class="line">    <span class="tag">&lt;/<span class="name">P::first-line</span>&gt;</span></div><div class="line">    ends up on two lines</div><div class="line"><span class="tag">&lt;/<span class="name">P</span>&gt;</span></div></pre></td></tr></table></figure>
<p>結果是這樣</p>
<p><img src="https://i.imgur.com/xCKbqdr.png" alt=""></p>
<blockquote>
<p>注意<br>
若同時設定 <code>::first-letter</code> 和 <code>::first-line</code><br>
<code>::first-letter</code> 會繼承<code>::first-line</code> 的 CSS，若有衝突，會使用 <code>::first-letter</code> 的設定(會覆蓋)</p>
</blockquote>
<h3>常見的用途</h3>
<p>“initial caps” and “drop caps”</p>
<p><img src="https://i.imgur.com/8qTDKd3.png" alt=""></p>
<h2>內容前&amp;後 <code>::before</code> &amp; <code>::after</code></h2>
<p>適用在可以裝子元素的 HTML element</p>
<ul>
<li><code>::before</code> 建立第一個子元素內容</li>
<li><code>::after</code> 建立最後一個子元素內容</li>
</ul>
<p><strong>使用注意</strong></p>
<p>要有 <code>content: ''</code> 這兩個偽元素才會 work ，是用來放偽元素的內容。</p>
<ul>
<li>優點
<ul>
<li>使用 CSS 控制是不是要加內容</li>
</ul>
</li>
<li>缺點
<ul>
<li>SEO 不好(內容寫在 CSS)</li>
</ul>
</li>
</ul>
<p><strong>看個例子</strong></p>
<p><img src="https://i.imgur.com/GLqxrjl.png" alt=""></p>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">span</span>&gt;</span>A<span class="tag">&lt;/<span class="name">span</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">span</span>&gt;</span>A<span class="tag">&lt;/<span class="name">span</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">span</span>&gt;</span>A<span class="tag">&lt;/<span class="name">span</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">span</span>&gt;</span>A<span class="tag">&lt;/<span class="name">span</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">span</span>&gt;</span>A<span class="tag">&lt;/<span class="name">span</span>&gt;</span></div></pre></td></tr></table></figure>
<p><img src="https://i.imgur.com/JUB7s4C.png" alt=""></p>
<p>透過相鄰選取器就可以選取到，就算成功了。<br>
剩下的就是在左邊加上 <code>|</code> 就成功了</p>
<figure class="highlight css"><table><tr><td class="code"><pre><div class="line"><span class="selector-tag">span</span> &#123;</div><div class="line"> <span class="attribute">position</span>: relative;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-tag">span</span> + <span class="selector-tag">span</span><span class="selector-pseudo">::after</span> &#123;</div><div class="line"> <span class="attribute">content</span>: <span class="string">''</span>;</div><div class="line"> <span class="attribute">display</span>: block;</div><div class="line"> <span class="attribute">position</span>: absolute;</div><div class="line"> <span class="attribute">top</span>: <span class="number">0</span>;</div><div class="line"> <span class="attribute">bottom</span>: <span class="number">0</span>;</div><div class="line"> <span class="attribute">margin</span>: auto;</div><div class="line"> <span class="attribute">width</span>: <span class="number">1px</span>;</div><div class="line"> <span class="attribute">height</span>: <span class="number">15px</span>;</div><div class="line"> <span class="attribute">background-color</span>: <span class="number">#000</span>;</div><div class="line"> <span class="attribute">left</span>: -<span class="number">2px</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>下次再來分享怎麼加上 <code>|</code><br>
(不是用 <code>border</code> 當然也不是 <code>outline</code>)</p>
<h2>Selector 遺珠</h2>
<h3>DTD</h3>
<p>DTD: Document Type Definition<br>
XML 的事，和網頁前端新手可以先跳過<br>
在此不介紹</p>
<h3>namespace</h3>
<p><code>w3.org</code> 的文件的介紹，有講到 namespace<sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup></p>
<p>語法</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">namespace | Selector &#123;&#125;</div></pre></td></tr></table></figure>
<p>CSS 的 Selector 會有 <code>|</code> 出現。<br>
不過，在此不討論 namespace。</p>
<h1>參考資料</h1>
<hr class="footnotes-sep">
<section class="footnotes">
<ol class="footnotes-list">
<li id="fn1" class="footnote-item"><p><a href="https://developer.mozilla.org/zh-TW/docs/Web/CSS/@namespace" target="_blank" rel="external"> @namespace - MDN</a> <a href="#fnref1" class="footnote-backref">↩</a></p>
</li>
</ol>
</section>

      
    </div>
</article>

    </li>
  
    <li>
      <article class='ListView'>
    <header class="title">
      
        <h1>
          <a href="/2017/12-24-iron-man-2008/iron-man-2008-day14/">前端新手村 CSS Selector 的 Combinators</a>
        </h1>
      
      <div class='ListMeta'>
  <time datetime="2017-12-24T00:33:20.000Z" itemprop="datePublished">
    2017-12-24
  </time>
  
  | 
  <ul>
    
  <li class="meta-text">
  { <a href="/tags/2008鐵人賽/">2008鐵人賽</a> }
  </li>

  <li class="meta-text">
  { <a href="/tags/CSS/">CSS</a> }
  </li>

  <li class="meta-text">
  { <a href="/tags/Selector/">Selector</a> }
  </li>


  </ul>
  
  
  / 
  <ul>
    
  <li class="meta-text">
  { <a href="/categories/前端新手村/">前端新手村</a> }
  </li>


  </ul>
  
</div>

    </header>
    <div>
      
        <blockquote>
<p>「當你迷惘的時候，就回到原點想一想」-中華一番 蘭飛鴻</p>
</blockquote>
<h2>前言</h2>
<p>網頁前端新手村系列文章，宗旨並不在技術本身的教導，重點放在技術與技術之間的脈胳關係。讓零碎的網頁前端技術的關鍵字，成為比較有系統性的視野。</p>
<p>讓一開始接觸網頁前端的新手們，有一個比較友善的系統來架構你的學習，至於技術本身的深入探討，就留給其它的高手們吧。</p>
<h1>CSS 的 Selector Combinators<sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup></h1>
<p>在介紹完 Simple selectors 之後，其實就可以做各式各樣的選擇，並且可以將它組成 Group。</p>
<p>這還沒結束， Selector 還可以用 Combinators 來將它以某種關係組合起來。</p>
<p>常見的應用，描述 Selector 透過 HTML 結構的耦合關係，套用特定 HTML element 的 CSS。</p>
<p>英文稱為 Combinators，不過我後來想一想，這個的概念像是英文的連結詞: and, but 之類的。</p>
<ul>
<li>
<p>Descendant combinator 後裔組合</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">a b</div></pre></td></tr></table></figure>
</li>
<li>
<p>Child combinators  孩子組合</p>
  <figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">a&gt;b</div></pre></td></tr></table></figure>
</li>
<li>
<p>Sibling combinators  同層組合<br>
在考慮相鄰關係時，略過非元素節點</p>
<ul>
<li>Adjacent sibling combinator  相鄰同層組合</li>
</ul>
  <figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">A+B</div></pre></td></tr></table></figure>
<ul>
<li>General sibling combinator 向後同層組合</li>
</ul>
  <figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">A~B</div></pre></td></tr></table></figure>
</li>
</ul>
<h2>常見又不建議的關係整理</h2>
<table>
<thead>
<tr>
<th>邏輯</th>
<th>Selector</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>AND</td>
<td>.A.B</td>
<td>同時擁有.A和.B</td>
</tr>
<tr>
<td>OR</td>
<td>.A, .B</td>
<td>只要有.A或.B</td>
</tr>
<tr>
<td>INCLUDE</td>
<td>.A .B</td>
<td>.B包含在.A裡</td>
</tr>
<tr>
<td>IN</td>
<td>.A &gt; .B</td>
<td>.B下一層有.A</td>
</tr>
</tbody>
</table>
<p>其實，不推薦這樣理解它們。<br>
原因在於，初學會有許許多多的疑問</p>
<ul>
<li>不知道最後選到了誰</li>
<li>它們是不是運算式，有沒有先乘除後加減的規則？</li>
</ul>
<p>還是用正確的分類一個一個來認識它們。</p>
<h2>常見的應用</h2>
<p>在 menu 或 footer 的設計上，常出現元素中間需要間隔線。</p>
<p>看個例子</p>
<p><img src="https://i.imgur.com/GLqxrjl.png" alt=""></p>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">span</span>&gt;</span>A<span class="tag">&lt;/<span class="name">span</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">span</span>&gt;</span>A<span class="tag">&lt;/<span class="name">span</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">span</span>&gt;</span>A<span class="tag">&lt;/<span class="name">span</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">span</span>&gt;</span>A<span class="tag">&lt;/<span class="name">span</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">span</span>&gt;</span>A<span class="tag">&lt;/<span class="name">span</span>&gt;</span></div></pre></td></tr></table></figure>
<p><img src="https://i.imgur.com/JUB7s4C.png" alt=""></p>
<p>透過相鄰選取器就可以選取到，就算成功了。<br>
剩下的就是在左邊加上 <code>|</code> 就成功了</p>
<figure class="highlight css"><table><tr><td class="code"><pre><div class="line"><span class="selector-tag">span</span> &#123;</div><div class="line"> <span class="attribute">position</span>: relative;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-tag">span</span> + <span class="selector-tag">span</span> &#123;</div><div class="line"> <span class="attribute">color</span>: red;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>下次再來分享怎麼加上 <code>|</code><br>
(不是用 <code>border</code> 當然也不是 <code>outline</code>)</p>
<h1>參考資料</h1>
<hr class="footnotes-sep">
<section class="footnotes">
<ol class="footnotes-list">
<li id="fn1" class="footnote-item"><p><a href="https://www.w3.org/TR/css3-selectors/#pseudo-classes" target="_blank" rel="external">Selectors Level 3, 6.6. Pseudo-classes - w3.org</a> <a href="#fnref1" class="footnote-backref">↩</a></p>
</li>
</ol>
</section>

      
    </div>
</article>

    </li>
  
</ul>

  <section id="nav-wrapper">
    <nav id="page-nav">
      <a class="extend prev" rel="prev" href="/">« prev</a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="page-number" href="/page/4/">4</a><span class="space">&hellip;</span><a class="page-number" href="/page/6/">6</a><a class="extend next" rel="next" href="/page/3/">next »</a>
    </nav>
  </section>


            <footer>
    <div>© 2016 - 2018 Chris </div>
    <div>
    Powered by Hexo
    </div>
</footer>

        </div>
    </div>
</div>
<!-- <script src="/js/pager/dist/singlepager.js"></script> -->
<script src="/js/ixbg/ixbg.js"></script>
</body>
</html>
