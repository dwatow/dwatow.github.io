---
title: "更新Linux Kernel用得到的指令"
date: 2017-03-13T20:26:00.000+08:00
tags: 
- "Ubuntu"
categories:
- 舊部落格移植文章
---

# 更新Linux Kernel用得到的指令

原文連結: https://darkblack02.blogspot.com/2017/03/linux-kernel.html
移植時的最後更新日期: 2017-05-19T16:20:55.064+08:00

目前正在用的kernel<br /><pre>uname -a</pre><br />看看目前裝的kernel<br /><pre>dpkg --get-selections | grep linux-image</pre><br />kernel大掃除(應該是只刪舊版的)<br /><pre>sudo apt-get remove $(dpkg -l|egrep '^ii  linux-(im|he)'|awk '{print $2}'|grep -v `uname -r`)</pre><br />刪除kernel(指定版號)<br /><pre>sudo apt-get purge linux-image-X.X.XX-generic</pre><br />安裝kernel(指定版號)<br /><pre>sudo apt-get install linux-image-X.X.XX-generic</pre><br />安裝自行下載的kernel(deb檔)<br />一次載三個檔<br />通常不會這樣裝，因為會有驅動程式支援度不足的小問題(也許啦) <br /><pre>sudo dpkg -i *.deb</pre><br />更新initramfs image，詳細man update-initramfs <br /><pre>sudo update-initramfs -u -k all</pre><br />更新grub清單 <br /><pre>sudo update-grub</pre><br />在此提供腳本檔，安裝最新的版本，在參數指定版號即可<br /><pre>#!/bin/bash<br />sudo apt-get install linux-image-${1}-generic<br />sudo apt-get install linux-image-extra-${1}-generic<br />sudo update-initramfs -u -k all<br />sudo update-grub</pre>
