---
title: 虛擬函數+動態連結
date: 2012-09-13T08:52:00.006+08:00
tags: 
- C_and_Cpp

categories:
- 舊部落格移植文章
---

# 虛擬函數+動態連結

原文連結: https://darkblack01.blogspot.com/2012/09/blog-post.html
移植時的最後更新日期: 2015-12-23T14:16:57.734+08:00

此做法在VC6中會有 ERROR C2555，不過我有<a href="http://darkblack01.blogspot.tw/2012/09/cp-vc6_13.html">解決方案</a>，有興趣的人可以參考。  <pre class="prettyprint"><code>#include &lt;iostream&gt;<br /><br />using namespace std;<br /><br />class A<br />{<br />public:<br /> virtual A* fun1() = 0;<br /> virtual A* fun2() = 0;<br />};<br /><br />class B : public A<br />{<br />public:<br /> B* fun1() { cout << "B::fun1()" << endl; return this; }<br /> B* fun2() { cout << "B::fun2()" << endl; return this; }<br />};<br /><br />class C : public A<br />{<br />public:<br /> C* fun1() { cout << "C::fun1()" << endl; return this ; }<br /> C* fun2() { cout << "C::fun2()" << endl; return this ; }<br />};<br /><br />int main()<br />{<br />B b1;<br />C c1;<br /><br />A* a = &b1;<br />a->fun1()->fun2();<br /><br />a = &c1;<br />a->fun1()->fun2();<br />}</code></pre>
