---
title: "讓sublime text 2可以使用makefile和g++"
date: 2013-12-12T17:49:00.001+08:00
tags: 
- "sublime text2"
categories:
- 舊部落格移植文章
---

# 讓sublime text 2可以使用makefile和g++

原文連結: https://darkblack01.blogspot.com/2013/12/sublime-text-2c-compiler.html
移植時的最後更新日期: 2014-09-27T18:38:50.352+08:00

這篇，最後就是要讓Sublime text 2可以跑c++的IDE<br /><div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/-fkrVYyszpbA/UqmE2zT5R8I/AAAAAAAAGPk/J3yxmOIbtLc/s1600/sublimeText2forCpp.JPG" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://1.bp.blogspot.com/-fkrVYyszpbA/UqmE2zT5R8I/AAAAAAAAGPk/J3yxmOIbtLc/s1600/sublimeText2forCpp.JPG" /></a></div><br /><br /><h3><span style="font-size: large;">第一步，安裝<a href="http://downloads.sourceforge.net/project/mingw/Installer/mingw-get-setup.exe?r=http%3A%2F%2Fsourceforge.net%2Fprojects%2Fmingw%2Ffiles%2FInstaller%2F&amp;ts=1387192606&amp;use_mirror=ncu" target="_blank">MinGW</a></span></h3>相關細節，為了不抄人家的文章，我們就來看<a href="http://cloverhsc.blogspot.tw/2013/09/sublime-text-ccide-in-windows2-g.html" target="_blank">原始的教學</a>吧！[1]<br /><strike>   <span style="color: #cccccc; font-size: xx-small;">      結束！<br />      <br />      『什麼？這篇在寫什麼鬼東西？這不叫抄文章？？&gt;&lt;』<br />      <br />      先別罵髒話！</span></strike><br />不然，看看濃縮版。<br />到<a href="http://sourceforge.net/projects/mingw/files/Installer/" target="_blank">下載頁面</a>，下載mingw-get-setup.exe<br />安裝g++，設定環境變數<span style="font-family: Courier New, Courier, monospace;">&lt;MinGw path&gt;\bin</span><br /><br /><strike><span style="color: #cccccc; font-size: xx-small;">這篇是我出現問題時的解法。</span></strike><br /><div><strike><span style="color: #cccccc; font-size: xx-small;"><br /></span></strike></div>我出現的問題是「環境變數設定好了，卻 <strike>   <span style="color: #cccccc; font-size: xx-small;">      跟狗屎一樣    </span></strike>沒有用」<br /><br /><strike>   <span style="color: #cccccc; font-size: xx-small;">      『什麼？狗屎？』<br />      「..........」<br />      <br />      就是，設定好了！沒有用！<br />      (中間的故事和issue圖就先略了)<br />   </span></strike><br />解法就是....<br />環境變數中的path，用<span style="font-family: Courier New, Courier, monospace; font-size: x-large;">;</span>隔開，但是不可以包含空白！<br /><br /><strike>   <span style="color: #cccccc; font-size: xx-small;">      千千萬萬小心呀~~&gt;&lt;<br />      我貼心的為了美感，將所有的;後面都空白，導致我的visual studio也出問題了！一度刪掉自己原本建好的專案！嗚~~還好我有可愛的git<br />   </span></strike><br />到這裡，已經可以complier c++的檔案了，不過限於一個.cpp檔。<br />大多數的c++寫法都會將類別的宣告寫在.h檔，實作寫在.cpp檔中。<br />如果環境架設只到這一步，將只可以complier main.cpp和其它類別的.h檔，這樣的用法非常不實用！所以，我們趕快接著第二步來看看吧！^^<br /><br /><strike><br /></strike>到這裡，已經可以complier c++的檔案了，不過限於一個.cpp檔。<br />大多數的c++寫法都會將類別的宣告寫在.h檔，實作寫在.cpp檔中。<br />如果環境架設只到這一步，將只可以complier main.cpp和其它類別的.h檔，這樣的用法非常不實用！所以，我們趕快接著第二步來看看吧！^^<br /><br /><h3><span style="font-size: large;">第二步，使用make[2]</span></h3>確定MinGW有安裝make(在msys下)<br /><div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/-VmN1nQCjBwY/Uq6P7aLTFqI/AAAAAAAAGQc/gyuqQHEgOF0/s1600/installMake.JPG" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://3.bp.blogspot.com/-VmN1nQCjBwY/Uq6P7aLTFqI/AAAAAAAAGQc/gyuqQHEgOF0/s1600/installMake.JPG" /></a></div>找一下路徑<br />確定路徑是在c:\MinGW\msys\1.0\bin<br /><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-C1A8ruTR85I/Uq6P_jfJKqI/AAAAAAAAGQw/wgkftEuujYI/s1600/pathMake.JPG" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://2.bp.blogspot.com/-C1A8ruTR85I/Uq6P_jfJKqI/AAAAAAAAGQw/wgkftEuujYI/s1600/pathMake.JPG" /></a></div>設定環境變數<br /><div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/-FMwkZYPnHBU/Uq6P_l0SSkI/AAAAAAAAGQs/wbXyhoaT3Wc/s1600/setupPath.JPG" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://3.bp.blogspot.com/-FMwkZYPnHBU/Uq6P_l0SSkI/AAAAAAAAGQs/wbXyhoaT3Wc/s1600/setupPath.JPG" /></a></div><br /><h3><span style="font-size: large;">接下來就是設定sublime text 2</span></h3>(如同[1]新增C++ Builder一樣)<br />在Sublime Text2 「Tools」-&gt;「Build System」-&gt;「New Build System..」來自己設定Compiler 參數。<br />如下：<br /><pre class="prettyprint"><code class="language-js">{<br />    "cmd": ["make"],<br />    "file_regex": " ^(..[^:]*):([0-9]+):?([0 -9]+)?:? (.*)$",<br />    "working_dir": "${file_path}",<br />    "selector": "source.c, source.c++",<br />    "variants":<br />     [<br />          {<br />               "name": "Run",<br />               "cmd": ["${file_path}/${file_base_name}.exe"]<br />          }<br />     ]<br />}</code></pre><br /><h3><span style="font-size: large;">最後一步</span></h3>(感謝<a href="https://plus.google.com/u/0/105883038265707928425" target="_blank">Andy Shieh</a>在這一關提醒我漏了什麼) 寫一個簡單的makefile<br />內容要有一個標籤，還有呼叫g++的指令與參數。<br />檔名存成「makefile」 <br /><pre class="prettyprint"><code class="language-js">all:<br />&lt;一個tab的空白&gt;g++ -o main main.cpp a.cpp</code></pre><br /><h3><span style="font-size: large;">好了</span></h3>之後，我們來測試一下<br /><div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/-9waIGpGjanY/Uq6XlsHbkxI/AAAAAAAAGQ8/nVTH6fiZvbY/s1600/okMakefileSublimeText.JPG" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://1.bp.blogspot.com/-9waIGpGjanY/Uq6XlsHbkxI/AAAAAAAAGQ8/nVTH6fiZvbY/s1600/okMakefileSublimeText.JPG" width="800" /></a></div><br /><h3><span style="font-size: large;">後記</span></h3><br />後來重灌安裝，想要做最小安裝，把不必要的通通不要裝。<br />一個一個取消要安裝的，留下g++和make之後，一執行出現了下面的錯誤訊息。<br /><blockquote class="tr_bq">無法啟動程式，因為您的電腦遺失 libgmp-10.dll。請嘗試重新安裝以修正這個問題。[3]</blockquote>或者<br /><blockquote class="tr_bq">無法啟動程式，因為您的電腦遺失 zlib1.dll。請嘗試重新安裝以修正這個問題。</blockquote>&nbsp;這個問題，只要安裝mingw32-base，就可以解決囉！<br /><br />但是萬一是這個問題<br /><blockquote class="tr_bq">無法啟動程式 因為您的電腦遺失msys-1.0.dll。請嘗試重新安裝以修正這個問題。</blockquote>就是點(一個一個取消要安裝)過頭囉！重新安裝你的g++吧！<br /><br /><br />參考資料:<br />[1] <a href="http://cloverhsc.blogspot.tw/2013/09/sublime-text-ccide-in-windows2-g.html" target="_blank">使用Sublime Text 來作為C/C++的IDE in Windows(2) ~G++ Compiler</a><br />[2]&nbsp;<a href="http://stackoverflow.com/questions/13815493/sublime-text-build-system-that-just-make" target="_blank">Sublime Text Build System that just “make”</a><br />[3]&nbsp;<a href="http://jex.logdown.com/posts/167511-windows-install-gcc-compiler-mingw" target="_blank">windows 安裝 gcc 編譯器 - MinGW</a>
