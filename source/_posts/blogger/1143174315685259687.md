---
title: C++單元測試(10) - Mock、Stub蓋台的目錄設定
date: 2015-11-10T10:45:00.003+08:00
tags: 
- TDD

categories:
- 舊部落格移植文章
---

# C++單元測試(10) - Mock、Stub蓋台的目錄設定

原文連結: https://darkblack01.blogspot.com/2015/11/cppunit.html
移植時的最後更新日期: 2015-11-10T10:47:33.477+08:00

在撰寫unit test時，有時會需要撰寫假物件。<br />有了假物件就不想參考真物件。<br /><br />但是如果參考目錄底下了置了真物件的.h檔，在unit test專案中，又設定了另外的Mock、Stub目錄放置假物件。<br />要如何才可以強制unit test只參考到假物件，而不是真物件呢？<br /><br />(參考到不拿來測試的真物件，就是麻煩呀~XD)<br /><br />在此，提供了一個技巧。(無意間發現的)<br />在C++中，往往會避免重複宣告，會有#ifndef...#endif的寫在在.h檔上，把class的宣告給夾起來。<br /><br />那麼，在專案檔的參考目錄設定，就先把Mock、Stub移上面，就可以讓Visual Studio先參考Mock、Stub裡的物件囉。<br /><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-xQFGSbao6Ew/VkFaIe5Gz3I/AAAAAAAAH0s/UAolrzzQUCc/s1600/MockFirst.jpg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://2.bp.blogspot.com/-xQFGSbao6Ew/VkFaIe5Gz3I/AAAAAAAAH0s/UAolrzzQUCc/s1600/MockFirst.jpg" /></a></div><br />(這真是一條險路呀~XD)<br /><br />目前測試使用Visual Studio 2005是成功的。
