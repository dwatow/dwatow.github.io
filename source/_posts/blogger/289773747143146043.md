---
title: 用字串技巧取檔名和路徑
date: 2012-08-15T17:06:00.002+08:00
tags: 
- WIN32 API/MFC

categories:
- 舊部落格移植文章
---

# 用字串技巧取檔名和路徑

原文連結: https://darkblack01.blogspot.com/2012/08/blog-post_15.html
移植時的最後更新日期: 2012-08-15T17:07:37.028+08:00

<span style="color: #3d85c6;">CString str;</span><br /><span style="color: #3d85c6;">CString path;</span><br /><span style="color: #3d85c6;">CString FileName;</span><br /><span style="color: #3d85c6;"><br /></span><span style="color: #3d85c6;">str = "C:\Program Files\Bonjour\mdnsNSP.dll"</span> &nbsp;<span style="color: #6fa8dc;">//隨便從硬碟中找一個檔案路徑來試</span><br /><br /><b>拆成檔名和路徑:</b><br /><span style="color: #3d85c6;">FileName =&nbsp; str.Right( str.GetLength() -&nbsp;str.ReverseFind('\\') - 1);</span><br /><span style="color: #3d85c6;">path =&nbsp; str.Left( str.ReverseFind('\\'));</span><br /><br /><b>程式結果:</b><br />FileName =&nbsp;mdnsNSP.dll<br />path&nbsp;=&nbsp;C:\Program Files\Bonjour<br /><br /><br /><b>合拼起來:</b><br /><span style="color: #3d85c6;">CString filepath;</span><br /><span style="color: #3d85c6;">filepath.Format("%s\\%s", path, FileName);</span><br /><br /><b>程式結果:</b><br />filepath =&nbsp;C:\Program Files\Bonjour\mdnsNSP.dll
