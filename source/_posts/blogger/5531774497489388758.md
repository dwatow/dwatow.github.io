---
title: "爛 code 收集器//添加邏輯後，要整理"
date: 2018-05-13T14:16:00.000+08:00
tags: 
- "爛 code 收集器"
categories:
- 舊部落格移植文章
---

# 爛 code 收集器//添加邏輯後，要整理

原文連結: https://darkblack02.blogspot.com/2018/05/code_55.html
移植時的最後更新日期: 2020-02-28T10:41:21.432+08:00

複雜的邏輯往往來自於不同時期的工程進行的添加。   <br />一流的工程師會寫出讓人好讀的程式碼，一樣一流的工程師接手會讀懂後，添加在適合的位置，而不是一直往巢狀式的方向加上去。<br /><pre class="prettyprint"><code class="language-cpp"><br />for( set<obj>::iterator it = ObjSet.begin(); it != ObjSet.end(); ++it )<br />{<br />    Obj *target_obj = 0;<br /><br />    if( (*it)-&gt;IsSpec == false )  //如果有使用 spec<br />    {<br />        target_obj = (*it);<br />    }<br />    else  // 並且 spec 已經有使用了<br />    {<br />        if( SpecInCurrProduct.count((*it)-&gt;getSpec) != FALSE )<br />        {<br />            target_obj = (*it);<br />        }<br />    }<br /><br />    if( target_obj == 0 )<br />    {<br />        continue;<br />    }<br /><br />     //other code...<br />}<br /></obj></code></pre><br />改寫成  <br /><pre class="prettyprint"><code class="language-cpp"><br />for( set<obj1>::iterator it = Obj1Set.begin(); it != Obj1Set.end(); ++it )<br />{<br />    Obj1 *target_obj1 = 0;<br /><br />    if( !(*it)-&gt;IsSpec || SpecInCurrProduct.find((*it)-&gt;getSpecId) != SpecInCurrProduct.end() )<br />        target_obj1 = (*it);<br />    // else<br />    //     continue;<br />     //other code...<br />}<br /></obj1></code></pre>
