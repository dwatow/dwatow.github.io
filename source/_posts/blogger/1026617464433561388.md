---
title: 自己動手架設wiki(9) - config檔
date: 2014-10-28T20:26:00.002+08:00
tags: 
- wiki

categories:
- 舊部落格移植文章
---

# 自己動手架設wiki(9) - config檔

原文連結: https://darkblack01.blogspot.com/2014/10/wiki9-config.html
移植時的最後更新日期: 2014-10-28T20:27:31.089+08:00

<h2><span style="font-size: x-large;">前言</span></h2>此文件是由<a href="http://darkblack01.blogspot.tw/2014/10/wiki10.html">Gitit使用者手冊</a>中的語法得到<br /><code><span style="font-family: Courier New, Courier, monospace;">~/wiki/$ gitit --print-default-config &gt; wiki.conf</span></code><br /><h2><span style="font-size: x-large;">內容</span></h2><h3><span style="font-size: large;">Gitit wiki configuration file</span></h3>設定web server觸發的IP<br /><pre><code>address: 0.0.0.0</code></pre>設定web server執行的port<br /><pre><code>port: 5001</code></pre>wiki系統的title(顯示在瀏覽器的標題列)<br /><pre><code>wiki-title: Wiki</code></pre>指定用來儲存wiki內容的分散式版本控制系統，可設定成Git, Darcs, Mercurial。<br /><pre><code>repository-type: Git</code></pre>指定repo(版本控制範圍根目錄)的路徑，如果它不存在gitit會在啟動時建立一個。<br /><pre><code>repository-path: wikidata</code></pre>何時要求身份驗證的權限<br />設定<code>none</code>，允許使用者匿名編輯<br />設定<code>modify</code>，需登錄才可以修改wiki的頁面<br />設定<code>read</code>，需登入才可以讀取wiki頁面<br /><pre><code>require-authentication: modify</code></pre>要求身份驗證的方式<br /><code>form</code> 意思是，使用者會透過gitit的web界面的表單(form)進行登錄。<br /><code>http</code> meansthat gitit will assume that HTTP authentication is inplace and take the logged in username from the “Authorization”field of the HTTP request header (in addition,the login/logout and registration links will besuppressed).<br /><code>http</code> 意思是，gitit會認為HTTP基本認證(HTTP authentication)是內建的並且從http request訊息開頭的“Authorization”取得使用者名稱來登錄(此外，登錄/登出和註冊連結將被隱藏)。<br /><code>generic</code> 意思是gitit會認為認證對應表內建的，會直接設定在<code>REMOTE\_USER</code>認證使用者的名稱。(e.g. mod_auth_cas on apache)。<br /><code>rpx</code> 意思是gitit 可以透過<a href="https://dashboard.janrain.com/signin?dest=">https://rpxnow.com</a>.整合其它系統的帳密來登入。<br />This requires that ‘rpx-domain’, ‘rpx-key’, and ‘base-url’be set below, and that ’curl’ be in the system path.<br />若要用這個，使用下面的<code>rpx-domain</code>, <code>rpx-key</code>, and <code>base-url</code>要設定。<code>curl</code>要設定成系統路徑。<br /><pre><code>authentication-method: form</code></pre>設定記錄使用者帳密資訊的檔案名稱。如果它不存在，gitit會建立一個(新的空白檔案)。如果<code>authentication-method</code>設定成<code>http</code>，這個檔案將不被使用。<br /><pre><code>user-file: gitit-users</code></pre>number of minutes of inactivity before a session expires.<br />幾分鐘之後算愈時連線。<br /><pre><code>session-timeout: 60</code></pre>指定<code>static</code>目錄(放置 javascript、css和圖片)。如果它不存在，gitit會建立一個，並且內建所需要的javascript、css和圖片。<br /><pre><code>static-dir: static</code></pre>指定wiki頁面的預設標記方式。可以設定的值: Markdown, RST, LaTeX, HTML, Markdown+LHS, RST+LHS 和 LaTeX+LHS。(+LHS 可以處理Haskell語法輸入的變數。欲知詳情，請看pandoc的文件)。如果用Markdown，pandoc的語法擴充(footnotes、delimited code blocks等) ，會啟用。Note that pandoc’sreStructuredText parser is not complete, so some pages may not berendered correctly if RST is selected. The same goes for LaTeX andHTML.<br /><pre><code>default-page-type: Markdown</code></pre>specifies how LaTeX math is to be displayed. Possible valuesare MathML, raw, mathjax, jsMath, and google. If mathml is selected,gitit will convert LaTeX math to MathML and link in a script,MathMLinHTML.js, that allows the MathML to be seen in Gecko browsers, IE +mathplayer, and Opera. In other browsers you may get a jumble of characters.If raw is selected, the LaTeX math will be displayed as raw LaTeX math.If mathjax is selected, gitit will link to the remote mathjax script.If jsMath is selected, gitit will link to the script /js/jsMath/easy/load.js,and will assume that jsMath has been installed into the js/jsMath directory.This is the most portable solution. If google is selected, the google chartAPI is called to render the formula as an image. This requires a connectionto google, and might raise a technical or a privacy problem.<br /><pre><code>math: MathML</code></pre>specifies the path to MathJax rendering script.You might want to use your own MathJax script to render formulas withoutInternet connection or if you want to use some special LaTeX packages.Note: path specified there cannot be an absolute path to a script on your hdd, instead you should run your (local if you wish) HTTP server which will serve the MathJax.js script. You can easily (in four lines of code) serveMathJax.js using http://happstack.com/docs/crashcourse/FileServing.htmlDo not forget the “http://” prefix (e.g. http://localhost:1234/MathJax.js)<br />mathjax-script: https://d3eoax9i5htok0.cloudfront. net/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML<br />specifies whether to show Haskell code blocks in “bird style”,with “&gt;” at the beginning of each line.<br /><pre><code>show-lhs-bird-tracks: no</code></pre>指定放置模板的目錄路徑。如果它不存在gitit會建立一個有預設模板的資料夾。使用者可能希望透過自定模板來修改wiki外觀。模板檔案HStringTemplate模板。變數要用兩個<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>符</mi><mi>號</mi><mi>夾</mi><mi>起</mi><mi>來</mi><mo>，</mo><mi>L</mi><mi>i</mi><mi>t</mi><mi>e</mi><mi>r</mi><mi>a</mi><mi>l</mi></mrow></math>’s must be backslash-escaped.<br /><pre><code>templates-dir: templates</code></pre>specifies the path of gitit’s log file. If it does not exist,gitit will create it. The log is in Apache combined log format.<br /><pre><code>log-file: gitit.log</code></pre>determines how much information is logged.Possible values (from most to least verbose) are DEBUG, INFO,NOTICE, WARNING, ERROR, CRITICAL, ALERT, EMERGENCY.<br /><pre><code>log-level: WARNING</code></pre>指定wiki首頁的頁面名稱。如果不存在Gitit在初始化時，會建立一個叫front page的頁面。<br /><pre><code>front-page: Front Page</code></pre>指定無法用Web界面刪除的頁面。(它們仍然可以直接使用git或darcs刪除)指定多頁時用逗號分開，保持空白則可以刪除每一頁。<br /><pre><code>no-delete: Front Page, Help</code></pre>指定無法透過Web界面編輯的頁面。保持空白則可以編輯每一頁。<br /><pre><code>no-edit: Help</code></pre>specifies text to be used in the change description if the authorleaves the “description” field blank. If default-summary is blank(the default), the author will be required to fill in the descriptionfield.<br /><pre><code>default-summary:</code></pre>specifies whether to print a tables of contents (with links tosections) on each wiki page.<br /><pre><code>table-of-contents: yes</code></pre>specifies a list of plugins to load. Plugins may be specifiedeither by their path or by their module name. If the plugin namestarts with Gitit.Plugin., gitit will assume that the plugin isan installed module and will not try to find a source file.Examples:plugins: plugins/DotPlugin.hs, CapitalizeEmphasisPlugin.hsplugins: plugins/DotPluginplugins: Gitit.Plugin.InterwikiLinks<br /><pre><code>plugins:</code></pre>specifies whether to cache rendered pages. Note that if use-feedis selected, feeds will be cached regardless of the value of use-cache.<br /><pre><code>use-cache: no</code></pre>directory where rendered pages will be cached<br /><pre><code>cache-dir: cache</code></pre>specifies an upper limit on the size (in bytes) of files uploadedthrough the wiki’s web interface.To disable uploads, set this to 0K.This will result in the uploads link disappearing and the _upload url becoming inactive.<br /><pre><code>max-upload-size: 100K</code></pre>specifies an upper limit on the size (in bytes) of pages<br /><pre><code>max-page-size: 100K</code></pre>if “yes”, causes debug information to be logged while gitit is running.<br /><pre><code>debug-mode: no</code></pre>specifies whether HTTP responses should be compressed.<br /><pre><code>compress-responses: yes<br /><br /><br /><br />mime-types-file: /etc/mime.types</code></pre>specifies the path of a file containing mime type mappings.Each line of the file should contain two fields, separated bywhitespace. The first field is the mime type, the second is afile extension.<br />For example:video/x-ms-wmx wmxIf the file is not found, some simple defaults will be used. if “yes”, causes gitit to use the reCAPTCHA service(http://recaptcha.net) to prevent bots from creating accounts.<br /><pre><code>use-recaptcha: no</code></pre>recaptcha-private-key: specifies the public and private keys for the reCAPTCHA service.To get these, you need to create an account at http://recaptcha.net.<br /><pre><code>recaptcha-public-key:</code></pre>註冊必答的問題<br />設定問題給想要建立帳號的使用者，此問題必答，問題和答案列表用逗號隔開。這可以用來當作是建立帳號的許可密碼，或者是代替驗證碼。<br />例如：<br />access-question: What is the code given to you by Ms. X?<br />access-question-answers: RED DOG, red dog<br /><pre><code>access-question-answers:</code></pre>rpx-domain: Specifies the domain and key of your RPX account. The domain isjust the prefix of the complete RPX domain, so if your full domainis ‘https://foo.rpxnow.com/’, use ‘foo’ as the value of rpx-domain.<br /><pre><code>rpx-key:</code></pre>specifies the command to use to send notification emails.‘%s’ will be replaced by the destination email address.The body of the message will be read from stdin.If this field is left blank, password reset will not be offered.<br /><pre><code>mail-command: sendmail %s</code></pre>gives the text of the message that will be sent to the user should shewant to reset her password, or change other registration info.The lines must be indented, and must begin with ‘&gt;’. The initialspaces and ‘&gt;’ will be stripped off. <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>u</mi><mi>s</mi><mi>e</mi><mi>r</mi><mi>n</mi><mi>a</mi><mi>m</mi><mi>e</mi></mrow></math> will be replacedby the user’s username, <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>u</mi><mi>s</mi><mi>e</mi><mi>r</mi><mi>e</mi><mi>m</mi><mi>a</mi><mi>i</mi><mi>l</mi></mrow></math> by her email address,<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>h</mi><mi>o</mi><mi>s</mi><mi>t</mi><mi>n</mi><mi>a</mi><mi>m</mi><mi>e</mi></mrow></math> by the hostname on which the wiki is running (asreturned by the hostname system call), <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>p</mi><mi>o</mi><mi>r</mi><mi>t</mi></mrow></math> by the port onwhich the wiki is running, and <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>r</mi><mi>e</mi><mi>s</mi><mi>e</mi><mi>t</mi><mi>l</mi><mi>i</mi><mi>n</mi><mi>k</mi></mrow></math> by therelative path of a reset link derived from the user’s existinghashed password. If your gitit wiki is being proxied to a locationother than the root path of <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>p</mi><mi>o</mi><mi>r</mi><mi>t</mi></mrow></math>, you should change the link toreflect this: for example, tohttp://<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>h</mi><mi>o</mi><mi>s</mi><mi>t</mi><mi>n</mi><mi>a</mi><mi>m</mi><mi>e</mi></mrow></math>/path/to/wiki<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>r</mi><mi>e</mi><mi>s</mi><mi>e</mi><mi>t</mi><mi>l</mi><mi>i</mi><mi>n</mi><mi>k</mi></mrow></math> orhttp://gitit.<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>h</mi><mi>o</mi><mi>s</mi><mi>t</mi><mi>n</mi><mi>a</mi><mi>m</mi><mi>e</mi></mrow></math><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>r</mi><mi>e</mi><mi>s</mi><mi>e</mi><mi>t</mi><mi>l</mi><mi>i</mi><mi>n</mi><mi>k</mi></mrow></math><br />reset-password-message: &gt; From: nobody@<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>h</mi><mi>o</mi><mi>s</mi><mi>t</mi><mi>n</mi><mi>a</mi><mi>m</mi><mi>e</mi></mrow></math> &gt; To: <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>u</mi><mi>s</mi><mi>e</mi><mi>r</mi><mi>e</mi><mi>m</mi><mi>a</mi><mi>i</mi><mi>l</mi></mrow></math> &gt; Subject: Wiki password reset &gt; &gt; Dear <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>u</mi><mi>s</mi><mi>e</mi><mi>r</mi><mi>n</mi><mi>a</mi><mi>m</mi><mi>e</mi></mrow></math>: &gt; &gt; To reset your password, please follow the link below: &gt; http://<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>h</mi><mi>o</mi><mi>s</mi><mi>t</mi><mi>n</mi><mi>a</mi><mi>m</mi><mi>e</mi></mrow></math>:<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>p</mi><mi>o</mi><mi>r</mi><mi>t</mi></mrow></math><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>r</mi><mi>e</mi><mi>s</mi><mi>e</mi><mi>t</mi><mi>l</mi><mi>i</mi><mi>n</mi><mi>k</mi></mrow></math> &gt; &gt; Yours sincerely, &gt; The Wiki Master<br />specifies whether an ATOM feed should be enabled (for the site and forindividual pages)<br /><pre><code>use-feed: no</code></pre>the base URL of the wiki, to be used in constructing feed IDsand RPX token_urls. Set this if use-feed is ‘yes’ orauthentication-method is ‘rpx’.<br /><pre><code>base-url:</code></pre>make wikilinks absolute with respect to the base-url.So, for example, in a wiki served at the base URL ‘/wiki’, on a pageSub/Page, the wikilink ‘<a href="https://www.blogger.com/Cactus" title="Go to wiki page">Cactus</a>’ will produce a link to’/wiki/Cactus’ if absolute-urls is ‘yes’, and a relative link to ‘Cactus’(referring to ‘/wiki/Sub/Cactus’) if absolute-urls is ‘no’.<br /><pre><code>absolute-urls: no</code></pre>number of days to be included in feeds.<br /><pre><code>feed-days: 14</code></pre>number of minutes to cache feeds before refreshing<br /><pre><code>feed-refresh-time: 60</code></pre>if yes, PDF will appear in export options. PDF will be created usingpdflatex, which must be installed and in the path. Note that PDFexports create significant additional server load.<br /><pre><code>pdf-export: no</code></pre>if a directory is specified, this will be searched for pandoccustomizations. These can include a templates/ directory for customtemplates for various export formats, an S5 directory for customS5 styles, and a reference.odt for ODT exports. If no directory isspecified, $HOME/.pandoc will be searched. See pandoc’s README formore information.<br /><pre><code>pandoc-user-data:</code></pre>if yes, all HTML (including that produced by pandoc) is filteredthrough xss-sanitize. Set to no only if you trust all of your users.
