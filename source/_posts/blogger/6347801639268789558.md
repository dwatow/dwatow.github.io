---
title: "K&R2心得//控制流程"
date: 2011-03-21T09:31:00.000+08:00
tags: 
- "C_and_Cpp"
- "KnR2"
categories:
- 舊部落格移植文章
---

# K&R2心得//控制流程

原文連結: https://darkblack01.blogspot.com/2011/03/k_3582.html
移植時的最後更新日期: 2015-12-23T14:16:57.707+08:00

<strong>翻譯問題</strong><br />標籤（label）→位標<br /><br /><strong>定義：</strong><br />指述（statement）：任何句子加上分號（；）。<br />區段（block）：使用大括弧｛｝將一群指述夾起來，並視為一道指述。<br /><br /><br /><a name='more'></a><br /><br /><strong>判斷語法</strong><br /><span style="color: red;">請養成使用大括弧的好習慣，有助於避免掉不必要的bug。</span><br /><br /><span style="color: blue;">if(運算式A)</span><br /><br /><span style="color: blue;">&nbsp;&nbsp; &nbsp;指述</span><span style="color: blue;">&nbsp;&nbsp; &nbsp;</span><span style="color: blue;"><span style="color: #007f40;">//運算式A = = 1時執行</span></span><br /><span style="color: blue;">else</span><br /><span style="color: blue;">&nbsp;&nbsp; &nbsp;指述</span><br /><span style="color: red;"><br /><span style="color: black;">單一決策，二選一</span><br /></span><br /><br /><span style="color: blue;">if(運算式A)</span><br /><span style="color: blue;">&nbsp;&nbsp; &nbsp;指述</span><span style="color: blue;">&nbsp;&nbsp;&nbsp;</span><span style="color: blue;"><span style="color: #007f40;">&nbsp;//運算式A = = 1</span></span><br /><span style="color: blue;">else if(運算式B)</span><br /><span style="color: blue;">&nbsp;&nbsp; &nbsp;指述</span><span style="color: blue;">&nbsp;&nbsp;&nbsp;<span style="color: #007f40;">&nbsp;//運算式B = = 1</span></span><br /><span style="color: blue;">else</span><br /><span style="color: blue;">&nbsp;&nbsp; &nbsp;指述</span><span style="color: blue;">&nbsp;&nbsp; <span style="color: #007f40;">&nbsp;//上面的運算式都不成立時，執行它，若無此行，則當作沒執行過if-else...</span></span><br /><span style="color: red;">多種決策，多次判斷（由上而下依序），只執行單一指述。</span><br />（成立其中一項就執行其中一項，執行完就結束整串）<br /><br /><span style="color: blue;">switch(運算式)</span><br /><span style="color: blue;">{</span><br /><span style="color: blue;">&nbsp;&nbsp; &nbsp;case 常數（運算式結果）:</span><br /><span style="color: blue;">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;指述</span><br /><span style="color: blue;">&nbsp;&nbsp; &nbsp;case 常數（運算式結果）:</span><br /><span style="color: blue;">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;指述</span><br /><span style="color: blue;">&nbsp;&nbsp; &nbsp;default: &nbsp; &nbsp; &nbsp; //上面的常數都不等於運算式結果時，執行它，若無此行，則當作沒執行過switch-case...</span><br /><span style="color: blue;">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;指述</span><br /><span style="color: blue;">}</span><br /><span style="color: red;">多種決策，一次判斷，決定<strong>開始執行的位置</strong></span>（可執行多個指述，falling through特性）。←不常見寫法<br />若限定執行單一指述，在指述最後加入<span style="color: red;">break; </span>←常見寫法<br /><br /><span style="color: red;"><span style="color: blue;"><strong><span style="color: blue;">switch-case</span></strong>語法</span>，可執行多個指述寫法，用於兩種可能性，有相同的指述。</span><br /><br /><strong>迴圈語法</strong><br /><br /><span style="color: red;">while和for差在哪？</span><br />一般用法：一般<strong>（有初始化、判斷句、控制運算）</strong>的情況，while和for的選擇，完全依個人喜好而定。<br />但是...<br />在只有判斷句的情況下，使用while顯得<span style="color: red;">比較好讀</span><br />相對的<br />在三句都有的情況之下，使用for顯得<span style="color: red;">比較好讀</span><br /><br /><span style="color: red;">把不相關的運算式寫在for的括弧內是不好（但是沒有不對）的習慣。</span><br /><br /><strong>特別用法：</strong><br /><br />while(1){} 和 for(;;){} 一樣 都是無窮迴圈，只能使用break;跳出！= =+<br /><br /><strong>特別中的特別用法：</strong>（,）的用法<br /><span style="color: blue;">for( i = 0 , j = 0 ; i &lt; 0 ; i++, j++ )</span><br />1. 初始化的動作包括 i 和 j，控制運算的動作包括 i 和 j<br />2. 巨集定義個運算式需包括很多計算時（還沒看過例子）<br />3. 指述的簡潔寫法<br /><span style="color: blue;">&nbsp;&nbsp; &nbsp;c = s [ i ];</span><br /><span style="color: blue;">&nbsp;&nbsp; &nbsp;s [ i ] = s [ j ];</span><br /><span style="color: blue;">&nbsp;&nbsp; &nbsp;s [ j ] = c ;</span><br /><span style="color: blue;">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;變成</span><br /><span style="color: blue;">&nbsp;&nbsp; &nbsp;c = s [ i ], s [ i ] = s [ j ], s [ j ] = c ;</span><br /><br />用逗號隔開的運算式是由左而右依序運算，且將最後的值及資料型態作為整個運算式的值和資料型態。<br /><br />while和for的運算順序，在第一章（C語言概述）有介紹過，如下。<br /><span style="color: #333333; font-family: verdana; font-size: 12px; line-height: 21px;"><strong>P.1-8</strong><br /><span style="color: blue;">while(a&gt;b){ &nbsp; &nbsp;printf("33333"); &nbsp; &nbsp;}<br /><span style="color: black;">意思是</span><br />if(a&gt;b){ &nbsp; &nbsp; printf("33333"); &nbsp; &nbsp;}<br />if(a&gt;b){ &nbsp; &nbsp; printf("33333"); &nbsp; &nbsp;}</span><br />....（做好幾次）<br /><br /><strong>P.1-14</strong><br /><span style="color: blue;">for(i=0;i&lt;100;i++){ &nbsp; &nbsp;printf("33333"); &nbsp; &nbsp;}</span><br />意思是<br /><span style="color: blue;">i=0; &nbsp;&nbsp;<span style="color: #007f40;">&nbsp;//只有一次</span><br />if(i&lt;100){ &nbsp; &nbsp;printf("33333"); &nbsp; &nbsp;}<br /></span><span style="color: blue;">i++; &nbsp;<span style="color: #007f40;">//在大括弧外，使用break;或continu;時跳出大括弧，卻還會執行它</span><br />if(i&lt;100){ &nbsp; &nbsp;printf("33333"); &nbsp; &nbsp;}<br />i++;<br /></span>...（做好幾次）</span><br /><br /><br /><strong>和do-while不一樣</strong><br /><br /><span style="color: blue;">do{ &nbsp; &nbsp;printf("33333"); &nbsp; &nbsp;</span><br /><span style="color: blue;">}while(a&gt;b)</span><br />意思是<br /><span style="color: blue;">printf("33333"); &nbsp; &nbsp; &nbsp;<span style="color: #007f40;">//先做一次，再執行判斷</span></span><br /><span style="color: blue;">if(a&gt;b){ &nbsp; &nbsp; printf("33333"); &nbsp; &nbsp;}</span><br /><span style="color: black;">....（做好幾次）</span><br /><span style="color: red;">先做一次，再判斷是否要重複</span><br /><br /><strong>break和continue（注意！不常用，別拼錯了）</strong><br />break; &nbsp; &nbsp; 停止這一層的迴圈或case，執行迴圈或case之後的指述。<br />continue; 停止這一層的迴圈， &nbsp; &nbsp; &nbsp; 再執行迴圈（也會執行控制運算i++）。<span style="color: red;">（case不用此語法）</span><br /><span style="color: red;">continue; 一定配合if，通常放在一群複雜指述之前，而該群指述是否執行取決該if的判斷。（其實看人寫啦！不一定）</span><br /><br />goto &nbsp; &nbsp; &nbsp; &nbsp;停止很多層的回圈或case（break和continu所辦不到的功能）<br />但比較不易閱讀也不易維護。<br />任何包含goto的程式都可以改寫為沒有goto的寫法，只是可能要宣告不少額變數來控制。
