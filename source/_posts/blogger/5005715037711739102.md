---
title: "爛 code 收集器//出現太多的成員物件存取...."
date: 2018-06-12T08:40:00.000+08:00
tags: 
- "爛 code 收集器"
categories:
- 舊部落格移植文章
---

# 爛 code 收集器//出現太多的成員物件存取....

原文連結: https://darkblack02.blogspot.com/2018/06/code.html
移植時的最後更新日期: 2020-02-28T10:41:21.406+08:00

在重構這本書有提到「若你的程式都對另一個物件取屬性，其實該function也許該屬於被取屬性的物件，比較恰當。」  下面這一段程式，大量的出現 TransactionResponseMessage 存取 MessageInfo 。   <br /><pre class="prettyprint"><code class="language-cpp"><br />public class TransactionResponseMessage : IResponseMessage<br />{<br />  public void Process(Message.MessageInfo MessageInfo)<br />  {<br />    MessageInfo.Transaction = Util.CreateTransaction();<br />    MessageInfo.Cs.Enter();<br />    try<br />    {<br />      if (MessageInfo.IsSuccess)<br />        ProcessMessageLogic(MessageInfo);<br />    }<br />    catch (Exception ex)<br />    {<br />      MessageInfo.Transaction.TxResult = false;<br />      MessageInfo.SetXmlElementData(false, ex.Message);<br />    }<br />    finally<br />    {<br />      if (MessageInfo.Transaction.TxResult)<br />          MessageInfo.Transaction.Commit();<br />      else<br />          MessageInfo.Transaction.Rollback();<br /><br />      MessageInfo.OnMessagePorcessCompleted();<br />    }<br />    MessageInfo.Cs.Leave();<br />  }<br /><br />  public virtual void ProcessMessageLogic(Message.MessageInfo MessageInfo)<br />  {<br />      throw new NotImplementedException();<br />  }<br />}<br /></code></pre>
