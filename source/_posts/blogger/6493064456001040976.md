---
title: "CString的GetBuffer大小事"
date: 2012-08-13T15:58:00.004+08:00
tags: 
- "WIN32 API/MFC"
categories:
- 舊部落格移植文章
---

# CString的GetBuffer大小事

原文連結: https://darkblack01.blogspot.com/2012/08/cstringgetbuffer.html
移植時的最後更新日期: 2012-08-13T18:05:17.323+08:00

常見的CString在網路上都查得到，所以好用到不用寫筆記。<br />但是，常常遇到CString::GetBuffer()的疑問就是，它究竟是做什麼的？？<br /><br /><a href="http://www.wretch.cc/blog/awaysu/22225494" target="_blank">CString常用方法簡介</a><br /><a href="http://blog.yam.com/swwuyam/article/12084277" target="_blank">CString::GetString()與CString::GetBuffer()</a><br /><br /><br />查了一些<a href="http://www.cppblog.com/wrhwww/archive/2010/04/24/113396.aspx" target="_blank">參考資料</a>發現<br /><br />CString::GetBuffer()和CString::ReleaseBuffer()是相對應的動態記憶體宣告與釋放。<br /><br />CString::GetBuffer() &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #999999;">//先用它取得許多記憶體空間，存放要處理的字串。</span><br />CString::ReleaseBuffer() &nbsp;<span style="color: #999999;">//存放好之後，再使用它釋放掉多餘不用的記憶體空間。</span><br /><br />看到這，你是不是想回去檢查Code看看有沒有什麼地方，是需要釋放釋放的呢？<br /><br />別急！還有番外篇<br /><br />CString::GetBufferSetLength()又是做什麼用的？<br /><br />若上面像是動態記憶體（malloc）的宣告，而這個就像是靜態的宣告（陣列）。<br />它是無法釋放的。
