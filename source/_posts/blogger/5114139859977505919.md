---
title: "DIY Git server by msysGit in windows"
date: 2013-09-24T14:00:00.004+08:00
tags: 
- "版本控制"
- "Git"
categories:
- 舊部落格移植文章
---

# DIY Git server by msysGit in windows

原文連結: https://darkblack01.blogspot.com/2013/09/gitdiy-git-server.html
移植時的最後更新日期: 2014-04-10T11:47:16.746+08:00

在公司想架一個git server，但是公司主要的獲利不是寫程式，所以在git server的使用上較沒有太大的需求，基本上就只是幾個會寫程式的同事互相git就好了<br /><br />一開始什麼都不懂，看了一篇<a href="http://bone.twbbs.org.tw/blog/1487.html" target="_blank">Windows 上架設 Git 伺服器</a>[1]之後覺得，還滿簡單的嘛！<br /><br />動手吧！<br /><br />結果還是搞了兩天！= =<br />這篇文章，寫得有點簡陋，在此做一個補完。<br /><br />首先，準備兩台電腦，一台是Server(稱S)，另一台是Client(稱C)，兩台都去下載<a href="https://code.google.com/p/msysgit/downloads/list" target="_blank">msysGit</a>。<br />並且安裝好。<br /><br />寫這篇文章時，最新版是1.8.4，而只要選擇最上面的版本就可以了。<br /><ol><li>Git-1.8.4-preview20130916.exe<br />Full installer for official Git for Windows 1.8.4</li><br /><li>PortableGit-1.8.4-preview20130916.7z<br />Portable application for official Git for Windows 1.8.4</li><br /><li>msysGit-netinstall-1.8.4-preview20130916.exe<br />Net installer if you want to hack on Git</li><br /><li>msysGit-fullinstall-1.8.4-preview20130916.exe<br />Full installer (self-contained) if you want to hack on Git</li></ol><br />兩台都灌好之後。<br /><br />在S電腦上:<br /><ol><li>安裝 msysgit(已完成)</li><li>執行 GIT-bash</li><li>在 git bash 裡執行下列指令</li><li>mdkir /d/GitRepo # 建立檔案庫資料夾集散地</li><li>mkdir /d/GitRepo/testRepo</li><li>cd /d/GitRepo/testRepo</li><li>git init <span style="color: #cc0000;">--bare</span> # 建立 Git repository</li></ol>讀了一下<a href="http://git-scm.com/book/zh/%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%8A%E7%9A%84-Git-%E5%9C%A8%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%8A%E9%83%A8%E7%BD%B2-Git" target="_blank">4.2 服务器上的 Git - 在服务器上部署 Git</a>的官方說明文章。<br /><span style="color: #3d85c6;">引用朋友在facebook給我的留言(真是金玉良言呀)</span><br /><span style="color: #3d85c6;">「如果當 central repo 用的話，就建立成 bare repo (`git init --bare`)」</span><br /><span style="color: #3d85c6;">「這樣作比較好啦，不然一般 repo 基本上是讓你 pull 的 不是讓你 push 的」</span><br /><br /><br />利用windows的網芳功能，將S電腦的GitRepo/做成網路磁碟機(G:)<br /><br />在C電腦上:<br /><ol><li>安裝 msysgit(已完成)</li><li>執行 GIT-bash</li><li>在 git bash 裡執行下列指令</li><li>mdkir /d/GitRepo # 建立檔案庫資料夾集散地</li><li>mkdir /d/GitRepo/testRepo</li><li>cd /d/GitRepo/testRepo</li><li>git init # 建立 Git repository</li></ol>這樣一來就可以在強大的<strike>(??)</strike>IT巨壁之內建立沒有傳輸安全性可言，卻可以運作的Git server。<br /><br />最後最後，因為我還有使用中文的壞習慣。<br />所以要設定可以相容中文唷[3]<br /><br /><span style="background-color: black; color: white; font-family: Courier New, Courier, monospace;">$ git config --global gui.encoding utf-8</span><br /><br /><br />有興趣的人可以在家試試唷！^^<br /><div><br /></div><div><br /></div><div><br /></div>後記<br />在git add 檔案時，不小心加入了專案檔，讓專案打開關閉都會讓檔案產生「變化」<br />那麼就要省略它們的變化<br />建一個.gitignore的文件檔，裡面直接寫你要省略的檔案<br /><br /><span style="font-family: Courier New, Courier, monospace;">.*</span><br /><span style="font-family: Courier New, Courier, monospace;">*/debug/*.*</span><br /><span style="font-family: Courier New, Courier, monospace;">*/release/*.*</span><br /><span style="font-family: Courier New, Courier, monospace;">*.suo</span><br /><span style="font-family: Courier New, Courier, monospace;">*.ncb</span><br /><br />主要是最後兩個.suo和.ncb，是visual studio的專案檔案之一。<br />只是因為光打開就會變動，所以才省略它們的變化。<br /><br />不過因為我把它們git add了，所以必須取消這個追縱。<br />使用下面的指令取消追縱。[4]<br /><br /><span style="background-color: black; color: white; font-family: Courier New, Courier, monospace;">$ git rm --cached your_filename</span><br /><br /><br /><br /><br />參考資料：<br />[1]&nbsp;<a href="http://bone.twbbs.org.tw/blog/1487.html" target="_blank">Windows 上架設 Git 伺服器</a><br />[2] <a href="http://git-scm.com/book/zh/%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%8A%E7%9A%84-Git-%E5%9C%A8%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%8A%E9%83%A8%E7%BD%B2-Git" target="_blank">4.2 服务器上的 Git - 在服务器上部署 Git</a><br />[3]&nbsp;<a href="http://huan-lin.blogspot.com/2011/05/install-git-server-and-apache-on.html" target="_blank">Git Server on Windows 安裝手記</a><br />[4]&nbsp;<a href="http://wildjcrt.pixnet.net/blog/post/28872894-gitignore-%E7%84%A1%E6%B3%95%E5%BF%BD%E7%95%A5%E6%AA%94%E6%A1%88%E7%9A%84%E8%A7%A3%E6%B3%95" target="_blank">gitignore 無法忽略檔案的解法</a>
