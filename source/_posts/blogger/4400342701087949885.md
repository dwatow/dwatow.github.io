---
title: "Iverilog + Gtkwave + Notepad++的verilog環境"
date: 2012-10-09T10:52:00.000+08:00
tags: 
- "流浪文章"
categories:
- 舊部落格移植文章
---

# Iverilog + Gtkwave + Notepad++的verilog環境

原文連結: https://darkblack01.blogspot.com/2012/10/iverilog-gtkwave-notepadverilog.html
移植時的最後更新日期: 2012-10-09T11:25:14.422+08:00

之前是用Xilinx或Altera的FPGA合成verilog<br />最近，和朋友交流，發現Linux的用法，在windows上的樣子就像這次要講的一樣<br />也就是這樣的組合可以讓你在windows體會一下linux的應用程式都怎麼使用。<br /><br />另外，iverilog是Icarus Verilog的縮寫。<br /><br />本文會提供一個sample code、指令<br />只要照著做，就可以建立這樣環境。<br /><br /><a name='more'></a><br /><br />首先下載這些軟體<br /><a href="http://notepad-plus-plus.org/" target="_blank">Notepad++</a><br /><a href="http://bleyer.org/icarus/" target="_blank">iverilog</a><br /><br />都安裝好之後，在Notepad++開新文件，並且直接開始寫verilog<br /><div class="separator" style="clear: both; text-align: center;"><a href="http://4.bp.blogspot.com/-pjZ6XmVFCYs/UHOZD6OD_ZI/AAAAAAAAEZM/gMlPyvGGZoI/s1600/iverilog+in+Npp.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://4.bp.blogspot.com/-pjZ6XmVFCYs/UHOZD6OD_ZI/AAAAAAAAEZM/gMlPyvGGZoI/s1600/iverilog+in+Npp.png" /></a></div><br />Sample Code:<br /><pre class="prettyprint"><code>//abc.v<br />module abc(iclk, irst, ocnt);<br /><br />input iclk, irst;<br />output [3:0] ocnt;<br />reg    [3:0] ocnt;<br /><br />always@(posedge iclk, posedge irst)<br />begin<br />    if (irst)<br />        ocnt &lt;= 0;<br />    else<br />        ocnt &lt;= ocnt + 1;<br />end<br />endmodule<br /></code></pre><pre class="prettyprint"><code>//abcTB.v is a testbench of abc.v<br />module abcTB();<br /><br />reg clk, rst;<br />wire [3:0] cnt;<br /><br />initial begin<br /> clk = 0;<br /> rst = 0;<br /> #10 rst = 1;<br /> #10 rst = 0;<br />end<br /><br />always #10 clk = ~clk;<br /><br />abc g(clk, rst, cnt);<br /><br />initial<br />begin<br />    $dumpfile("abc.vcd");<br />    $dumpvars;<br />end<br /><br />endmodule<br /></code></pre>在abcTB.v上面加上`include "abc.v";<br /><br />在Notepad++的「外掛模組」→「Plugin Manager」裡新增一個叫NppExec<br /><br />重開Notepad++，可以在「外掛模組」找到NppExec。<br /><br />在Notepad++<br />「外掛模組」→「NppExec」→「Follow $(CURRENT_DIRECTORY)」，打勾。<br />「外掛模組」→「NppExec」→「Show Console Dialog」<br /><br />在下面會出現console<br />輸入指令<br /><span style="font-family: Courier New, Courier, monospace;">iverilog&nbsp;abcTB.v</span><br />可以compiler.v檔。並且生成abc.vcd，另外a.out是預設檔名的輸出檔（不知道其作用！XD）。<br /><br />輸入指令<br /><span style="font-family: Courier New, Courier, monospace;">cmd</span><br />進入cmd模式<br /><br />輸入指令<br /><span style="font-family: Courier New, Courier, monospace;">gtkwave&nbsp;abc.vcd</span><br /><br />就可以看見波形的tool了<br />左下角的腳位全選按「Append」，再按上面的箭頭就可以看見波形了。<br /><br />
