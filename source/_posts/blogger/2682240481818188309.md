---
title: "Django模型: 注意事項(>1.7版)"
date: 2016-03-08T12:04:00.002+08:00
tags: 
- "Django"
categories:
- 舊部落格移植文章
---

# Django模型: 注意事項(>1.7版)

原文連結: https://darkblack01.blogspot.com/2016/03/django-for-19.html
移植時的最後更新日期: 2016-05-16T11:00:49.107+08:00

<h2><span style="font-size: x-large;">1. 建立模型[1]</span></h2>用python寫好django model的class<br /><br /><h2><span style="font-size: x-large;">2. 檢查資料[1]</span></h2><span style="background-color: black; color: white; font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">$python manage.py check</span> (1.7版之後限定)<br />看到0 errors found的通知<br /><br /><h2><span style="font-size: x-large;">3. 翻譯成資料庫語言[1]</span></h2><span style="background-color: black; color: white; font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">$python manage.py sqlmigrate &lt;app name&gt;</span><br /><br />建立migration資料檔<br />建立好資料庫模型後，我們必須針對目前的模型先建立一個migration檔<br /><br /><h3><span style="font-size: large;">建立異動紀錄[1]</span></h3><span style="background-color: black; color: white; font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">$ python manage.py makemigrations &lt;app name&gt;</span><br />如果模型有任何異動，則會產生新的migration檔，並放置在APP底下的migration資料夾<br /><span style="background-color: black; color: white; font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">$ python manage.py makemigrations</span><br />Django會對所有安裝好的APP做migration的檢查<br /><br /><h2><span style="font-size: x-large;">4. 模型與資料庫之同步[2]</span></h2><strike><span class="Apple-tab-span" style="white-space: pre;"> </span><span style="background-color: black; color: white; font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">$ python manage.py syncdb</span></strike><br /><br /><span style="color: red;">&gt;1.7版</span>(無須第4步)<br /><br /><h2><span style="font-size: x-large;">以&gt;1.7版的角度來複習一下剛剛的重點</span></h2>參考自1.9版的官網文件<br /><span class="Apple-tab-span" style="white-space: pre;"> </span><span style="background-color: black; color: white; font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">$ python manage.py makemigrations &lt;app name&gt;</span><br />告訴Djagno確認Model與上一版的異動<br /><span class="Apple-tab-span" style="white-space: pre;"> </span><span style="background-color: black; color: white; font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">$ python manage.py sqlmigrate &lt;app name&gt; &lt;vertion number&gt;</span><br />依目前已確認的模型，生成SQL(非必要執行)<br /><span class="Apple-tab-span" style="white-space: pre;"> </span><span style="background-color: black; color: white; font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">$ python manage.py migrate</span><br />把模型變成真的Table<br /><br /><h2><span style="font-size: x-large;">參考資料</span></h2>[1]&nbsp;<a href="http://dokelung-blog.logdown.com/posts/220606-django-notes-5-model-and-database" target="_blank">Django筆記(5) - 模型與資料庫</a><br />[2]&nbsp;<a href="http://stackoverflow.com/questions/29683494/what-should-i-use-instead-of-syncdb-in-django-1-9" target="_blank">What should I use instead of syncdb in Django 1.9?</a>
