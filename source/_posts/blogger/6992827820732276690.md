---
title: Jenkins的C++ 靜態程式碼分析 Cppcheck
date: 2015-08-21T10:12:00.003+08:00
tags: 
- C_and_Cpp
,- Jenkins

categories:
- 舊部落格移植文章
---

# Jenkins的C++ 靜態程式碼分析 Cppcheck

原文連結: https://darkblack01.blogspot.com/2015/08/jenkinsc-cppcheck.html
移植時的最後更新日期: 2015-12-23T14:16:57.713+08:00

Jenkins加上靜態程式碼分析程式，真的是很棒的一件事。<br />所以，我也要來加！<br /><br />因為我寫的是C++所以，選用了一個適合C++的程式碼分析程式 - Cppcheck<br />其實還有很多工具可以使用。<br />不過因為看見<a href="http://www.dotblogs.com.tw/larrynung/archive/2011/10/29/47866.aspx" target="_blank">一篇文章</a>[1]介紹，操作起來比SourceMonitor更加簡單好用，UI介面只要按一個鍵就開始分析了！哇呼！有沒有這麼簡單？！<br />但是其實兩個程式，不太一樣啦！<br /><ul><li>Cppcheck是分析編譯器無法做到的事。</li><li>SourceMonitor是分析程式碼複雜度之類的事。</li></ul><a name='more'></a><h2><span style="font-size: x-large;">Command執行</span></h2>所以，就使用它了！但是！<br />command，有夠多東西可以調整的啦！&gt;&lt;<br /><br />不過原則上，依照<a href="https://wiki.jenkins-ci.org/display/JENKINS/Cppcheck+Plugin" target="_blank">Jenkins-plugin的介紹</a>[2]來設定，就可以了！XDD<br />有夠懶的！<br />只差在我有指定目錄裡的 *.cpp *.h, <span style="color: red;">子目錄也是手動指定</span>！<br /><br />另外，因為我負責的code有點肥大，執行一次(含4x分鐘的編譯)需要一個小時。<br />所以，就希望它可以晚上再執行<br /><br />研究一下批次檔怎麼寫IF，又要怎麼寫關係運算子，又要怎麼抓時間的數字。<br /><br /><h2><span style="font-size: x-large;">如果現在的時間，大於21</span></h2><span style="background-color: black; color: white; font-family: Courier New, Courier, monospace;">IF %time:~0,2% GTR 21 (做你想做的事)</span><br /><br /><h3><span style="font-size: large;">當下的時間變數</span></h3><span style="background-color: black; color: white; font-family: Courier New, Courier, monospace;">%time</span><br /><br /><h3><span style="font-size: large;">取子字串, 0開頭, 2個字元[3]</span></h3><span style="background-color: black; color: white; font-family: Courier New, Courier, monospace;">"12:21:52":~0,2%</span><br /><br /><h3><span style="font-size: large;">批次檔的關係運算子[4]</span></h3><ul><li>EQU -等於</li><li>NEQ -不等於</li><li>LSS -小於</li><li>LEQ -小於等於</li><li>GTR -大於</li><li>GEQ -大於等於</li></ul><h2><span style="font-size: x-large;">參考資料:  </span></h2>[1] <a href="http://www.dotblogs.com.tw/larrynung/archive/2011/10/29/47866.aspx" target="_blank">[C++]使用Cppcheck靜態分析工具輔助檢查C++程式潛在問題</a><br />[2] <a href="https://wiki.jenkins-ci.org/display/JENKINS/Cppcheck+Plugin" target="_blank">Cppcheck Plugin</a><br />[3] <a href="http://blog.miniasp.com/post/2009/11/03/How-to-get-system-date-time-in-batch-file-part-III.aspx" target="_blank">如何在 Batch 檔取得系統的日期、時間欄位 (第三版)</a><br />[4] <a href="http://nobrain-place.blogspot.tw/2009/04/3.html" target="_blank">動手做批次檔3</a>
