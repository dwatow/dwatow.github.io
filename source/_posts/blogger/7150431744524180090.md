---
title: .RAW的Smooth
date: 2011-05-29T10:07:00.000+08:00
tags: 
- 設計
,- C_and_Cpp

categories:
- 舊部落格移植文章
---

# .RAW的Smooth

原文連結: https://darkblack01.blogspot.com/2011/05/blog-post_28.html
移植時的最後更新日期: 2015-12-23T14:16:57.720+08:00

<pre class="prettyprint"><code>#include &lt;iostream&gt;<br />#include &lt;fstream&gt;<br /><br />using namespace std;<br /><br />#define frameH 1920<br />#define frameV 1080<br /><br />int main()<br /><br />{<br />    unsigned char *fp = new unsigned char [frameH*frameV];<br /><br />    fstream file;<br />    file.open("W:\a.raw", fstream::in | fstream::binary);<br />    if( !file.good())<br />        cout &lt;&lt; "file讀檔失敗" &lt;&lt; endl;<br /><br />    file.read((char*) fp, frameH*frameV);    //轉態unsigned char* 轉態成 char* 放入函式<br />    file.close();<br /><br />    int *ifp = new  int [frameH*frameV];<br /><br />    for(int i = 0 ; i &lt; frameH ; ++i){<br />    for(int j = 0 ; j &lt; frameV ; ++j){<br />            *(ifp+i+j*frameH) = *(fp+i+j*frameH);<br />    }}<br /><br />    int temp;<br /><br />    for(int i = 1 ; i &lt; frameH-1 ; ++i){<br />    for(int j = 1 ; j &lt; frameV-1 ; ++j){<br />        temp =<br />            *(ifp + (i-1) + (j-1)* frameH) +<br />            *(ifp +  i    + (j-1)* frameH) +<br />            *(ifp + (i+1) + (j-1)* frameH) +<br />            *(ifp + (i-1) +  j   * frameH) +<br />            *(ifp +  i    +  j   * frameH) +<br />            *(ifp + (i+1) +  j   * frameH) +<br />            *(ifp + (i-1) + (j+1)* frameH) +<br />            *(ifp +  i    + (j+1)* frameH) +<br />            *(ifp + (i+1) + (j+1)* frameH);<br /><br />        *(ifp+i+j*frameH) = (temp /9);<br />    }}<br /><br />    for(int i = 0 ; i &lt; frameH ; ++i){<br />    for(int j = 0 ; j &lt; frameV ; ++j){<br />        *(fp+i+j*frameH) = *(ifp+i+j*frameH);<br />    }}<br /><br />    fstream ofile;<br />    ofile.open("W:\ba.raw", fstream::out | fstream::binary);<br />    if( !ofile.good())<br />        cout &lt;&lt; "ofile讀檔失敗" &lt;&lt; endl;<br /><br />    ofile.write((char*) fp, frameH*frameV);  //轉態unsigned char* 轉態成 char* 放入函式<br />    ofile.close();<br /><br />    delete [] fp;<br />    delete [] ifp;<br />    system("PAUSE");<br />    return 0;<br />}</code></pre>
