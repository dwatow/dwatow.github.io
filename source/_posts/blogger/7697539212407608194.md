---
title: Sliverlight//Bindling
date: 2014-05-12T09:20:00.002+08:00
tags: 
- .new framework
,- C sharp
,- Sliverlight

categories:
- 舊部落格移植文章
---

# Sliverlight//Bindling

原文連結: https://darkblack01.blogspot.com/2014/05/sliverlightbindling.html
移植時的最後更新日期: 2014-05-15T14:14:26.732+08:00

一開始，先來看看Binding without C#的做法，適合給前端的視覺設計做動態頁面時，有全權的決定權(因為，都用XAML)。<br />這個例子是一個Slider調整TextBlock的FontSize屬性。<br />拉動Slider，TextBlock的字型大小就會改變。 XML檔<br /><pre class="prettyprint"><code class="language-xml">&lt;Slider x:Name="sliderFontSize" Minimum="9" Maximum="400" Value="16"/&gt;<br />&lt;TextBlock x:Name="lblSampleText" Text="Simple Text" <br />           FontSize="{Binding ElementName=sliderFontSize, Path=Value}"/&gt;<br /></code></pre>Binding時，ElementName指定XAML的物件，並且使用Path指定該物件的其中一個屬性。達到了不需要C#而達到了動態頁面的效果。 <br />我們來看看，如何利用CS建立物件並且利用Blinding呼叫物件屬性顯示在XML上面的兩個例子。<br /><br /><h3><span style="font-size: large;">Binding有分成三種模式。</span></h3>(目前，都還沒加上C#，以純XAML的物件傳值在討論)<br /><ul><li>One-time:&nbsp;</li>將目標記憶體位址初始化此XML的屬性，並且取消Binding的關係。<br /><li>One-Way:&nbsp;</li>此XML的屬性，像(C++的)指標指向某指定的記憶體位址，如果XML的屬性被覆寫，就失去了Binding的關係，如果覆寫記憶體位址，則會更新XML的屬性。 <li>Two-Way:&nbsp;</li>此XML的屬性，像(C++的)參考，與某一個XML的物件互為同一個記憶體位址，可以更新(XML的物件)彼此。<br /></ul><br /><br />後續是有加上C#的code時，Bindling的情況，我自己也不是很懂！哈哈。<br /><br />第一個例子，介面的Button如何和程式碼的Button連結在一起，並且觸發Click的事件，並且執行設定好關聯的函式myButton_Click。<br /><br />XML檔 <br /><pre class="prettyprint"><code class="language-xml">    &lt;Grid x:Name="LayoutRoot" Background="White"&gt;<br />        &lt;Grid.ColumnDefinitions&gt;<br />            &lt;ColumnDefinition Width="100"/&gt;<br />            &lt;ColumnDefinition /&gt;<br />        &lt;/Grid.ColumnDefinitions&gt;<br /><br />        &lt;Canvas ...&gt;<br />            &lt;Button Name="xmlButton" Click="myButton_Click" Content="{Binding Content}" ... /&gt;<br />        &lt;/Canvas&gt;<br />        <br />    &lt;/Grid&gt;</code></pre>CS檔 <br /><pre class="prettyprint"><code class="language-cs">namespace SliverlightOne<br />{<br />    public partial class MainPage : UserControl<br />    {<br />        //...<br />        private int i;<br /><br />        public MainPage()<br />        {<br />            InitializeComponent();<br /><br />            Button csButton = new Button() { Content = "this is ..." };//obj editor<br />            xmlButton.DataContext = csButton; //xml obj = cs obj<br />            //...<br />        }<br /><br />        private void myButton_Click(object sender, RoutedEventArgs e)<br />        {<br />            xmlButton.Content = ++i;<br />        }<br />        //...<br />    }<br />}</code></pre>第二個例子，我們來看看介面的DataGrid和CS的List如何建立關聯性，並且利用Blinding呼叫物件屬性顯示在介面上。<br />XML檔<br />其中 Canvas.Left="10" AutoGenerateColumns="False" 不自動生成顯示表格，為了要自訂欄位標籤 <br /><pre class="prettyprint"><code class="language-xml">    &lt;Grid x:Name="LayoutRoot" Background="White"&gt;<br />        &lt;Grid.ColumnDefinitions&gt;<br />            &lt;ColumnDefinition Width="100"/&gt;<br />            &lt;ColumnDefinition /&gt;<br />        &lt;/Grid.ColumnDefinitions&gt;<br />        &lt;Canvas Grid.Column="1" ...&gt;<br />            &lt;sdk:DataGrid Name="dgData" Canvas.Left="10" AutoGenerateColumns="False" ...&gt;<br />                &lt;sdk:DataGrid.Columns&gt;<br />                    &lt;sdk:DataGridTextColumn Binding="{Binding Id}" Header="_Id"/&gt;<br />                    &lt;sdk:DataGridTextColumn Binding="{Binding Name}" Header="_Name"/&gt;<br />                &lt;/sdk:DataGrid.Columns&gt;<br />            &lt;/sdk:DataGrid&gt;<br /><br />        &lt;/Canvas&gt;<br />    &lt;/Grid&gt;<br />&lt;/UserControl&gt;</code></pre>CS檔 <br /><pre class="prettyprint"><code class="language-cs">namespace SliverlightOne<br />{<br />    public partial class MainPage : UserControl<br />    {<br />        public class abc  //define my Data class<br />        {<br />            private string cv_Id;<br /><br />            public string Id<br />            {<br />                get { return cv_Id; }<br />                set { cv_Id = value; }<br />            }<br />        }<br /><br />        public MainPage()<br />        {<br />            InitializeComponent();<br />            //...<br />            List&lt;abc&gt; tList = new List&lt;abc&gt;();<br />            tList.Add(new abc { Id = "a", Name = "aa" });<br />            tList.Add(new abc { Id = "B", Name = "BB" });<br />            dgData.ItemsSource = tList; //xml obj = cs obj<br />        }<br />    }<br />}</code></pre>
